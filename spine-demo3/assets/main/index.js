window.__require = function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var b = o.split("/");
        b = b[b.length - 1];
        if (!t[b]) {
          var a = "function" == typeof __require && __require;
          if (!u && a) return a(b, !0);
          if (i) return i(b, !0);
          throw new Error("Cannot find module '" + o + "'");
        }
        o = b;
      }
      var f = n[o] = {
        exports: {}
      };
      t[o][0].call(f.exports, function(e) {
        var n = t[o][1][e];
        return s(n || e);
      }, f, f.exports, e, t, n, r);
    }
    return n[o].exports;
  }
  var i = "function" == typeof __require && __require;
  for (var o = 0; o < r.length; o++) s(r[o]);
  return s;
}({
  1: [ function(require, module, exports) {
    "use strict";
    exports.byteLength = byteLength;
    exports.toByteArray = toByteArray;
    exports.fromByteArray = fromByteArray;
    var lookup = [];
    var revLookup = [];
    var Arr = "undefined" !== typeof Uint8Array ? Uint8Array : Array;
    var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for (var i = 0, len = code.length; i < len; ++i) {
      lookup[i] = code[i];
      revLookup[code.charCodeAt(i)] = i;
    }
    revLookup["-".charCodeAt(0)] = 62;
    revLookup["_".charCodeAt(0)] = 63;
    function getLens(b64) {
      var len = b64.length;
      if (len % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
      var validLen = b64.indexOf("=");
      -1 === validLen && (validLen = len);
      var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;
      return [ validLen, placeHoldersLen ];
    }
    function byteLength(b64) {
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      return 3 * (validLen + placeHoldersLen) / 4 - placeHoldersLen;
    }
    function _byteLength(b64, validLen, placeHoldersLen) {
      return 3 * (validLen + placeHoldersLen) / 4 - placeHoldersLen;
    }
    function toByteArray(b64) {
      var tmp;
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
      var curByte = 0;
      var len = placeHoldersLen > 0 ? validLen - 4 : validLen;
      var i;
      for (i = 0; i < len; i += 4) {
        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];
        arr[curByte++] = tmp >> 16 & 255;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = 255 & tmp;
      }
      if (2 === placeHoldersLen) {
        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;
        arr[curByte++] = 255 & tmp;
      }
      if (1 === placeHoldersLen) {
        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = 255 & tmp;
      }
      return arr;
    }
    function tripletToBase64(num) {
      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[63 & num];
    }
    function encodeChunk(uint8, start, end) {
      var tmp;
      var output = [];
      for (var i = start; i < end; i += 3) {
        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (255 & uint8[i + 2]);
        output.push(tripletToBase64(tmp));
      }
      return output.join("");
    }
    function fromByteArray(uint8) {
      var tmp;
      var len = uint8.length;
      var extraBytes = len % 3;
      var parts = [];
      var maxChunkLength = 16383;
      for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));
      if (1 === extraBytes) {
        tmp = uint8[len - 1];
        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "==");
      } else if (2 === extraBytes) {
        tmp = (uint8[len - 2] << 8) + uint8[len - 1];
        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "=");
      }
      return parts.join("");
    }
  }, {} ],
  2: [ function(require, module, exports) {
    (function(global) {
      "use strict";
      var base64 = require("base64-js");
      var ieee754 = require("ieee754");
      var isArray = require("isarray");
      exports.Buffer = Buffer;
      exports.SlowBuffer = SlowBuffer;
      exports.INSPECT_MAX_BYTES = 50;
      Buffer.TYPED_ARRAY_SUPPORT = void 0 !== global.TYPED_ARRAY_SUPPORT ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();
      exports.kMaxLength = kMaxLength();
      function typedArraySupport() {
        try {
          var arr = new Uint8Array(1);
          arr.__proto__ = {
            __proto__: Uint8Array.prototype,
            foo: function() {
              return 42;
            }
          };
          return 42 === arr.foo() && "function" === typeof arr.subarray && 0 === arr.subarray(1, 1).byteLength;
        } catch (e) {
          return false;
        }
      }
      function kMaxLength() {
        return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
      }
      function createBuffer(that, length) {
        if (kMaxLength() < length) throw new RangeError("Invalid typed array length");
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          that = new Uint8Array(length);
          that.__proto__ = Buffer.prototype;
        } else {
          null === that && (that = new Buffer(length));
          that.length = length;
        }
        return that;
      }
      function Buffer(arg, encodingOrOffset, length) {
        if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) return new Buffer(arg, encodingOrOffset, length);
        if ("number" === typeof arg) {
          if ("string" === typeof encodingOrOffset) throw new Error("If encoding is specified then the first argument must be a string");
          return allocUnsafe(this, arg);
        }
        return from(this, arg, encodingOrOffset, length);
      }
      Buffer.poolSize = 8192;
      Buffer._augment = function(arr) {
        arr.__proto__ = Buffer.prototype;
        return arr;
      };
      function from(that, value, encodingOrOffset, length) {
        if ("number" === typeof value) throw new TypeError('"value" argument must not be a number');
        if ("undefined" !== typeof ArrayBuffer && value instanceof ArrayBuffer) return fromArrayBuffer(that, value, encodingOrOffset, length);
        if ("string" === typeof value) return fromString(that, value, encodingOrOffset);
        return fromObject(that, value);
      }
      Buffer.from = function(value, encodingOrOffset, length) {
        return from(null, value, encodingOrOffset, length);
      };
      if (Buffer.TYPED_ARRAY_SUPPORT) {
        Buffer.prototype.__proto__ = Uint8Array.prototype;
        Buffer.__proto__ = Uint8Array;
        "undefined" !== typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, {
          value: null,
          configurable: true
        });
      }
      function assertSize(size) {
        if ("number" !== typeof size) throw new TypeError('"size" argument must be a number');
        if (size < 0) throw new RangeError('"size" argument must not be negative');
      }
      function alloc(that, size, fill, encoding) {
        assertSize(size);
        if (size <= 0) return createBuffer(that, size);
        if (void 0 !== fill) return "string" === typeof encoding ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);
        return createBuffer(that, size);
      }
      Buffer.alloc = function(size, fill, encoding) {
        return alloc(null, size, fill, encoding);
      };
      function allocUnsafe(that, size) {
        assertSize(size);
        that = createBuffer(that, size < 0 ? 0 : 0 | checked(size));
        if (!Buffer.TYPED_ARRAY_SUPPORT) for (var i = 0; i < size; ++i) that[i] = 0;
        return that;
      }
      Buffer.allocUnsafe = function(size) {
        return allocUnsafe(null, size);
      };
      Buffer.allocUnsafeSlow = function(size) {
        return allocUnsafe(null, size);
      };
      function fromString(that, string, encoding) {
        "string" === typeof encoding && "" !== encoding || (encoding = "utf8");
        if (!Buffer.isEncoding(encoding)) throw new TypeError('"encoding" must be a valid string encoding');
        var length = 0 | byteLength(string, encoding);
        that = createBuffer(that, length);
        var actual = that.write(string, encoding);
        actual !== length && (that = that.slice(0, actual));
        return that;
      }
      function fromArrayLike(that, array) {
        var length = array.length < 0 ? 0 : 0 | checked(array.length);
        that = createBuffer(that, length);
        for (var i = 0; i < length; i += 1) that[i] = 255 & array[i];
        return that;
      }
      function fromArrayBuffer(that, array, byteOffset, length) {
        array.byteLength;
        if (byteOffset < 0 || array.byteLength < byteOffset) throw new RangeError("'offset' is out of bounds");
        if (array.byteLength < byteOffset + (length || 0)) throw new RangeError("'length' is out of bounds");
        array = void 0 === byteOffset && void 0 === length ? new Uint8Array(array) : void 0 === length ? new Uint8Array(array, byteOffset) : new Uint8Array(array, byteOffset, length);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          that = array;
          that.__proto__ = Buffer.prototype;
        } else that = fromArrayLike(that, array);
        return that;
      }
      function fromObject(that, obj) {
        if (Buffer.isBuffer(obj)) {
          var len = 0 | checked(obj.length);
          that = createBuffer(that, len);
          if (0 === that.length) return that;
          obj.copy(that, 0, 0, len);
          return that;
        }
        if (obj) {
          if ("undefined" !== typeof ArrayBuffer && obj.buffer instanceof ArrayBuffer || "length" in obj) {
            if ("number" !== typeof obj.length || isnan(obj.length)) return createBuffer(that, 0);
            return fromArrayLike(that, obj);
          }
          if ("Buffer" === obj.type && isArray(obj.data)) return fromArrayLike(that, obj.data);
        }
        throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
      }
      function checked(length) {
        if (length >= kMaxLength()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
        return 0 | length;
      }
      function SlowBuffer(length) {
        +length != length && (length = 0);
        return Buffer.alloc(+length);
      }
      Buffer.isBuffer = function isBuffer(b) {
        return !!(null != b && b._isBuffer);
      };
      Buffer.compare = function compare(a, b) {
        if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) throw new TypeError("Arguments must be Buffers");
        if (a === b) return 0;
        var x = a.length;
        var y = b.length;
        for (var i = 0, len = Math.min(x, y); i < len; ++i) if (a[i] !== b[i]) {
          x = a[i];
          y = b[i];
          break;
        }
        if (x < y) return -1;
        if (y < x) return 1;
        return 0;
      };
      Buffer.isEncoding = function isEncoding(encoding) {
        switch (String(encoding).toLowerCase()) {
         case "hex":
         case "utf8":
         case "utf-8":
         case "ascii":
         case "latin1":
         case "binary":
         case "base64":
         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return true;

         default:
          return false;
        }
      };
      Buffer.concat = function concat(list, length) {
        if (!isArray(list)) throw new TypeError('"list" argument must be an Array of Buffers');
        if (0 === list.length) return Buffer.alloc(0);
        var i;
        if (void 0 === length) {
          length = 0;
          for (i = 0; i < list.length; ++i) length += list[i].length;
        }
        var buffer = Buffer.allocUnsafe(length);
        var pos = 0;
        for (i = 0; i < list.length; ++i) {
          var buf = list[i];
          if (!Buffer.isBuffer(buf)) throw new TypeError('"list" argument must be an Array of Buffers');
          buf.copy(buffer, pos);
          pos += buf.length;
        }
        return buffer;
      };
      function byteLength(string, encoding) {
        if (Buffer.isBuffer(string)) return string.length;
        if ("undefined" !== typeof ArrayBuffer && "function" === typeof ArrayBuffer.isView && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) return string.byteLength;
        "string" !== typeof string && (string = "" + string);
        var len = string.length;
        if (0 === len) return 0;
        var loweredCase = false;
        for (;;) switch (encoding) {
         case "ascii":
         case "latin1":
         case "binary":
          return len;

         case "utf8":
         case "utf-8":
         case void 0:
          return utf8ToBytes(string).length;

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return 2 * len;

         case "hex":
          return len >>> 1;

         case "base64":
          return base64ToBytes(string).length;

         default:
          if (loweredCase) return utf8ToBytes(string).length;
          encoding = ("" + encoding).toLowerCase();
          loweredCase = true;
        }
      }
      Buffer.byteLength = byteLength;
      function slowToString(encoding, start, end) {
        var loweredCase = false;
        (void 0 === start || start < 0) && (start = 0);
        if (start > this.length) return "";
        (void 0 === end || end > this.length) && (end = this.length);
        if (end <= 0) return "";
        end >>>= 0;
        start >>>= 0;
        if (end <= start) return "";
        encoding || (encoding = "utf8");
        while (true) switch (encoding) {
         case "hex":
          return hexSlice(this, start, end);

         case "utf8":
         case "utf-8":
          return utf8Slice(this, start, end);

         case "ascii":
          return asciiSlice(this, start, end);

         case "latin1":
         case "binary":
          return latin1Slice(this, start, end);

         case "base64":
          return base64Slice(this, start, end);

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return utf16leSlice(this, start, end);

         default:
          if (loweredCase) throw new TypeError("Unknown encoding: " + encoding);
          encoding = (encoding + "").toLowerCase();
          loweredCase = true;
        }
      }
      Buffer.prototype._isBuffer = true;
      function swap(b, n, m) {
        var i = b[n];
        b[n] = b[m];
        b[m] = i;
      }
      Buffer.prototype.swap16 = function swap16() {
        var len = this.length;
        if (len % 2 !== 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
        for (var i = 0; i < len; i += 2) swap(this, i, i + 1);
        return this;
      };
      Buffer.prototype.swap32 = function swap32() {
        var len = this.length;
        if (len % 4 !== 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
        for (var i = 0; i < len; i += 4) {
          swap(this, i, i + 3);
          swap(this, i + 1, i + 2);
        }
        return this;
      };
      Buffer.prototype.swap64 = function swap64() {
        var len = this.length;
        if (len % 8 !== 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
        for (var i = 0; i < len; i += 8) {
          swap(this, i, i + 7);
          swap(this, i + 1, i + 6);
          swap(this, i + 2, i + 5);
          swap(this, i + 3, i + 4);
        }
        return this;
      };
      Buffer.prototype.toString = function toString() {
        var length = 0 | this.length;
        if (0 === length) return "";
        if (0 === arguments.length) return utf8Slice(this, 0, length);
        return slowToString.apply(this, arguments);
      };
      Buffer.prototype.equals = function equals(b) {
        if (!Buffer.isBuffer(b)) throw new TypeError("Argument must be a Buffer");
        if (this === b) return true;
        return 0 === Buffer.compare(this, b);
      };
      Buffer.prototype.inspect = function inspect() {
        var str = "";
        var max = exports.INSPECT_MAX_BYTES;
        if (this.length > 0) {
          str = this.toString("hex", 0, max).match(/.{2}/g).join(" ");
          this.length > max && (str += " ... ");
        }
        return "<Buffer " + str + ">";
      };
      Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
        if (!Buffer.isBuffer(target)) throw new TypeError("Argument must be a Buffer");
        void 0 === start && (start = 0);
        void 0 === end && (end = target ? target.length : 0);
        void 0 === thisStart && (thisStart = 0);
        void 0 === thisEnd && (thisEnd = this.length);
        if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) throw new RangeError("out of range index");
        if (thisStart >= thisEnd && start >= end) return 0;
        if (thisStart >= thisEnd) return -1;
        if (start >= end) return 1;
        start >>>= 0;
        end >>>= 0;
        thisStart >>>= 0;
        thisEnd >>>= 0;
        if (this === target) return 0;
        var x = thisEnd - thisStart;
        var y = end - start;
        var len = Math.min(x, y);
        var thisCopy = this.slice(thisStart, thisEnd);
        var targetCopy = target.slice(start, end);
        for (var i = 0; i < len; ++i) if (thisCopy[i] !== targetCopy[i]) {
          x = thisCopy[i];
          y = targetCopy[i];
          break;
        }
        if (x < y) return -1;
        if (y < x) return 1;
        return 0;
      };
      function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
        if (0 === buffer.length) return -1;
        if ("string" === typeof byteOffset) {
          encoding = byteOffset;
          byteOffset = 0;
        } else byteOffset > 2147483647 ? byteOffset = 2147483647 : byteOffset < -2147483648 && (byteOffset = -2147483648);
        byteOffset = +byteOffset;
        isNaN(byteOffset) && (byteOffset = dir ? 0 : buffer.length - 1);
        byteOffset < 0 && (byteOffset = buffer.length + byteOffset);
        if (byteOffset >= buffer.length) {
          if (dir) return -1;
          byteOffset = buffer.length - 1;
        } else if (byteOffset < 0) {
          if (!dir) return -1;
          byteOffset = 0;
        }
        "string" === typeof val && (val = Buffer.from(val, encoding));
        if (Buffer.isBuffer(val)) {
          if (0 === val.length) return -1;
          return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
        }
        if ("number" === typeof val) {
          val &= 255;
          if (Buffer.TYPED_ARRAY_SUPPORT && "function" === typeof Uint8Array.prototype.indexOf) return dir ? Uint8Array.prototype.indexOf.call(buffer, val, byteOffset) : Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
          return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir);
        }
        throw new TypeError("val must be string, number or Buffer");
      }
      function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
        var indexSize = 1;
        var arrLength = arr.length;
        var valLength = val.length;
        if (void 0 !== encoding) {
          encoding = String(encoding).toLowerCase();
          if ("ucs2" === encoding || "ucs-2" === encoding || "utf16le" === encoding || "utf-16le" === encoding) {
            if (arr.length < 2 || val.length < 2) return -1;
            indexSize = 2;
            arrLength /= 2;
            valLength /= 2;
            byteOffset /= 2;
          }
        }
        function read(buf, i) {
          return 1 === indexSize ? buf[i] : buf.readUInt16BE(i * indexSize);
        }
        var i;
        if (dir) {
          var foundIndex = -1;
          for (i = byteOffset; i < arrLength; i++) if (read(arr, i) === read(val, -1 === foundIndex ? 0 : i - foundIndex)) {
            -1 === foundIndex && (foundIndex = i);
            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;
          } else {
            -1 !== foundIndex && (i -= i - foundIndex);
            foundIndex = -1;
          }
        } else {
          byteOffset + valLength > arrLength && (byteOffset = arrLength - valLength);
          for (i = byteOffset; i >= 0; i--) {
            var found = true;
            for (var j = 0; j < valLength; j++) if (read(arr, i + j) !== read(val, j)) {
              found = false;
              break;
            }
            if (found) return i;
          }
        }
        return -1;
      }
      Buffer.prototype.includes = function includes(val, byteOffset, encoding) {
        return -1 !== this.indexOf(val, byteOffset, encoding);
      };
      Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
      };
      Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
      };
      function hexWrite(buf, string, offset, length) {
        offset = Number(offset) || 0;
        var remaining = buf.length - offset;
        if (length) {
          length = Number(length);
          length > remaining && (length = remaining);
        } else length = remaining;
        var strLen = string.length;
        if (strLen % 2 !== 0) throw new TypeError("Invalid hex string");
        length > strLen / 2 && (length = strLen / 2);
        for (var i = 0; i < length; ++i) {
          var parsed = parseInt(string.substr(2 * i, 2), 16);
          if (isNaN(parsed)) return i;
          buf[offset + i] = parsed;
        }
        return i;
      }
      function utf8Write(buf, string, offset, length) {
        return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
      }
      function asciiWrite(buf, string, offset, length) {
        return blitBuffer(asciiToBytes(string), buf, offset, length);
      }
      function latin1Write(buf, string, offset, length) {
        return asciiWrite(buf, string, offset, length);
      }
      function base64Write(buf, string, offset, length) {
        return blitBuffer(base64ToBytes(string), buf, offset, length);
      }
      function ucs2Write(buf, string, offset, length) {
        return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
      }
      Buffer.prototype.write = function write(string, offset, length, encoding) {
        if (void 0 === offset) {
          encoding = "utf8";
          length = this.length;
          offset = 0;
        } else if (void 0 === length && "string" === typeof offset) {
          encoding = offset;
          length = this.length;
          offset = 0;
        } else {
          if (!isFinite(offset)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
          offset |= 0;
          if (isFinite(length)) {
            length |= 0;
            void 0 === encoding && (encoding = "utf8");
          } else {
            encoding = length;
            length = void 0;
          }
        }
        var remaining = this.length - offset;
        (void 0 === length || length > remaining) && (length = remaining);
        if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) throw new RangeError("Attempt to write outside buffer bounds");
        encoding || (encoding = "utf8");
        var loweredCase = false;
        for (;;) switch (encoding) {
         case "hex":
          return hexWrite(this, string, offset, length);

         case "utf8":
         case "utf-8":
          return utf8Write(this, string, offset, length);

         case "ascii":
          return asciiWrite(this, string, offset, length);

         case "latin1":
         case "binary":
          return latin1Write(this, string, offset, length);

         case "base64":
          return base64Write(this, string, offset, length);

         case "ucs2":
         case "ucs-2":
         case "utf16le":
         case "utf-16le":
          return ucs2Write(this, string, offset, length);

         default:
          if (loweredCase) throw new TypeError("Unknown encoding: " + encoding);
          encoding = ("" + encoding).toLowerCase();
          loweredCase = true;
        }
      };
      Buffer.prototype.toJSON = function toJSON() {
        return {
          type: "Buffer",
          data: Array.prototype.slice.call(this._arr || this, 0)
        };
      };
      function base64Slice(buf, start, end) {
        return 0 === start && end === buf.length ? base64.fromByteArray(buf) : base64.fromByteArray(buf.slice(start, end));
      }
      function utf8Slice(buf, start, end) {
        end = Math.min(buf.length, end);
        var res = [];
        var i = start;
        while (i < end) {
          var firstByte = buf[i];
          var codePoint = null;
          var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
          if (i + bytesPerSequence <= end) {
            var secondByte, thirdByte, fourthByte, tempCodePoint;
            switch (bytesPerSequence) {
             case 1:
              firstByte < 128 && (codePoint = firstByte);
              break;

             case 2:
              secondByte = buf[i + 1];
              if (128 === (192 & secondByte)) {
                tempCodePoint = (31 & firstByte) << 6 | 63 & secondByte;
                tempCodePoint > 127 && (codePoint = tempCodePoint);
              }
              break;

             case 3:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              if (128 === (192 & secondByte) && 128 === (192 & thirdByte)) {
                tempCodePoint = (15 & firstByte) << 12 | (63 & secondByte) << 6 | 63 & thirdByte;
                tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343) && (codePoint = tempCodePoint);
              }
              break;

             case 4:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              fourthByte = buf[i + 3];
              if (128 === (192 & secondByte) && 128 === (192 & thirdByte) && 128 === (192 & fourthByte)) {
                tempCodePoint = (15 & firstByte) << 18 | (63 & secondByte) << 12 | (63 & thirdByte) << 6 | 63 & fourthByte;
                tempCodePoint > 65535 && tempCodePoint < 1114112 && (codePoint = tempCodePoint);
              }
            }
          }
          if (null === codePoint) {
            codePoint = 65533;
            bytesPerSequence = 1;
          } else if (codePoint > 65535) {
            codePoint -= 65536;
            res.push(codePoint >>> 10 & 1023 | 55296);
            codePoint = 56320 | 1023 & codePoint;
          }
          res.push(codePoint);
          i += bytesPerSequence;
        }
        return decodeCodePointsArray(res);
      }
      var MAX_ARGUMENTS_LENGTH = 4096;
      function decodeCodePointsArray(codePoints) {
        var len = codePoints.length;
        if (len <= MAX_ARGUMENTS_LENGTH) return String.fromCharCode.apply(String, codePoints);
        var res = "";
        var i = 0;
        while (i < len) res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
        return res;
      }
      function asciiSlice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) ret += String.fromCharCode(127 & buf[i]);
        return ret;
      }
      function latin1Slice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) ret += String.fromCharCode(buf[i]);
        return ret;
      }
      function hexSlice(buf, start, end) {
        var len = buf.length;
        (!start || start < 0) && (start = 0);
        (!end || end < 0 || end > len) && (end = len);
        var out = "";
        for (var i = start; i < end; ++i) out += toHex(buf[i]);
        return out;
      }
      function utf16leSlice(buf, start, end) {
        var bytes = buf.slice(start, end);
        var res = "";
        for (var i = 0; i < bytes.length; i += 2) res += String.fromCharCode(bytes[i] + 256 * bytes[i + 1]);
        return res;
      }
      Buffer.prototype.slice = function slice(start, end) {
        var len = this.length;
        start = ~~start;
        end = void 0 === end ? len : ~~end;
        if (start < 0) {
          start += len;
          start < 0 && (start = 0);
        } else start > len && (start = len);
        if (end < 0) {
          end += len;
          end < 0 && (end = 0);
        } else end > len && (end = len);
        end < start && (end = start);
        var newBuf;
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          newBuf = this.subarray(start, end);
          newBuf.__proto__ = Buffer.prototype;
        } else {
          var sliceLen = end - start;
          newBuf = new Buffer(sliceLen, void 0);
          for (var i = 0; i < sliceLen; ++i) newBuf[i] = this[i + start];
        }
        return newBuf;
      };
      function checkOffset(offset, ext, length) {
        if (offset % 1 !== 0 || offset < 0) throw new RangeError("offset is not uint");
        if (offset + ext > length) throw new RangeError("Trying to access beyond buffer length");
      }
      Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength && (mul *= 256)) val += this[offset + i] * mul;
        return val;
      };
      Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset + --byteLength];
        var mul = 1;
        while (byteLength > 0 && (mul *= 256)) val += this[offset + --byteLength] * mul;
        return val;
      };
      Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {
        noAssert || checkOffset(offset, 1, this.length);
        return this[offset];
      };
      Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        return this[offset] | this[offset + 1] << 8;
      };
      Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        return this[offset] << 8 | this[offset + 1];
      };
      Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + 16777216 * this[offset + 3];
      };
      Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return 16777216 * this[offset] + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
      };
      Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength && (mul *= 256)) val += this[offset + i] * mul;
        mul *= 128;
        val >= mul && (val -= Math.pow(2, 8 * byteLength));
        return val;
      };
      Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {
        offset |= 0;
        byteLength |= 0;
        noAssert || checkOffset(offset, byteLength, this.length);
        var i = byteLength;
        var mul = 1;
        var val = this[offset + --i];
        while (i > 0 && (mul *= 256)) val += this[offset + --i] * mul;
        mul *= 128;
        val >= mul && (val -= Math.pow(2, 8 * byteLength));
        return val;
      };
      Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {
        noAssert || checkOffset(offset, 1, this.length);
        if (!(128 & this[offset])) return this[offset];
        return -1 * (255 - this[offset] + 1);
      };
      Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        var val = this[offset] | this[offset + 1] << 8;
        return 32768 & val ? 4294901760 | val : val;
      };
      Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
        noAssert || checkOffset(offset, 2, this.length);
        var val = this[offset + 1] | this[offset] << 8;
        return 32768 & val ? 4294901760 | val : val;
      };
      Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
      };
      Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
      };
      Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, true, 23, 4);
      };
      Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
        noAssert || checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, false, 23, 4);
      };
      Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
        noAssert || checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, true, 52, 8);
      };
      Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
        noAssert || checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, false, 52, 8);
      };
      function checkInt(buf, value, offset, ext, max, min) {
        if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance');
        if (value > max || value < min) throw new RangeError('"value" argument is out of bounds');
        if (offset + ext > buf.length) throw new RangeError("Index out of range");
      }
      Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        byteLength |= 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength) - 1;
          checkInt(this, value, offset, byteLength, maxBytes, 0);
        }
        var mul = 1;
        var i = 0;
        this[offset] = 255 & value;
        while (++i < byteLength && (mul *= 256)) this[offset + i] = value / mul & 255;
        return offset + byteLength;
      };
      Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        byteLength |= 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength) - 1;
          checkInt(this, value, offset, byteLength, maxBytes, 0);
        }
        var i = byteLength - 1;
        var mul = 1;
        this[offset + i] = 255 & value;
        while (--i >= 0 && (mul *= 256)) this[offset + i] = value / mul & 255;
        return offset + byteLength;
      };
      Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 1, 255, 0);
        Buffer.TYPED_ARRAY_SUPPORT || (value = Math.floor(value));
        this[offset] = 255 & value;
        return offset + 1;
      };
      function objectWriteUInt16(buf, value, offset, littleEndian) {
        value < 0 && (value = 65535 + value + 1);
        for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> 8 * (littleEndian ? i : 1 - i);
      }
      Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
        } else objectWriteUInt16(this, value, offset, true);
        return offset + 2;
      };
      Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = 255 & value;
        } else objectWriteUInt16(this, value, offset, false);
        return offset + 2;
      };
      function objectWriteUInt32(buf, value, offset, littleEndian) {
        value < 0 && (value = 4294967295 + value + 1);
        for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) buf[offset + i] = value >>> 8 * (littleEndian ? i : 3 - i) & 255;
      }
      Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset + 3] = value >>> 24;
          this[offset + 2] = value >>> 16;
          this[offset + 1] = value >>> 8;
          this[offset] = 255 & value;
        } else objectWriteUInt32(this, value, offset, true);
        return offset + 4;
      };
      Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = 255 & value;
        } else objectWriteUInt32(this, value, offset, false);
        return offset + 4;
      };
      Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength - 1);
          checkInt(this, value, offset, byteLength, limit - 1, -limit);
        }
        var i = 0;
        var mul = 1;
        var sub = 0;
        this[offset] = 255 & value;
        while (++i < byteLength && (mul *= 256)) {
          value < 0 && 0 === sub && 0 !== this[offset + i - 1] && (sub = 1);
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength;
      };
      Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {
        value = +value;
        offset |= 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength - 1);
          checkInt(this, value, offset, byteLength, limit - 1, -limit);
        }
        var i = byteLength - 1;
        var mul = 1;
        var sub = 0;
        this[offset + i] = 255 & value;
        while (--i >= 0 && (mul *= 256)) {
          value < 0 && 0 === sub && 0 !== this[offset + i + 1] && (sub = 1);
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength;
      };
      Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 1, 127, -128);
        Buffer.TYPED_ARRAY_SUPPORT || (value = Math.floor(value));
        value < 0 && (value = 255 + value + 1);
        this[offset] = 255 & value;
        return offset + 1;
      };
      Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
        } else objectWriteUInt16(this, value, offset, true);
        return offset + 2;
      };
      Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = 255 & value;
        } else objectWriteUInt16(this, value, offset, false);
        return offset + 2;
      };
      Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 2147483647, -2147483648);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = 255 & value;
          this[offset + 1] = value >>> 8;
          this[offset + 2] = value >>> 16;
          this[offset + 3] = value >>> 24;
        } else objectWriteUInt32(this, value, offset, true);
        return offset + 4;
      };
      Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
        value = +value;
        offset |= 0;
        noAssert || checkInt(this, value, offset, 4, 2147483647, -2147483648);
        value < 0 && (value = 4294967295 + value + 1);
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = 255 & value;
        } else objectWriteUInt32(this, value, offset, false);
        return offset + 4;
      };
      function checkIEEE754(buf, value, offset, ext, max, min) {
        if (offset + ext > buf.length) throw new RangeError("Index out of range");
        if (offset < 0) throw new RangeError("Index out of range");
      }
      function writeFloat(buf, value, offset, littleEndian, noAssert) {
        noAssert || checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
        ieee754.write(buf, value, offset, littleEndian, 23, 4);
        return offset + 4;
      }
      Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
        return writeFloat(this, value, offset, true, noAssert);
      };
      Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
        return writeFloat(this, value, offset, false, noAssert);
      };
      function writeDouble(buf, value, offset, littleEndian, noAssert) {
        noAssert || checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
        ieee754.write(buf, value, offset, littleEndian, 52, 8);
        return offset + 8;
      }
      Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
        return writeDouble(this, value, offset, true, noAssert);
      };
      Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
        return writeDouble(this, value, offset, false, noAssert);
      };
      Buffer.prototype.copy = function copy(target, targetStart, start, end) {
        start || (start = 0);
        end || 0 === end || (end = this.length);
        targetStart >= target.length && (targetStart = target.length);
        targetStart || (targetStart = 0);
        end > 0 && end < start && (end = start);
        if (end === start) return 0;
        if (0 === target.length || 0 === this.length) return 0;
        if (targetStart < 0) throw new RangeError("targetStart out of bounds");
        if (start < 0 || start >= this.length) throw new RangeError("sourceStart out of bounds");
        if (end < 0) throw new RangeError("sourceEnd out of bounds");
        end > this.length && (end = this.length);
        target.length - targetStart < end - start && (end = target.length - targetStart + start);
        var len = end - start;
        var i;
        if (this === target && start < targetStart && targetStart < end) for (i = len - 1; i >= 0; --i) target[i + targetStart] = this[i + start]; else if (len < 1e3 || !Buffer.TYPED_ARRAY_SUPPORT) for (i = 0; i < len; ++i) target[i + targetStart] = this[i + start]; else Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);
        return len;
      };
      Buffer.prototype.fill = function fill(val, start, end, encoding) {
        if ("string" === typeof val) {
          if ("string" === typeof start) {
            encoding = start;
            start = 0;
            end = this.length;
          } else if ("string" === typeof end) {
            encoding = end;
            end = this.length;
          }
          if (1 === val.length) {
            var code = val.charCodeAt(0);
            code < 256 && (val = code);
          }
          if (void 0 !== encoding && "string" !== typeof encoding) throw new TypeError("encoding must be a string");
          if ("string" === typeof encoding && !Buffer.isEncoding(encoding)) throw new TypeError("Unknown encoding: " + encoding);
        } else "number" === typeof val && (val &= 255);
        if (start < 0 || this.length < start || this.length < end) throw new RangeError("Out of range index");
        if (end <= start) return this;
        start >>>= 0;
        end = void 0 === end ? this.length : end >>> 0;
        val || (val = 0);
        var i;
        if ("number" === typeof val) for (i = start; i < end; ++i) this[i] = val; else {
          var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());
          var len = bytes.length;
          for (i = 0; i < end - start; ++i) this[i + start] = bytes[i % len];
        }
        return this;
      };
      var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
      function base64clean(str) {
        str = stringtrim(str).replace(INVALID_BASE64_RE, "");
        if (str.length < 2) return "";
        while (str.length % 4 !== 0) str += "=";
        return str;
      }
      function stringtrim(str) {
        if (str.trim) return str.trim();
        return str.replace(/^\s+|\s+$/g, "");
      }
      function toHex(n) {
        if (n < 16) return "0" + n.toString(16);
        return n.toString(16);
      }
      function utf8ToBytes(string, units) {
        units = units || Infinity;
        var codePoint;
        var length = string.length;
        var leadSurrogate = null;
        var bytes = [];
        for (var i = 0; i < length; ++i) {
          codePoint = string.charCodeAt(i);
          if (codePoint > 55295 && codePoint < 57344) {
            if (!leadSurrogate) {
              if (codePoint > 56319) {
                (units -= 3) > -1 && bytes.push(239, 191, 189);
                continue;
              }
              if (i + 1 === length) {
                (units -= 3) > -1 && bytes.push(239, 191, 189);
                continue;
              }
              leadSurrogate = codePoint;
              continue;
            }
            if (codePoint < 56320) {
              (units -= 3) > -1 && bytes.push(239, 191, 189);
              leadSurrogate = codePoint;
              continue;
            }
            codePoint = 65536 + (leadSurrogate - 55296 << 10 | codePoint - 56320);
          } else leadSurrogate && (units -= 3) > -1 && bytes.push(239, 191, 189);
          leadSurrogate = null;
          if (codePoint < 128) {
            if ((units -= 1) < 0) break;
            bytes.push(codePoint);
          } else if (codePoint < 2048) {
            if ((units -= 2) < 0) break;
            bytes.push(codePoint >> 6 | 192, 63 & codePoint | 128);
          } else if (codePoint < 65536) {
            if ((units -= 3) < 0) break;
            bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, 63 & codePoint | 128);
          } else {
            if (!(codePoint < 1114112)) throw new Error("Invalid code point");
            if ((units -= 4) < 0) break;
            bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, 63 & codePoint | 128);
          }
        }
        return bytes;
      }
      function asciiToBytes(str) {
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) byteArray.push(255 & str.charCodeAt(i));
        return byteArray;
      }
      function utf16leToBytes(str, units) {
        var c, hi, lo;
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) {
          if ((units -= 2) < 0) break;
          c = str.charCodeAt(i);
          hi = c >> 8;
          lo = c % 256;
          byteArray.push(lo);
          byteArray.push(hi);
        }
        return byteArray;
      }
      function base64ToBytes(str) {
        return base64.toByteArray(base64clean(str));
      }
      function blitBuffer(src, dst, offset, length) {
        for (var i = 0; i < length; ++i) {
          if (i + offset >= dst.length || i >= src.length) break;
          dst[i + offset] = src[i];
        }
        return i;
      }
      function isnan(val) {
        return val !== val;
      }
    }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {});
  }, {
    "base64-js": 1,
    ieee754: 4,
    isarray: 3
  } ],
  3: [ function(require, module, exports) {
    var toString = {}.toString;
    module.exports = Array.isArray || function(arr) {
      return "[object Array]" == toString.call(arr);
    };
  }, {} ],
  4: [ function(require, module, exports) {
    exports.read = function(buffer, offset, isLE, mLen, nBytes) {
      var e, m;
      var eLen = 8 * nBytes - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var nBits = -7;
      var i = isLE ? nBytes - 1 : 0;
      var d = isLE ? -1 : 1;
      var s = buffer[offset + i];
      i += d;
      e = s & (1 << -nBits) - 1;
      s >>= -nBits;
      nBits += eLen;
      for (;nBits > 0; e = 256 * e + buffer[offset + i], i += d, nBits -= 8) ;
      m = e & (1 << -nBits) - 1;
      e >>= -nBits;
      nBits += mLen;
      for (;nBits > 0; m = 256 * m + buffer[offset + i], i += d, nBits -= 8) ;
      if (0 === e) e = 1 - eBias; else {
        if (e === eMax) return m ? NaN : Infinity * (s ? -1 : 1);
        m += Math.pow(2, mLen);
        e -= eBias;
      }
      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
    };
    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {
      var e, m, c;
      var eLen = 8 * nBytes - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var rt = 23 === mLen ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
      var i = isLE ? 0 : nBytes - 1;
      var d = isLE ? 1 : -1;
      var s = value < 0 || 0 === value && 1 / value < 0 ? 1 : 0;
      value = Math.abs(value);
      if (isNaN(value) || Infinity === value) {
        m = isNaN(value) ? 1 : 0;
        e = eMax;
      } else {
        e = Math.floor(Math.log(value) / Math.LN2);
        if (value * (c = Math.pow(2, -e)) < 1) {
          e--;
          c *= 2;
        }
        value += e + eBias >= 1 ? rt / c : rt * Math.pow(2, 1 - eBias);
        if (value * c >= 2) {
          e++;
          c /= 2;
        }
        if (e + eBias >= eMax) {
          m = 0;
          e = eMax;
        } else if (e + eBias >= 1) {
          m = (value * c - 1) * Math.pow(2, mLen);
          e += eBias;
        } else {
          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
          e = 0;
        }
      }
      for (;mLen >= 8; buffer[offset + i] = 255 & m, i += d, m /= 256, mLen -= 8) ;
      e = e << mLen | m;
      eLen += mLen;
      for (;eLen > 0; buffer[offset + i] = 255 & e, i += d, e /= 256, eLen -= 8) ;
      buffer[offset + i - d] |= 128 * s;
    };
  }, {} ],
  5: [ function(require, module, exports) {
    var process = module.exports = {};
    var cachedSetTimeout;
    var cachedClearTimeout;
    function defaultSetTimout() {
      throw new Error("setTimeout has not been defined");
    }
    function defaultClearTimeout() {
      throw new Error("clearTimeout has not been defined");
    }
    (function() {
      try {
        cachedSetTimeout = "function" === typeof setTimeout ? setTimeout : defaultSetTimout;
      } catch (e) {
        cachedSetTimeout = defaultSetTimout;
      }
      try {
        cachedClearTimeout = "function" === typeof clearTimeout ? clearTimeout : defaultClearTimeout;
      } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
      }
    })();
    function runTimeout(fun) {
      if (cachedSetTimeout === setTimeout) return setTimeout(fun, 0);
      if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
      }
      try {
        return cachedSetTimeout(fun, 0);
      } catch (e) {
        try {
          return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
          return cachedSetTimeout.call(this, fun, 0);
        }
      }
    }
    function runClearTimeout(marker) {
      if (cachedClearTimeout === clearTimeout) return clearTimeout(marker);
      if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
      }
      try {
        return cachedClearTimeout(marker);
      } catch (e) {
        try {
          return cachedClearTimeout.call(null, marker);
        } catch (e) {
          return cachedClearTimeout.call(this, marker);
        }
      }
    }
    var queue = [];
    var draining = false;
    var currentQueue;
    var queueIndex = -1;
    function cleanUpNextTick() {
      if (!draining || !currentQueue) return;
      draining = false;
      currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1;
      queue.length && drainQueue();
    }
    function drainQueue() {
      if (draining) return;
      var timeout = runTimeout(cleanUpNextTick);
      draining = true;
      var len = queue.length;
      while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) currentQueue && currentQueue[queueIndex].run();
        queueIndex = -1;
        len = queue.length;
      }
      currentQueue = null;
      draining = false;
      runClearTimeout(timeout);
    }
    process.nextTick = function(fun) {
      var args = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];
      queue.push(new Item(fun, args));
      1 !== queue.length || draining || runTimeout(drainQueue);
    };
    function Item(fun, array) {
      this.fun = fun;
      this.array = array;
    }
    Item.prototype.run = function() {
      this.fun.apply(null, this.array);
    };
    process.title = "browser";
    process.browser = true;
    process.env = {};
    process.argv = [];
    process.version = "";
    process.versions = {};
    function noop() {}
    process.on = noop;
    process.addListener = noop;
    process.once = noop;
    process.off = noop;
    process.removeListener = noop;
    process.removeAllListeners = noop;
    process.emit = noop;
    process.prependListener = noop;
    process.prependOnceListener = noop;
    process.listeners = function(name) {
      return [];
    };
    process.binding = function(name) {
      throw new Error("process.binding is not supported");
    };
    process.cwd = function() {
      return "/";
    };
    process.chdir = function(dir) {
      throw new Error("process.chdir is not supported");
    };
    process.umask = function() {
      return 0;
    };
  }, {} ],
  6: [ function(require, module, exports) {
    var jspb = require("google-protobuf");
    var goog = jspb;
    var global = Function("return this")();
    goog.exportSymbol("proto.base.BaseResult", null, global);
    goog.exportSymbol("proto.base.Empty", null, global);
    goog.exportSymbol("proto.base.ErrorCode", null, global);
    goog.exportSymbol("proto.base.ErrorCode.Type1", null, global);
    goog.exportSymbol("proto.base.ErrorCode.Type2", null, global);
    goog.exportSymbol("proto.base.MsgCode", null, global);
    goog.exportSymbol("proto.base.PageInfo", null, global);
    goog.exportSymbol("proto.base.Result", null, global);
    goog.exportSymbol("proto.base.Status", null, global);
    proto.base.Empty = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.Empty, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.Empty.displayName = "proto.base.Empty");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.Empty.prototype.toObject = function(opt_includeInstance) {
        return proto.base.Empty.toObject(opt_includeInstance, this);
      };
      proto.base.Empty.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.Empty.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.Empty();
      return proto.base.Empty.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.Empty.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.base.Empty.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.Empty.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.Empty.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.base.Result = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.Result, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.Result.displayName = "proto.base.Result");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.Result.prototype.toObject = function(opt_includeInstance) {
        return proto.base.Result.toObject(opt_includeInstance, this);
      };
      proto.base.Result.toObject = function(includeInstance, msg) {
        var f, obj = {
          code: jspb.Message.getFieldWithDefault(msg, 1, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.Result.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.Result();
      return proto.base.Result.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.Result.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.Result.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.Result.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.Result.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCode();
      0 !== f && writer.writeEnum(1, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.base.Result.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.base.Result.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 1, value);
    };
    proto.base.Result.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.base.Result.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.base.BaseResult = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.BaseResult, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.BaseResult.displayName = "proto.base.BaseResult");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.BaseResult.prototype.toObject = function(opt_includeInstance) {
        return proto.base.BaseResult.toObject(opt_includeInstance, this);
      };
      proto.base.BaseResult.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && proto.base.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.BaseResult.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.BaseResult();
      return proto.base.BaseResult.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.BaseResult.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new proto.base.Result();
          reader.readMessage(value, proto.base.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.BaseResult.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.BaseResult.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.BaseResult.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, proto.base.Result.serializeBinaryToWriter);
    };
    proto.base.BaseResult.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, proto.base.Result, 1);
    };
    proto.base.BaseResult.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.base.BaseResult.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.base.BaseResult.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.base.PageInfo = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.PageInfo, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.PageInfo.displayName = "proto.base.PageInfo");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.PageInfo.prototype.toObject = function(opt_includeInstance) {
        return proto.base.PageInfo.toObject(opt_includeInstance, this);
      };
      proto.base.PageInfo.toObject = function(includeInstance, msg) {
        var f, obj = {
          index: jspb.Message.getFieldWithDefault(msg, 1, 0),
          limit: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sort: jspb.Message.getFieldWithDefault(msg, 3, ""),
          offset: jspb.Message.getFieldWithDefault(msg, 4, 0),
          dataCount: jspb.Message.getFieldWithDefault(msg, 5, 0),
          pageCount: jspb.Message.getFieldWithDefault(msg, 6, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.PageInfo.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.PageInfo();
      return proto.base.PageInfo.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.PageInfo.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readInt64();
          msg.setIndex(value);
          break;

         case 2:
          var value = reader.readInt64();
          msg.setLimit(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setSort(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setOffset(value);
          break;

         case 5:
          var value = reader.readInt64();
          msg.setDataCount(value);
          break;

         case 6:
          var value = reader.readInt64();
          msg.setPageCount(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.base.PageInfo.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.PageInfo.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.PageInfo.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getIndex();
      0 !== f && writer.writeInt64(1, f);
      f = message.getLimit();
      0 !== f && writer.writeInt64(2, f);
      f = message.getSort();
      f.length > 0 && writer.writeString(3, f);
      f = message.getOffset();
      0 !== f && writer.writeInt64(4, f);
      f = message.getDataCount();
      0 !== f && writer.writeInt64(5, f);
      f = message.getPageCount();
      0 !== f && writer.writeInt64(6, f);
    };
    proto.base.PageInfo.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.base.PageInfo.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.base.PageInfo.prototype.getLimit = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.base.PageInfo.prototype.setLimit = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.base.PageInfo.prototype.getSort = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.base.PageInfo.prototype.setSort = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.base.PageInfo.prototype.getOffset = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.base.PageInfo.prototype.setOffset = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.base.PageInfo.prototype.getDataCount = function() {
      return jspb.Message.getFieldWithDefault(this, 5, 0);
    };
    proto.base.PageInfo.prototype.setDataCount = function(value) {
      jspb.Message.setProto3IntField(this, 5, value);
    };
    proto.base.PageInfo.prototype.getPageCount = function() {
      return jspb.Message.getFieldWithDefault(this, 6, 0);
    };
    proto.base.PageInfo.prototype.setPageCount = function(value) {
      jspb.Message.setProto3IntField(this, 6, value);
    };
    proto.base.ErrorCode = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.base.ErrorCode, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.base.ErrorCode.displayName = "proto.base.ErrorCode");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.base.ErrorCode.prototype.toObject = function(opt_includeInstance) {
        return proto.base.ErrorCode.toObject(opt_includeInstance, this);
      };
      proto.base.ErrorCode.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.base.ErrorCode.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.base.ErrorCode();
      return proto.base.ErrorCode.deserializeBinaryFromReader(msg, reader);
    };
    proto.base.ErrorCode.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.base.ErrorCode.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.base.ErrorCode.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.base.ErrorCode.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.base.ErrorCode.Type1 = {
      OK: 0
    };
    proto.base.ErrorCode.Type2 = {
      ERR: 0
    };
    proto.base.MsgCode = {
      UNKNOWN_FAILURE: 0,
      SUCCESS: 1,
      ALREADY_EXISTS: 2,
      REQUIRED_FIELDS: 3,
      LOGIN_FAILED: 4,
      API_ACCESS_FAILED: 5,
      NOT_FOUND: 6,
      REQUEST_TIME_OUT: 7,
      VERIFY_CAPTCHA_FAILED: 8,
      LOGIN_FAILED_USER_LOCK: 9,
      MEMBER_NOT_FOUND: 10,
      AGENT_NOT_FOUND: 11,
      CONTENT_DATA_TYPE_ERROR: 12,
      GAME_NOT_FOUND: 13,
      PERMISSIONS_DENIED: 14,
      FAILURE: 15,
      NOT_AUTHORIZED_TO_SIGN: 1e3,
      AMOUNT_OF_ERROR: 1001,
      TRANS_ALREADY_EXISTS: 1002,
      VALIDATION_FAILED: 1003,
      DB_ACCESS_FAILED: 1004,
      WALLET_NOT_FOUND: 1005,
      TRANS_NOT_FOUND: 1006,
      PROCESSING_FAILED: 1007,
      EMPTY_AMOUNT_NOT_ALLOWED: 1008,
      AGENT_QUOTA_NOT_FOUND: 1009,
      INSUFFICIENT_AGENT_QUOTA: 1010,
      AGENT_WITHDRAWALS_LOCK: 1011,
      TIME_IS_OUT_OF_RANGE: 1012,
      EXCEED_THE_SECOND_DECIMAL_PLACE: 1013,
      GAME_INACTIVE: 1014,
      DATA_REPEAT: 1015,
      LOWEST_AGENT_CANNOT_ADD_AGENT: 1016,
      ACCOUNT_DISABLED: 1017,
      AGENT_ADMIN_USER_JUST_ONLY: 1018,
      AGENT_GAME_DISABLED: 1019,
      SYSTEM_GAME_DISABLED: 1020,
      AGENT_USER_NOT_FOUND: 1021,
      TO_PB: 1022,
      TO_ORM: 1023,
      SINGLE_BET_FAIL_AND_BET_CANCEL_SUCCESS: 1024,
      SINGLE_UNKNOWN_ERROR: 1025,
      SINGLE_INSUFFICIENT: 1026,
      TRANSFER_IS_NOT_FINISH: 1027,
      GAME_NOT_SETTLED: 1028,
      TRANSACTION_ALREADY_BEGIN: 1029,
      PROMOTE_EVENT_NOT_FOUND: 1030,
      NOT_ALLOW_ADDING_SUB_AGENT: 1031,
      MEMBER_MAX_CREDIT_NOT_ENOUGH: 1032,
      TRANS_ALREADY_CANCELED: 1033,
      AGENT_RELATION_ILLEGAL: 1034,
      AGENT_HALL_NOT_FOUND: 2001,
      AGENT_RISK_NOT_FOUND: 2002,
      GET_AGENT_FAILED: 2003,
      DUPLICATE_LOGIN: 2004,
      ADD_PLAYER_FAILED: 2005,
      TRANSFER_NOT_FINISH: 2006,
      GAME_DISABLE: 2007,
      GAME_NOT_LOGIN: 3001,
      GAME_NOT_IN_TABLE: 3002,
      GAME_ALREADY_IN_TABLE: 3003,
      GAME_OVER_LIMIT_BET: 3004,
      GAME_LIMIT_PLAY_TYPE: 3005,
      GAME_AMOUNT_NOT_ENOUGH: 3006,
      GAME_BET_FAIL: 3007,
      GAME_NOT_BET_TIME: 3008,
      GAME_QUERY_FAIL: 3009,
      GAME_BET_CANT_OUT_TABLE: 3010,
      GAME_CANT_IN_ROOM: 3011,
      GAME_NOT_ENOUGH_IN_GAME: 3012,
      GAME_CONFIG_NOT_FOUND: 3015,
      GAME_STATUS_NOT_FOUND: 3016,
      GAME_USER_DATA_FAILED: 3017,
      GAME_KICK_HEARTBEAT: 3019,
      GAME_KICK_IDLE: 3020,
      GAME_KICK_ILLEGAL_OPERATION: 3021,
      GAME_KICK_OTHER: 3022,
      GAME_BET_TOO_FAST: 3023,
      GAME_TABLE_ERROR: 3033,
      GAME_REDUCE_MONEY_FAIL: 3034,
      GAME_ADD_MONEY_FAIL: 3035,
      GAME_HEARTBEAT_TIMEOUT: 3036,
      GAME_IDLE_TIMEOUT: 3037
    };
    proto.base.Status = {
      NONE: 0,
      ENABLED: 1,
      DISABLED: 2
    };
    goog.object.extend(exports, proto.base);
  }, {
    "google-protobuf": 27
  } ],
  7: [ function(require, module, exports) {
    !function(e, t) {
      if ("object" == typeof exports && "object" == typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else {
        var n = t();
        for (var r in n) ("object" == typeof exports ? exports : e)[r] = n[r];
      }
    }(this, function() {
      return function(e) {
        var t = {};
        function n(r) {
          if (t[r]) return t[r].exports;
          var o = t[r] = {
            i: r,
            l: !1,
            exports: {}
          };
          return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
        }
        return n.m = e, n.c = t, n.d = function(e, t, r) {
          n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
          });
        }, n.r = function(e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
            value: !0
          });
        }, n.t = function(e, t) {
          if (1 & t && (e = n(e)), 8 & t) return e;
          if (4 & t && "object" == typeof e && e && e.__esModule) return e;
          var r = Object.create(null);
          if (n.r(r), Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
          }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function(t) {
            return e[t];
          }.bind(null, o));
          return r;
        }, n.n = function(e) {
          var t = e && e.__esModule ? function() {
            return e.default;
          } : function() {
            return e;
          };
          return n.d(t, "a", t), t;
        }, n.o = function(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t);
        }, n.p = "", n(n.s = 11);
      }([ function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(4);
        t.Metadata = r.BrowserHeaders;
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.debug = function() {
          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
          console.debug ? console.debug.apply(null, e) : console.log.apply(null, e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = null;
        t.default = function(e) {
          null === r ? (r = [ e ], setTimeout(function() {
            !function e() {
              if (r) {
                var t = r;
                r = null;
                for (var n = 0; n < t.length; n++) try {
                  t[n]();
                } catch (s) {
                  null === r && (r = [], setTimeout(function() {
                    e();
                  }, 0));
                  for (var o = t.length - 1; o > n; o--) r.unshift(t[o]);
                  throw s;
                }
              }
            }();
          }, 0)) : r.push(e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(0), o = n(9), s = n(10), i = n(1), a = n(2), u = n(5), d = n(15);
        t.client = function(e, t) {
          return new c(e, t);
        };
        var c = function() {
          function e(e, t) {
            this.started = !1, this.sentFirstMessage = !1, this.completed = !1, this.closed = !1, 
            this.finishedSending = !1, this.onHeadersCallbacks = [], this.onMessageCallbacks = [], 
            this.onEndCallbacks = [], this.parser = new o.ChunkParser(), this.methodDefinition = e, 
            this.props = t, this.createTransport();
          }
          return e.prototype.createTransport = function() {
            var e = this.props.host + "/" + this.methodDefinition.service.serviceName + "/" + this.methodDefinition.methodName, t = {
              methodDefinition: this.methodDefinition,
              debug: this.props.debug || !1,
              url: e,
              onHeaders: this.onTransportHeaders.bind(this),
              onChunk: this.onTransportChunk.bind(this),
              onEnd: this.onTransportEnd.bind(this)
            };
            this.props.transport ? this.transport = this.props.transport(t) : this.transport = u.makeDefaultTransport(t);
          }, e.prototype.onTransportHeaders = function(e, t) {
            if (this.props.debug && i.debug("onHeaders", e, t), this.closed) this.props.debug && i.debug("grpc.onHeaders received after request was closed - ignoring"); else if (0 === t) ; else {
              this.responseHeaders = e, this.props.debug && i.debug("onHeaders.responseHeaders", JSON.stringify(this.responseHeaders, null, 2));
              var n = p(e);
              this.props.debug && i.debug("onHeaders.gRPCStatus", n);
              var r = n && n >= 0 ? n : s.httpStatusToCode(t);
              this.props.debug && i.debug("onHeaders.code", r);
              var o = e.get("grpc-message") || [];
              if (this.props.debug && i.debug("onHeaders.gRPCMessage", o), this.rawOnHeaders(e), 
              r !== s.Code.OK) {
                var a = this.decodeGRPCStatus(o[0]);
                this.rawOnError(r, a, e);
              }
            }
          }, e.prototype.onTransportChunk = function(e) {
            var t = this;
            if (this.closed) this.props.debug && i.debug("grpc.onChunk received after request was closed - ignoring"); else {
              var n = [];
              try {
                n = this.parser.parse(e);
              } catch (e) {
                return this.props.debug && i.debug("onChunk.parsing error", e, e.message), void this.rawOnError(s.Code.Internal, "parsing error: " + e.message);
              }
              n.forEach(function(e) {
                if (e.chunkType === o.ChunkType.MESSAGE) {
                  var n = t.methodDefinition.responseType.deserializeBinary(e.data);
                  t.rawOnMessage(n);
                } else e.chunkType === o.ChunkType.TRAILERS && (t.responseHeaders ? (t.responseTrailers = new r.Metadata(e.trailers), 
                t.props.debug && i.debug("onChunk.trailers", t.responseTrailers)) : (t.responseHeaders = new r.Metadata(e.trailers), 
                t.rawOnHeaders(t.responseHeaders)));
              });
            }
          }, e.prototype.onTransportEnd = function() {
            if (this.props.debug && i.debug("grpc.onEnd"), this.closed) this.props.debug && i.debug("grpc.onEnd received after request was closed - ignoring"); else if (void 0 !== this.responseTrailers) {
              var e = p(this.responseTrailers);
              if (null !== e) {
                var t = this.responseTrailers.get("grpc-message"), n = this.decodeGRPCStatus(t[0]);
                this.rawOnEnd(e, n, this.responseTrailers);
              } else this.rawOnError(s.Code.Internal, "Response closed without grpc-status (Trailers provided)");
            } else {
              if (void 0 === this.responseHeaders) return void this.rawOnError(s.Code.Unknown, "Response closed without headers");
              var r = p(this.responseHeaders), o = this.responseHeaders.get("grpc-message");
              if (this.props.debug && i.debug("grpc.headers only response ", r, o), null === r) return void this.rawOnEnd(s.Code.Unknown, "Response closed without grpc-status (Headers only)", this.responseHeaders);
              var a = this.decodeGRPCStatus(o[0]);
              this.rawOnEnd(r, a, this.responseHeaders);
            }
          }, e.prototype.decodeGRPCStatus = function(e) {
            if (!e) return "";
            try {
              return decodeURIComponent(e);
            } catch (t) {
              return e;
            }
          }, e.prototype.rawOnEnd = function(e, t, n) {
            var r = this;
            this.props.debug && i.debug("rawOnEnd", e, t, n), this.completed || (this.completed = !0, 
            this.onEndCallbacks.forEach(function(o) {
              a.default(function() {
                r.closed || o(e, t, n);
              });
            }));
          }, e.prototype.rawOnHeaders = function(e) {
            this.props.debug && i.debug("rawOnHeaders", e), this.completed || this.onHeadersCallbacks.forEach(function(t) {
              a.default(function() {
                t(e);
              });
            });
          }, e.prototype.rawOnError = function(e, t, n) {
            var o = this;
            void 0 === n && (n = new r.Metadata()), this.props.debug && i.debug("rawOnError", e, t), 
            this.completed || (this.completed = !0, this.onEndCallbacks.forEach(function(r) {
              a.default(function() {
                o.closed || r(e, t, n);
              });
            }));
          }, e.prototype.rawOnMessage = function(e) {
            var t = this;
            this.props.debug && i.debug("rawOnMessage", e.toObject()), this.completed || this.closed || this.onMessageCallbacks.forEach(function(n) {
              a.default(function() {
                t.closed || n(e);
              });
            });
          }, e.prototype.onHeaders = function(e) {
            this.onHeadersCallbacks.push(e);
          }, e.prototype.onMessage = function(e) {
            this.onMessageCallbacks.push(e);
          }, e.prototype.onEnd = function(e) {
            this.onEndCallbacks.push(e);
          }, e.prototype.start = function(e) {
            if (this.started) throw new Error("Client already started - cannot .start()");
            this.started = !0;
            var t = new r.Metadata(e || {});
            t.set("content-type", "application/grpc-web+proto"), t.set("x-grpc-web", "1"), this.transport.start(t);
          }, e.prototype.send = function(e) {
            if (!this.started) throw new Error("Client not started - .start() must be called before .send()");
            if (this.closed) throw new Error("Client already closed - cannot .send()");
            if (this.finishedSending) throw new Error("Client already finished sending - cannot .send()");
            if (!this.methodDefinition.requestStream && this.sentFirstMessage) throw new Error("Message already sent for non-client-streaming method - cannot .send()");
            this.sentFirstMessage = !0;
            var t = d.frameRequest(e);
            this.transport.sendMessage(t);
          }, e.prototype.finishSend = function() {
            if (!this.started) throw new Error("Client not started - .finishSend() must be called before .close()");
            if (this.closed) throw new Error("Client already closed - cannot .send()");
            if (this.finishedSending) throw new Error("Client already finished sending - cannot .finishSend()");
            this.finishedSending = !0, this.transport.finishSend();
          }, e.prototype.close = function() {
            if (!this.started) throw new Error("Client not started - .start() must be called before .close()");
            if (this.closed) throw new Error("Client already closed - cannot .close()");
            this.closed = !0, this.props.debug && i.debug("request.abort aborting request"), 
            this.transport.cancel();
          }, e;
        }();
        function p(e) {
          var t = e.get("grpc-status") || [];
          if (t.length > 0) try {
            var n = t[0];
            return parseInt(n, 10);
          } catch (e) {
            return null;
          }
          return null;
        }
      }, function(e, t, n) {
        var r;
        r = function() {
          return function(e) {
            var t = {};
            function n(r) {
              if (t[r]) return t[r].exports;
              var o = t[r] = {
                i: r,
                l: !1,
                exports: {}
              };
              return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
            }
            return n.m = e, n.c = t, n.i = function(e) {
              return e;
            }, n.d = function(e, t, r) {
              n.o(e, t) || Object.defineProperty(e, t, {
                configurable: !1,
                enumerable: !0,
                get: r
              });
            }, n.n = function(e) {
              var t = e && e.__esModule ? function() {
                return e.default;
              } : function() {
                return e;
              };
              return n.d(t, "a", t), t;
            }, n.o = function(e, t) {
              return Object.prototype.hasOwnProperty.call(e, t);
            }, n.p = "", n(n.s = 1);
          }([ function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(3);
            var o = function() {
              function e(e, t) {
                void 0 === e && (e = {}), void 0 === t && (t = {
                  splitValues: !1
                });
                var n, o = this;
                (this.headersMap = {}, e) && ("undefined" != typeof Headers && e instanceof Headers ? r.getHeaderKeys(e).forEach(function(n) {
                  r.getHeaderValues(e, n).forEach(function(e) {
                    t.splitValues ? o.append(n, r.splitHeaderValue(e)) : o.append(n, e);
                  });
                }) : "object" == typeof (n = e) && "object" == typeof n.headersMap && "function" == typeof n.forEach ? e.forEach(function(e, t) {
                  o.append(e, t);
                }) : "undefined" != typeof Map && e instanceof Map ? e.forEach(function(e, t) {
                  o.append(t, e);
                }) : "string" == typeof e ? this.appendFromString(e) : "object" == typeof e && Object.getOwnPropertyNames(e).forEach(function(t) {
                  var n = e[t];
                  Array.isArray(n) ? n.forEach(function(e) {
                    o.append(t, e);
                  }) : o.append(t, n);
                }));
              }
              return e.prototype.appendFromString = function(e) {
                for (var t = e.split("\r\n"), n = 0; n < t.length; n++) {
                  var r = t[n], o = r.indexOf(":");
                  if (o > 0) {
                    var s = r.substring(0, o).trim(), i = r.substring(o + 1).trim();
                    this.append(s, i);
                  }
                }
              }, e.prototype.delete = function(e, t) {
                var n = r.normalizeName(e);
                if (void 0 === t) delete this.headersMap[n]; else {
                  var o = this.headersMap[n];
                  if (o) {
                    var s = o.indexOf(t);
                    s >= 0 && o.splice(s, 1), 0 === o.length && delete this.headersMap[n];
                  }
                }
              }, e.prototype.append = function(e, t) {
                var n = this, o = r.normalizeName(e);
                Array.isArray(this.headersMap[o]) || (this.headersMap[o] = []), Array.isArray(t) ? t.forEach(function(e) {
                  n.headersMap[o].push(r.normalizeValue(e));
                }) : this.headersMap[o].push(r.normalizeValue(t));
              }, e.prototype.set = function(e, t) {
                var n = r.normalizeName(e);
                if (Array.isArray(t)) {
                  var o = [];
                  t.forEach(function(e) {
                    o.push(r.normalizeValue(e));
                  }), this.headersMap[n] = o;
                } else this.headersMap[n] = [ r.normalizeValue(t) ];
              }, e.prototype.has = function(e, t) {
                var n = this.headersMap[r.normalizeName(e)];
                if (!Array.isArray(n)) return !1;
                if (void 0 !== t) {
                  var o = r.normalizeValue(t);
                  return n.indexOf(o) >= 0;
                }
                return !0;
              }, e.prototype.get = function(e) {
                var t = this.headersMap[r.normalizeName(e)];
                return void 0 !== t ? t.concat() : [];
              }, e.prototype.forEach = function(e) {
                var t = this;
                Object.getOwnPropertyNames(this.headersMap).forEach(function(n) {
                  e(n, t.headersMap[n]);
                }, this);
              }, e.prototype.toHeaders = function() {
                if ("undefined" != typeof Headers) {
                  var e = new Headers();
                  return this.forEach(function(t, n) {
                    n.forEach(function(n) {
                      e.append(t, n);
                    });
                  }), e;
                }
                throw new Error("Headers class is not defined");
              }, e;
            }();
            t.BrowserHeaders = o;
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(0);
            t.BrowserHeaders = r.BrowserHeaders;
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            }), t.iterateHeaders = function(e, t) {
              for (var n = e[Symbol.iterator](), r = n.next(); !r.done; ) t(r.value[0]), r = n.next();
            }, t.iterateHeadersKeys = function(e, t) {
              for (var n = e.keys(), r = n.next(); !r.done; ) t(r.value), r = n.next();
            };
          }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
              value: !0
            });
            var r = n(2);
            function o(e) {
              return e;
            }
            t.normalizeName = function(e) {
              if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name");
              return e.toLowerCase();
            }, t.normalizeValue = function(e) {
              return "string" != typeof e && (e = String(e)), e;
            }, t.getHeaderValues = function(e, t) {
              var n = o(e);
              if (n instanceof Headers && n.getAll) return n.getAll(t);
              var r = n.get(t);
              return r && "string" == typeof r ? [ r ] : r;
            }, t.getHeaderKeys = function(e) {
              var t = o(e), n = {}, s = [];
              return t.keys ? r.iterateHeadersKeys(t, function(e) {
                n[e] || (n[e] = !0, s.push(e));
              }) : t.forEach ? t.forEach(function(e, t) {
                n[t] || (n[t] = !0, s.push(t));
              }) : r.iterateHeaders(t, function(e) {
                var t = e[0];
                n[t] || (n[t] = !0, s.push(t));
              }), s;
            }, t.splitHeaderValue = function(e) {
              var t = [];
              return e.split(", ").forEach(function(e) {
                e.split(",").forEach(function(e) {
                  t.push(e);
                });
              }), t;
            };
          } ]);
        }, e.exports = r();
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(6), o = function(e) {
          return r.CrossBrowserHttpTransport({
            withCredentials: !1
          })(e);
        };
        t.setDefaultTransportFactory = function(e) {
          o = e;
        }, t.makeDefaultTransport = function(e) {
          return o(e);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(7), o = n(8);
        t.CrossBrowserHttpTransport = function(e) {
          if (r.detectFetchSupport()) {
            var t = {
              credentials: e.withCredentials ? "include" : "same-origin"
            };
            return r.FetchReadableStreamTransport(t);
          }
          return o.XhrTransport({
            withCredentials: e.withCredentials
          });
        };
      }, function(e, t, n) {
        "use strict";
        var r = this && this.__assign || function() {
          return (r = Object.assign || function(e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e;
          }).apply(this, arguments);
        };
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var o = n(0), s = n(1), i = n(2);
        t.FetchReadableStreamTransport = function(e) {
          return function(t) {
            return function(e, t) {
              return e.debug && s.debug("fetchRequest", e), new a(e, t);
            }(t, e);
          };
        };
        var a = function() {
          function e(e, t) {
            this.cancelled = !1, this.controller = self.AbortController && new AbortController(), 
            this.options = e, this.init = t;
          }
          return e.prototype.pump = function(e, t) {
            var n = this;
            if (this.reader = e, this.cancelled) return this.options.debug && s.debug("Fetch.pump.cancel at first pump"), 
            void this.reader.cancel();
            this.reader.read().then(function(e) {
              if (e.done) return i.default(function() {
                n.options.onEnd();
              }), t;
              i.default(function() {
                n.options.onChunk(e.value);
              }), n.pump(n.reader, t);
            }).catch(function(e) {
              n.cancelled ? n.options.debug && s.debug("Fetch.catch - request cancelled") : (n.cancelled = !0, 
              n.options.debug && s.debug("Fetch.catch", e.message), i.default(function() {
                n.options.onEnd(e);
              }));
            });
          }, e.prototype.send = function(e) {
            var t = this;
            fetch(this.options.url, r({}, this.init, {
              headers: this.metadata.toHeaders(),
              method: "POST",
              body: e,
              signal: this.controller && this.controller.signal
            })).then(function(e) {
              if (t.options.debug && s.debug("Fetch.response", e), i.default(function() {
                t.options.onHeaders(new o.Metadata(e.headers), e.status);
              }), !e.body) return e;
              t.pump(e.body.getReader(), e);
            }).catch(function(e) {
              t.cancelled ? t.options.debug && s.debug("Fetch.catch - request cancelled") : (t.cancelled = !0, 
              t.options.debug && s.debug("Fetch.catch", e.message), i.default(function() {
                t.options.onEnd(e);
              }));
            });
          }, e.prototype.sendMessage = function(e) {
            this.send(e);
          }, e.prototype.finishSend = function() {}, e.prototype.start = function(e) {
            this.metadata = e;
          }, e.prototype.cancel = function() {
            this.cancelled ? this.options.debug && s.debug("Fetch.abort.cancel already cancelled") : (this.cancelled = !0, 
            this.reader ? (this.options.debug && s.debug("Fetch.abort.cancel"), this.reader.cancel()) : this.options.debug && s.debug("Fetch.abort.cancel before reader"), 
            this.controller && this.controller.abort());
          }, e;
        }();
        t.detectFetchSupport = function() {
          return "undefined" != typeof Response && Response.prototype.hasOwnProperty("body") && "function" == typeof Headers;
        };
      }, function(e, t, n) {
        "use strict";
        var r, o = this && this.__extends || (r = function(e, t) {
          return (r = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function(e, t) {
            e.__proto__ = t;
          } || function(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
          })(e, t);
        }, function(e, t) {
          function n() {
            this.constructor = e;
          }
          r(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, 
          new n());
        });
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var s = n(0), i = n(1), a = n(2), u = n(12);
        t.XhrTransport = function(e) {
          return function(t) {
            if (u.detectMozXHRSupport()) return new c(t, e);
            if (u.detectXHROverrideMimeTypeSupport()) return new d(t, e);
            throw new Error("This environment's XHR implementation cannot support binary transfer.");
          };
        };
        var d = function() {
          function e(e, t) {
            this.options = e, this.init = t;
          }
          return e.prototype.onProgressEvent = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onProgressEvent.length: ", this.xhr.response.length);
            var t = this.xhr.response.substr(this.index);
            this.index = this.xhr.response.length;
            var n = f(t);
            a.default(function() {
              e.options.onChunk(n);
            });
          }, e.prototype.onLoadEvent = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onLoadEvent"), a.default(function() {
              e.options.onEnd();
            });
          }, e.prototype.onStateChange = function() {
            var e = this;
            this.options.debug && i.debug("XHR.onStateChange", this.xhr.readyState), this.xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED && a.default(function() {
              e.options.onHeaders(new s.Metadata(e.xhr.getAllResponseHeaders()), e.xhr.status);
            });
          }, e.prototype.sendMessage = function(e) {
            this.xhr.send(e);
          }, e.prototype.finishSend = function() {}, e.prototype.start = function(e) {
            var t = this;
            this.metadata = e;
            var n = new XMLHttpRequest();
            this.xhr = n, n.open("POST", this.options.url), this.configureXhr(), this.metadata.forEach(function(e, t) {
              n.setRequestHeader(e, t.join(", "));
            }), n.withCredentials = Boolean(this.init.withCredentials), n.addEventListener("readystatechange", this.onStateChange.bind(this)), 
            n.addEventListener("progress", this.onProgressEvent.bind(this)), n.addEventListener("loadend", this.onLoadEvent.bind(this)), 
            n.addEventListener("error", function(e) {
              t.options.debug && i.debug("XHR.error", e), a.default(function() {
                t.options.onEnd(e.error);
              });
            });
          }, e.prototype.configureXhr = function() {
            this.xhr.responseType = "text", this.xhr.overrideMimeType("text/plain; charset=x-user-defined");
          }, e.prototype.cancel = function() {
            this.options.debug && i.debug("XHR.abort"), this.xhr.abort();
          }, e;
        }();
        t.XHR = d;
        var c = function(e) {
          function t() {
            return null !== e && e.apply(this, arguments) || this;
          }
          return o(t, e), t.prototype.configureXhr = function() {
            this.options.debug && i.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"), 
            this.xhr.responseType = "moz-chunked-arraybuffer";
          }, t.prototype.onProgressEvent = function() {
            var e = this, t = this.xhr.response;
            this.options.debug && i.debug("MozXHR.onProgressEvent: ", new Uint8Array(t)), a.default(function() {
              e.options.onChunk(new Uint8Array(t));
            });
          }, t;
        }(d);
        function p(e, t) {
          var n = e.charCodeAt(t);
          if (n >= 55296 && n <= 56319) {
            var r = e.charCodeAt(t + 1);
            r >= 56320 && r <= 57343 && (n = 65536 + (n - 55296 << 10) + (r - 56320));
          }
          return n;
        }
        function f(e) {
          for (var t = new Uint8Array(e.length), n = 0, r = 0; r < e.length; r++) {
            var o = String.prototype.codePointAt ? e.codePointAt(r) : p(e, r);
            t[n++] = 255 & o;
          }
          return t;
        }
        t.MozChunkedArrayBufferXHR = c, t.stringToArrayBuffer = f;
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r, o = n(0), s = function(e) {
          return 9 === e || 10 === e || 13 === e;
        };
        function i(e) {
          return s(e) || e >= 32 && e <= 126;
        }
        function a(e) {
          for (var t = 0; t !== e.length; ++t) if (!i(e[t])) throw new Error("Metadata is not valid (printable) ASCII");
          return String.fromCharCode.apply(String, Array.prototype.slice.call(e));
        }
        function u(e) {
          return 128 == (128 & e.getUint8(0));
        }
        function d(e) {
          return e.getUint32(1, !1);
        }
        function c(e, t, n) {
          return e.byteLength - t >= n;
        }
        function p(e, t, n) {
          if (e.slice) return e.slice(t, n);
          var r = e.length;
          void 0 !== n && (r = n);
          for (var o = new Uint8Array(r - t), s = 0, i = t; i < r; i++) o[s++] = e[i];
          return o;
        }
        t.decodeASCII = a, t.encodeASCII = function(e) {
          for (var t = new Uint8Array(e.length), n = 0; n !== e.length; ++n) {
            var r = e.charCodeAt(n);
            if (!i(r)) throw new Error("Metadata contains invalid ASCII");
            t[n] = r;
          }
          return t;
        }, function(e) {
          e[e.MESSAGE = 1] = "MESSAGE", e[e.TRAILERS = 2] = "TRAILERS";
        }(r = t.ChunkType || (t.ChunkType = {}));
        var f = function() {
          function e() {
            this.buffer = null, this.position = 0;
          }
          return e.prototype.parse = function(e, t) {
            if (0 === e.length && t) return [];
            var n, s = [];
            if (null == this.buffer) this.buffer = e, this.position = 0; else if (this.position === this.buffer.byteLength) this.buffer = e, 
            this.position = 0; else {
              var i = this.buffer.byteLength - this.position, f = new Uint8Array(i + e.byteLength), h = p(this.buffer, this.position);
              f.set(h, 0);
              var l = new Uint8Array(e);
              f.set(l, i), this.buffer = f, this.position = 0;
            }
            for (;;) {
              if (!c(this.buffer, this.position, 5)) return s;
              var g = p(this.buffer, this.position, this.position + 5), b = new DataView(g.buffer, g.byteOffset, g.byteLength), y = d(b);
              if (!c(this.buffer, this.position, 5 + y)) return s;
              var v = p(this.buffer, this.position + 5, this.position + 5 + y);
              if (this.position += 5 + y, u(b)) return s.push({
                chunkType: r.TRAILERS,
                trailers: (n = v, new o.Metadata(a(n)))
              }), s;
              s.push({
                chunkType: r.MESSAGE,
                data: v
              });
            }
          }, e;
        }();
        t.ChunkParser = f;
      }, function(e, t, n) {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), function(e) {
          e[e.OK = 0] = "OK", e[e.Canceled = 1] = "Canceled", e[e.Unknown = 2] = "Unknown", 
          e[e.InvalidArgument = 3] = "InvalidArgument", e[e.DeadlineExceeded = 4] = "DeadlineExceeded", 
          e[e.NotFound = 5] = "NotFound", e[e.AlreadyExists = 6] = "AlreadyExists", e[e.PermissionDenied = 7] = "PermissionDenied", 
          e[e.ResourceExhausted = 8] = "ResourceExhausted", e[e.FailedPrecondition = 9] = "FailedPrecondition", 
          e[e.Aborted = 10] = "Aborted", e[e.OutOfRange = 11] = "OutOfRange", e[e.Unimplemented = 12] = "Unimplemented", 
          e[e.Internal = 13] = "Internal", e[e.Unavailable = 14] = "Unavailable", e[e.DataLoss = 15] = "DataLoss", 
          e[e.Unauthenticated = 16] = "Unauthenticated";
        }(r = t.Code || (t.Code = {})), t.httpStatusToCode = function(e) {
          switch (e) {
           case 0:
            return r.Internal;

           case 200:
            return r.OK;

           case 400:
            return r.InvalidArgument;

           case 401:
            return r.Unauthenticated;

           case 403:
            return r.PermissionDenied;

           case 404:
            return r.NotFound;

           case 409:
            return r.Aborted;

           case 412:
            return r.FailedPrecondition;

           case 429:
            return r.ResourceExhausted;

           case 499:
            return r.Canceled;

           case 500:
            return r.Unknown;

           case 501:
            return r.Unimplemented;

           case 503:
            return r.Unavailable;

           case 504:
            return r.DeadlineExceeded;

           default:
            return r.Unknown;
          }
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(4), o = n(5), s = n(7), i = n(13), a = n(8), u = n(6), d = n(10), c = n(14), p = n(16), f = n(3);
        !function(e) {
          e.setDefaultTransport = o.setDefaultTransportFactory, e.CrossBrowserHttpTransport = u.CrossBrowserHttpTransport, 
          e.FetchReadableStreamTransport = s.FetchReadableStreamTransport, e.XhrTransport = a.XhrTransport, 
          e.WebsocketTransport = i.WebsocketTransport, e.Code = d.Code, e.Metadata = r.BrowserHeaders, 
          e.client = function(e, t) {
            return f.client(e, t);
          }, e.invoke = c.invoke, e.unary = p.unary;
        }(t.grpc || (t.grpc = {}));
      }, function(e, t, n) {
        "use strict";
        var r;
        function o() {
          if (void 0 !== r) return r;
          if (XMLHttpRequest) {
            r = new XMLHttpRequest();
            try {
              r.open("GET", "https://localhost");
            } catch (e) {}
          }
          return r;
        }
        function s(e) {
          var t = o();
          if (!t) return !1;
          try {
            return t.responseType = e, t.responseType === e;
          } catch (e) {}
          return !1;
        }
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.xhrSupportsResponseType = s, t.detectMozXHRSupport = function() {
          return "undefined" != typeof XMLHttpRequest && s("moz-chunked-arraybuffer");
        }, t.detectXHROverrideMimeTypeSupport = function() {
          return "undefined" != typeof XMLHttpRequest && XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType");
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r, o = n(1), s = n(2), i = n(9);
        !function(e) {
          e[e.FINISH_SEND = 1] = "FINISH_SEND";
        }(r || (r = {}));
        var a = new Uint8Array([ 1 ]);
        t.WebsocketTransport = function() {
          return function(e) {
            return function(e) {
              e.debug && o.debug("websocketRequest", e);
              var t, n = function(e) {
                if ("https://" === e.substr(0, 8)) return "wss://" + e.substr(8);
                if ("http://" === e.substr(0, 7)) return "ws://" + e.substr(7);
                throw new Error("Websocket transport constructed with non-https:// or http:// host.");
              }(e.url), u = [];
              function d(e) {
                if (e === r.FINISH_SEND) t.send(a); else {
                  var n = e, o = new Int8Array(n.byteLength + 1);
                  o.set(new Uint8Array([ 0 ])), o.set(n, 1), t.send(o);
                }
              }
              return {
                sendMessage: function(e) {
                  t && t.readyState !== t.CONNECTING ? d(e) : u.push(e);
                },
                finishSend: function() {
                  t && t.readyState !== t.CONNECTING ? d(r.FINISH_SEND) : u.push(r.FINISH_SEND);
                },
                start: function(r) {
                  (t = new WebSocket(n, [ "grpc-websockets" ])).binaryType = "arraybuffer", t.onopen = function() {
                    var n;
                    e.debug && o.debug("websocketRequest.onopen"), t.send((n = "", r.forEach(function(e, t) {
                      n += e + ": " + t.join(", ") + "\r\n";
                    }), i.encodeASCII(n))), u.forEach(function(e) {
                      d(e);
                    });
                  }, t.onclose = function(t) {
                    e.debug && o.debug("websocketRequest.onclose", t), s.default(function() {
                      e.onEnd();
                    });
                  }, t.onerror = function(t) {
                    e.debug && o.debug("websocketRequest.onerror", t);
                  }, t.onmessage = function(t) {
                    s.default(function() {
                      e.onChunk(new Uint8Array(t.data));
                    });
                  };
                },
                cancel: function() {
                  e.debug && o.debug("websocket.abort"), s.default(function() {
                    t.close();
                  });
                }
              };
            }(e);
          };
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(3);
        t.invoke = function(e, t) {
          if (e.requestStream) throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");
          var n = r.client(e, {
            host: t.host,
            transport: t.transport,
            debug: t.debug
          });
          return t.onHeaders && n.onHeaders(t.onHeaders), t.onMessage && n.onMessage(t.onMessage), 
          t.onEnd && n.onEnd(t.onEnd), n.start(t.metadata), n.send(t.request), n.finishSend(), 
          {
            close: function() {
              n.close();
            }
          };
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        }), t.frameRequest = function(e) {
          var t = e.serializeBinary(), n = new ArrayBuffer(t.byteLength + 5);
          return new DataView(n, 1, 4).setUint32(0, t.length, !1), new Uint8Array(n, 5).set(t), 
          new Uint8Array(n);
        };
      }, function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
          value: !0
        });
        var r = n(0), o = n(3);
        t.unary = function(e, t) {
          if (e.responseStream) throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");
          if (e.requestStream) throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");
          var n = null, s = null, i = o.client(e, {
            host: t.host,
            transport: t.transport,
            debug: t.debug
          });
          return i.onHeaders(function(e) {
            n = e;
          }), i.onMessage(function(e) {
            s = e;
          }), i.onEnd(function(e, o, i) {
            t.onEnd({
              status: e,
              statusMessage: o,
              headers: n || new r.Metadata(),
              message: s,
              trailers: i
            });
          }), i.start(t.metadata), i.send(t.request), i.finishSend(), {
            close: function() {
              i.close();
            }
          };
        };
      } ]);
    });
  }, {} ],
  8: [ function(require, module, exports) {
    "use strict";
    var keys = require("object-keys");
    var hasSymbols = "function" === typeof Symbol && "symbol" === typeof Symbol("foo");
    var toStr = Object.prototype.toString;
    var concat = Array.prototype.concat;
    var origDefineProperty = Object.defineProperty;
    var isFunction = function(fn) {
      return "function" === typeof fn && "[object Function]" === toStr.call(fn);
    };
    var arePropertyDescriptorsSupported = function() {
      var obj = {};
      try {
        origDefineProperty(obj, "x", {
          enumerable: false,
          value: obj
        });
        for (var _ in obj) return false;
        return obj.x === obj;
      } catch (e) {
        return false;
      }
    };
    var supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();
    var defineProperty = function(object, name, value, predicate) {
      if (name in object && (!isFunction(predicate) || !predicate())) return;
      supportsDescriptors ? origDefineProperty(object, name, {
        configurable: true,
        enumerable: false,
        value: value,
        writable: true
      }) : object[name] = value;
    };
    var defineProperties = function(object, map) {
      var predicates = arguments.length > 2 ? arguments[2] : {};
      var props = keys(map);
      hasSymbols && (props = concat.call(props, Object.getOwnPropertySymbols(map)));
      for (var i = 0; i < props.length; i += 1) defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
    };
    defineProperties.supportsDescriptors = !!supportsDescriptors;
    module.exports = defineProperties;
  }, {
    "object-keys": 34
  } ],
  9: [ function(require, module, exports) {
    "use strict";
    var undefined;
    var ThrowTypeError = Object.getOwnPropertyDescriptor ? function() {
      return Object.getOwnPropertyDescriptor(arguments, "callee").get;
    }() : function() {
      throw new TypeError();
    };
    var hasSymbols = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator;
    var getProto = Object.getPrototypeOf || function(x) {
      return x.__proto__;
    };
    var generator;
    var generatorFunction = generator ? getProto(generator) : undefined;
    var asyncFn;
    var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
    var asyncGen;
    var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
    var asyncGenIterator = asyncGen ? asyncGen() : undefined;
    var TypedArray = "undefined" === typeof Uint8Array ? undefined : getProto(Uint8Array);
    var INTRINSICS = {
      "$ %Array%": Array,
      "$ %ArrayBuffer%": "undefined" === typeof ArrayBuffer ? undefined : ArrayBuffer,
      "$ %ArrayBufferPrototype%": "undefined" === typeof ArrayBuffer ? undefined : ArrayBuffer.prototype,
      "$ %ArrayIteratorPrototype%": hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
      "$ %ArrayPrototype%": Array.prototype,
      "$ %ArrayProto_entries%": Array.prototype.entries,
      "$ %ArrayProto_forEach%": Array.prototype.forEach,
      "$ %ArrayProto_keys%": Array.prototype.keys,
      "$ %ArrayProto_values%": Array.prototype.values,
      "$ %AsyncFromSyncIteratorPrototype%": undefined,
      "$ %AsyncFunction%": asyncFunction,
      "$ %AsyncFunctionPrototype%": asyncFunction ? asyncFunction.prototype : undefined,
      "$ %AsyncGenerator%": asyncGen ? getProto(asyncGenIterator) : undefined,
      "$ %AsyncGeneratorFunction%": asyncGenFunction,
      "$ %AsyncGeneratorPrototype%": asyncGenFunction ? asyncGenFunction.prototype : undefined,
      "$ %AsyncIteratorPrototype%": asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
      "$ %Atomics%": "undefined" === typeof Atomics ? undefined : Atomics,
      "$ %Boolean%": Boolean,
      "$ %BooleanPrototype%": Boolean.prototype,
      "$ %DataView%": "undefined" === typeof DataView ? undefined : DataView,
      "$ %DataViewPrototype%": "undefined" === typeof DataView ? undefined : DataView.prototype,
      "$ %Date%": Date,
      "$ %DatePrototype%": Date.prototype,
      "$ %decodeURI%": decodeURI,
      "$ %decodeURIComponent%": decodeURIComponent,
      "$ %encodeURI%": encodeURI,
      "$ %encodeURIComponent%": encodeURIComponent,
      "$ %Error%": Error,
      "$ %ErrorPrototype%": Error.prototype,
      "$ %eval%": eval,
      "$ %EvalError%": EvalError,
      "$ %EvalErrorPrototype%": EvalError.prototype,
      "$ %Float32Array%": "undefined" === typeof Float32Array ? undefined : Float32Array,
      "$ %Float32ArrayPrototype%": "undefined" === typeof Float32Array ? undefined : Float32Array.prototype,
      "$ %Float64Array%": "undefined" === typeof Float64Array ? undefined : Float64Array,
      "$ %Float64ArrayPrototype%": "undefined" === typeof Float64Array ? undefined : Float64Array.prototype,
      "$ %Function%": Function,
      "$ %FunctionPrototype%": Function.prototype,
      "$ %Generator%": generator ? getProto(generator()) : undefined,
      "$ %GeneratorFunction%": generatorFunction,
      "$ %GeneratorPrototype%": generatorFunction ? generatorFunction.prototype : undefined,
      "$ %Int8Array%": "undefined" === typeof Int8Array ? undefined : Int8Array,
      "$ %Int8ArrayPrototype%": "undefined" === typeof Int8Array ? undefined : Int8Array.prototype,
      "$ %Int16Array%": "undefined" === typeof Int16Array ? undefined : Int16Array,
      "$ %Int16ArrayPrototype%": "undefined" === typeof Int16Array ? undefined : Int8Array.prototype,
      "$ %Int32Array%": "undefined" === typeof Int32Array ? undefined : Int32Array,
      "$ %Int32ArrayPrototype%": "undefined" === typeof Int32Array ? undefined : Int32Array.prototype,
      "$ %isFinite%": isFinite,
      "$ %isNaN%": isNaN,
      "$ %IteratorPrototype%": hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
      "$ %JSON%": JSON,
      "$ %JSONParse%": JSON.parse,
      "$ %Map%": "undefined" === typeof Map ? undefined : Map,
      "$ %MapIteratorPrototype%": "undefined" !== typeof Map && hasSymbols ? getProto(new Map()[Symbol.iterator]()) : undefined,
      "$ %MapPrototype%": "undefined" === typeof Map ? undefined : Map.prototype,
      "$ %Math%": Math,
      "$ %Number%": Number,
      "$ %NumberPrototype%": Number.prototype,
      "$ %Object%": Object,
      "$ %ObjectPrototype%": Object.prototype,
      "$ %ObjProto_toString%": Object.prototype.toString,
      "$ %ObjProto_valueOf%": Object.prototype.valueOf,
      "$ %parseFloat%": parseFloat,
      "$ %parseInt%": parseInt,
      "$ %Promise%": "undefined" === typeof Promise ? undefined : Promise,
      "$ %PromisePrototype%": "undefined" === typeof Promise ? undefined : Promise.prototype,
      "$ %PromiseProto_then%": "undefined" === typeof Promise ? undefined : Promise.prototype.then,
      "$ %Promise_all%": "undefined" === typeof Promise ? undefined : Promise.all,
      "$ %Promise_reject%": "undefined" === typeof Promise ? undefined : Promise.reject,
      "$ %Promise_resolve%": "undefined" === typeof Promise ? undefined : Promise.resolve,
      "$ %Proxy%": "undefined" === typeof Proxy ? undefined : Proxy,
      "$ %RangeError%": RangeError,
      "$ %RangeErrorPrototype%": RangeError.prototype,
      "$ %ReferenceError%": ReferenceError,
      "$ %ReferenceErrorPrototype%": ReferenceError.prototype,
      "$ %Reflect%": "undefined" === typeof Reflect ? undefined : Reflect,
      "$ %RegExp%": RegExp,
      "$ %RegExpPrototype%": RegExp.prototype,
      "$ %Set%": "undefined" === typeof Set ? undefined : Set,
      "$ %SetIteratorPrototype%": "undefined" !== typeof Set && hasSymbols ? getProto(new Set()[Symbol.iterator]()) : undefined,
      "$ %SetPrototype%": "undefined" === typeof Set ? undefined : Set.prototype,
      "$ %SharedArrayBuffer%": "undefined" === typeof SharedArrayBuffer ? undefined : SharedArrayBuffer,
      "$ %SharedArrayBufferPrototype%": "undefined" === typeof SharedArrayBuffer ? undefined : SharedArrayBuffer.prototype,
      "$ %String%": String,
      "$ %StringIteratorPrototype%": hasSymbols ? getProto(""[Symbol.iterator]()) : undefined,
      "$ %StringPrototype%": String.prototype,
      "$ %Symbol%": hasSymbols ? Symbol : undefined,
      "$ %SymbolPrototype%": hasSymbols ? Symbol.prototype : undefined,
      "$ %SyntaxError%": SyntaxError,
      "$ %SyntaxErrorPrototype%": SyntaxError.prototype,
      "$ %ThrowTypeError%": ThrowTypeError,
      "$ %TypedArray%": TypedArray,
      "$ %TypedArrayPrototype%": TypedArray ? TypedArray.prototype : undefined,
      "$ %TypeError%": TypeError,
      "$ %TypeErrorPrototype%": TypeError.prototype,
      "$ %Uint8Array%": "undefined" === typeof Uint8Array ? undefined : Uint8Array,
      "$ %Uint8ArrayPrototype%": "undefined" === typeof Uint8Array ? undefined : Uint8Array.prototype,
      "$ %Uint8ClampedArray%": "undefined" === typeof Uint8ClampedArray ? undefined : Uint8ClampedArray,
      "$ %Uint8ClampedArrayPrototype%": "undefined" === typeof Uint8ClampedArray ? undefined : Uint8ClampedArray.prototype,
      "$ %Uint16Array%": "undefined" === typeof Uint16Array ? undefined : Uint16Array,
      "$ %Uint16ArrayPrototype%": "undefined" === typeof Uint16Array ? undefined : Uint16Array.prototype,
      "$ %Uint32Array%": "undefined" === typeof Uint32Array ? undefined : Uint32Array,
      "$ %Uint32ArrayPrototype%": "undefined" === typeof Uint32Array ? undefined : Uint32Array.prototype,
      "$ %URIError%": URIError,
      "$ %URIErrorPrototype%": URIError.prototype,
      "$ %WeakMap%": "undefined" === typeof WeakMap ? undefined : WeakMap,
      "$ %WeakMapPrototype%": "undefined" === typeof WeakMap ? undefined : WeakMap.prototype,
      "$ %WeakSet%": "undefined" === typeof WeakSet ? undefined : WeakSet,
      "$ %WeakSetPrototype%": "undefined" === typeof WeakSet ? undefined : WeakSet.prototype
    };
    module.exports = function GetIntrinsic(name, allowMissing) {
      if (arguments.length > 1 && "boolean" !== typeof allowMissing) throw new TypeError('"allowMissing" argument must be a boolean');
      var key = "$ " + name;
      if (!(key in INTRINSICS)) throw new SyntaxError("intrinsic " + name + " does not exist!");
      if ("undefined" === typeof INTRINSICS[key] && !allowMissing) throw new TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
      return INTRINSICS[key];
    };
  }, {} ],
  10: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("./GetIntrinsic");
    var $Object = GetIntrinsic("%Object%");
    var $TypeError = GetIntrinsic("%TypeError%");
    var $String = GetIntrinsic("%String%");
    var $Number = GetIntrinsic("%Number%");
    var assertRecord = require("./helpers/assertRecord");
    var isPropertyDescriptor = require("./helpers/isPropertyDescriptor");
    var $isNaN = require("./helpers/isNaN");
    var $isFinite = require("./helpers/isFinite");
    var sign = require("./helpers/sign");
    var mod = require("./helpers/mod");
    var IsCallable = require("is-callable");
    var toPrimitive = require("es-to-primitive/es5");
    var has = require("has");
    var callBind = require("./helpers/callBind");
    var strSlice = callBind($String.prototype.slice);
    var isPrefixOf = function isPrefixOf(prefix, string) {
      if (prefix === string) return true;
      if (prefix.length > string.length) return false;
      return strSlice(string, 0, prefix.length) === prefix;
    };
    var ES5 = {
      ToPrimitive: toPrimitive,
      ToBoolean: function ToBoolean(value) {
        return !!value;
      },
      ToNumber: function ToNumber(value) {
        return +value;
      },
      ToInteger: function ToInteger(value) {
        var number = this.ToNumber(value);
        if ($isNaN(number)) return 0;
        if (0 === number || !$isFinite(number)) return number;
        return sign(number) * Math.floor(Math.abs(number));
      },
      ToInt32: function ToInt32(x) {
        return this.ToNumber(x) >> 0;
      },
      ToUint32: function ToUint32(x) {
        return this.ToNumber(x) >>> 0;
      },
      ToUint16: function ToUint16(value) {
        var number = this.ToNumber(value);
        if ($isNaN(number) || 0 === number || !$isFinite(number)) return 0;
        var posInt = sign(number) * Math.floor(Math.abs(number));
        return mod(posInt, 65536);
      },
      ToString: function ToString(value) {
        return $String(value);
      },
      ToObject: function ToObject(value) {
        this.CheckObjectCoercible(value);
        return $Object(value);
      },
      CheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {
        if (null == value) throw new $TypeError(optMessage || "Cannot call method on " + value);
        return value;
      },
      IsCallable: IsCallable,
      SameValue: function SameValue(x, y) {
        if (x === y) {
          if (0 === x) return 1 / x === 1 / y;
          return true;
        }
        return $isNaN(x) && $isNaN(y);
      },
      Type: function Type(x) {
        if (null === x) return "Null";
        if ("undefined" === typeof x) return "Undefined";
        if ("function" === typeof x || "object" === typeof x) return "Object";
        if ("number" === typeof x) return "Number";
        if ("boolean" === typeof x) return "Boolean";
        if ("string" === typeof x) return "String";
      },
      IsPropertyDescriptor: function IsPropertyDescriptor(Desc) {
        return isPropertyDescriptor(this, Desc);
      },
      IsAccessorDescriptor: function IsAccessorDescriptor(Desc) {
        if ("undefined" === typeof Desc) return false;
        assertRecord(this, "Property Descriptor", "Desc", Desc);
        if (!has(Desc, "[[Get]]") && !has(Desc, "[[Set]]")) return false;
        return true;
      },
      IsDataDescriptor: function IsDataDescriptor(Desc) {
        if ("undefined" === typeof Desc) return false;
        assertRecord(this, "Property Descriptor", "Desc", Desc);
        if (!has(Desc, "[[Value]]") && !has(Desc, "[[Writable]]")) return false;
        return true;
      },
      IsGenericDescriptor: function IsGenericDescriptor(Desc) {
        if ("undefined" === typeof Desc) return false;
        assertRecord(this, "Property Descriptor", "Desc", Desc);
        if (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) return true;
        return false;
      },
      FromPropertyDescriptor: function FromPropertyDescriptor(Desc) {
        if ("undefined" === typeof Desc) return Desc;
        assertRecord(this, "Property Descriptor", "Desc", Desc);
        if (this.IsDataDescriptor(Desc)) return {
          value: Desc["[[Value]]"],
          writable: !!Desc["[[Writable]]"],
          enumerable: !!Desc["[[Enumerable]]"],
          configurable: !!Desc["[[Configurable]]"]
        };
        if (this.IsAccessorDescriptor(Desc)) return {
          get: Desc["[[Get]]"],
          set: Desc["[[Set]]"],
          enumerable: !!Desc["[[Enumerable]]"],
          configurable: !!Desc["[[Configurable]]"]
        };
        throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor");
      },
      ToPropertyDescriptor: function ToPropertyDescriptor(Obj) {
        if ("Object" !== this.Type(Obj)) throw new $TypeError("ToPropertyDescriptor requires an object");
        var desc = {};
        has(Obj, "enumerable") && (desc["[[Enumerable]]"] = this.ToBoolean(Obj.enumerable));
        has(Obj, "configurable") && (desc["[[Configurable]]"] = this.ToBoolean(Obj.configurable));
        has(Obj, "value") && (desc["[[Value]]"] = Obj.value);
        has(Obj, "writable") && (desc["[[Writable]]"] = this.ToBoolean(Obj.writable));
        if (has(Obj, "get")) {
          var getter = Obj.get;
          if ("undefined" !== typeof getter && !this.IsCallable(getter)) throw new TypeError("getter must be a function");
          desc["[[Get]]"] = getter;
        }
        if (has(Obj, "set")) {
          var setter = Obj.set;
          if ("undefined" !== typeof setter && !this.IsCallable(setter)) throw new $TypeError("setter must be a function");
          desc["[[Set]]"] = setter;
        }
        if ((has(desc, "[[Get]]") || has(desc, "[[Set]]")) && (has(desc, "[[Value]]") || has(desc, "[[Writable]]"))) throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
        return desc;
      },
      "Abstract Equality Comparison": function AbstractEqualityComparison(x, y) {
        var xType = this.Type(x);
        var yType = this.Type(y);
        if (xType === yType) return x === y;
        if (null == x && null == y) return true;
        if ("Number" === xType && "String" === yType) return this["Abstract Equality Comparison"](x, this.ToNumber(y));
        if ("String" === xType && "Number" === yType) return this["Abstract Equality Comparison"](this.ToNumber(x), y);
        if ("Boolean" === xType) return this["Abstract Equality Comparison"](this.ToNumber(x), y);
        if ("Boolean" === yType) return this["Abstract Equality Comparison"](x, this.ToNumber(y));
        if (("String" === xType || "Number" === xType) && "Object" === yType) return this["Abstract Equality Comparison"](x, this.ToPrimitive(y));
        if ("Object" === xType && ("String" === yType || "Number" === yType)) return this["Abstract Equality Comparison"](this.ToPrimitive(x), y);
        return false;
      },
      "Strict Equality Comparison": function StrictEqualityComparison(x, y) {
        var xType = this.Type(x);
        var yType = this.Type(y);
        if (xType !== yType) return false;
        if ("Undefined" === xType || "Null" === xType) return true;
        return x === y;
      },
      "Abstract Relational Comparison": function AbstractRelationalComparison(x, y, LeftFirst) {
        if ("Boolean" !== this.Type(LeftFirst)) throw new $TypeError("Assertion failed: LeftFirst argument must be a Boolean");
        var px;
        var py;
        if (LeftFirst) {
          px = this.ToPrimitive(x, $Number);
          py = this.ToPrimitive(y, $Number);
        } else {
          py = this.ToPrimitive(y, $Number);
          px = this.ToPrimitive(x, $Number);
        }
        var bothStrings = "String" === this.Type(px) && "String" === this.Type(py);
        if (!bothStrings) {
          var nx = this.ToNumber(px);
          var ny = this.ToNumber(py);
          if ($isNaN(nx) || $isNaN(ny)) return;
          if ($isFinite(nx) && $isFinite(ny) && nx === ny) return false;
          if (0 === nx && 0 === ny) return false;
          if (Infinity === nx) return false;
          if (Infinity === ny) return true;
          if (-Infinity === ny) return false;
          if (-Infinity === nx) return true;
          return nx < ny;
        }
        if (isPrefixOf(py, px)) return false;
        if (isPrefixOf(px, py)) return true;
        return px < py;
      }
    };
    module.exports = ES5;
  }, {
    "./GetIntrinsic": 9,
    "./helpers/assertRecord": 11,
    "./helpers/callBind": 12,
    "./helpers/isFinite": 13,
    "./helpers/isNaN": 14,
    "./helpers/isPropertyDescriptor": 15,
    "./helpers/mod": 16,
    "./helpers/sign": 17,
    "es-to-primitive/es5": 18,
    has: 29,
    "is-callable": 30
  } ],
  11: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("../GetIntrinsic");
    var $TypeError = GetIntrinsic("%TypeError%");
    var $SyntaxError = GetIntrinsic("%SyntaxError%");
    var has = require("has");
    var predicates = {
      "Property Descriptor": function isPropertyDescriptor(ES, Desc) {
        if ("Object" !== ES.Type(Desc)) return false;
        var allowed = {
          "[[Configurable]]": true,
          "[[Enumerable]]": true,
          "[[Get]]": true,
          "[[Set]]": true,
          "[[Value]]": true,
          "[[Writable]]": true
        };
        for (var key in Desc) if (has(Desc, key) && !allowed[key]) return false;
        var isData = has(Desc, "[[Value]]");
        var IsAccessor = has(Desc, "[[Get]]") || has(Desc, "[[Set]]");
        if (isData && IsAccessor) throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");
        return true;
      }
    };
    module.exports = function assertRecord(ES, recordType, argumentName, value) {
      var predicate = predicates[recordType];
      if ("function" !== typeof predicate) throw new $SyntaxError("unknown record type: " + recordType);
      if (!predicate(ES, value)) throw new $TypeError(argumentName + " must be a " + recordType);
    };
  }, {
    "../GetIntrinsic": 9,
    has: 29
  } ],
  12: [ function(require, module, exports) {
    "use strict";
    var bind = require("function-bind");
    var GetIntrinsic = require("../GetIntrinsic");
    var $Function = GetIntrinsic("%Function%");
    var $apply = $Function.apply;
    var $call = $Function.call;
    module.exports = function callBind() {
      return bind.apply($call, arguments);
    };
    module.exports.apply = function applyBind() {
      return bind.apply($apply, arguments);
    };
  }, {
    "../GetIntrinsic": 9,
    "function-bind": 22
  } ],
  13: [ function(require, module, exports) {
    "use strict";
    var $isNaN = Number.isNaN || function(a) {
      return a !== a;
    };
    module.exports = Number.isFinite || function(x) {
      return "number" === typeof x && !$isNaN(x) && Infinity !== x && -Infinity !== x;
    };
  }, {} ],
  14: [ function(require, module, exports) {
    "use strict";
    module.exports = Number.isNaN || function isNaN(a) {
      return a !== a;
    };
  }, {} ],
  15: [ function(require, module, exports) {
    "use strict";
    var GetIntrinsic = require("../GetIntrinsic");
    var has = require("has");
    var $TypeError = GetIntrinsic("%TypeError%");
    module.exports = function IsPropertyDescriptor(ES, Desc) {
      if ("Object" !== ES.Type(Desc)) return false;
      var allowed = {
        "[[Configurable]]": true,
        "[[Enumerable]]": true,
        "[[Get]]": true,
        "[[Set]]": true,
        "[[Value]]": true,
        "[[Writable]]": true
      };
      for (var key in Desc) if (has(Desc, key) && !allowed[key]) return false;
      if (ES.IsDataDescriptor(Desc) && ES.IsAccessorDescriptor(Desc)) throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");
      return true;
    };
  }, {
    "../GetIntrinsic": 9,
    has: 29
  } ],
  16: [ function(require, module, exports) {
    "use strict";
    module.exports = function mod(number, modulo) {
      var remain = number % modulo;
      return Math.floor(remain >= 0 ? remain : remain + modulo);
    };
  }, {} ],
  17: [ function(require, module, exports) {
    "use strict";
    module.exports = function sign(number) {
      return number >= 0 ? 1 : -1;
    };
  }, {} ],
  18: [ function(require, module, exports) {
    "use strict";
    var toStr = Object.prototype.toString;
    var isPrimitive = require("./helpers/isPrimitive");
    var isCallable = require("is-callable");
    var ES5internalSlots = {
      "[[DefaultValue]]": function(O) {
        var actualHint;
        actualHint = arguments.length > 1 ? arguments[1] : "[object Date]" === toStr.call(O) ? String : Number;
        if (actualHint === String || actualHint === Number) {
          var methods = actualHint === String ? [ "toString", "valueOf" ] : [ "valueOf", "toString" ];
          var value, i;
          for (i = 0; i < methods.length; ++i) if (isCallable(O[methods[i]])) {
            value = O[methods[i]]();
            if (isPrimitive(value)) return value;
          }
          throw new TypeError("No default value");
        }
        throw new TypeError("invalid [[DefaultValue]] hint supplied");
      }
    };
    module.exports = function ToPrimitive(input) {
      if (isPrimitive(input)) return input;
      if (arguments.length > 1) return ES5internalSlots["[[DefaultValue]]"](input, arguments[1]);
      return ES5internalSlots["[[DefaultValue]]"](input);
    };
  }, {
    "./helpers/isPrimitive": 19,
    "is-callable": 30
  } ],
  19: [ function(require, module, exports) {
    module.exports = function isPrimitive(value) {
      return null === value || "function" !== typeof value && "object" !== typeof value;
    };
  }, {} ],
  20: [ function(require, module, exports) {
    "use strict";
    var isCallable = require("is-callable");
    var toStr = Object.prototype.toString;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var forEachArray = function forEachArray(array, iterator, receiver) {
      for (var i = 0, len = array.length; i < len; i++) hasOwnProperty.call(array, i) && (null == receiver ? iterator(array[i], i, array) : iterator.call(receiver, array[i], i, array));
    };
    var forEachString = function forEachString(string, iterator, receiver) {
      for (var i = 0, len = string.length; i < len; i++) null == receiver ? iterator(string.charAt(i), i, string) : iterator.call(receiver, string.charAt(i), i, string);
    };
    var forEachObject = function forEachObject(object, iterator, receiver) {
      for (var k in object) hasOwnProperty.call(object, k) && (null == receiver ? iterator(object[k], k, object) : iterator.call(receiver, object[k], k, object));
    };
    var forEach = function forEach(list, iterator, thisArg) {
      if (!isCallable(iterator)) throw new TypeError("iterator must be a function");
      var receiver;
      arguments.length >= 3 && (receiver = thisArg);
      "[object Array]" === toStr.call(list) ? forEachArray(list, iterator, receiver) : "string" === typeof list ? forEachString(list, iterator, receiver) : forEachObject(list, iterator, receiver);
    };
    module.exports = forEach;
  }, {
    "is-callable": 30
  } ],
  21: [ function(require, module, exports) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var slice = Array.prototype.slice;
    var toStr = Object.prototype.toString;
    var funcType = "[object Function]";
    module.exports = function bind(that) {
      var target = this;
      if ("function" !== typeof target || toStr.call(target) !== funcType) throw new TypeError(ERROR_MESSAGE + target);
      var args = slice.call(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(this, args.concat(slice.call(arguments)));
          if (Object(result) === result) return result;
          return this;
        }
        return target.apply(that, args.concat(slice.call(arguments)));
      };
      var boundLength = Math.max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) boundArgs.push("$" + i);
      bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }, {} ],
  22: [ function(require, module, exports) {
    "use strict";
    var implementation = require("./implementation");
    module.exports = Function.prototype.bind || implementation;
  }, {
    "./implementation": 21
  } ],
  23: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    var base_base_pb = require("game-protobuf/ts/base/base_pb.js");
    goog.exportSymbol("proto.account.AuthReq", null, global);
    goog.exportSymbol("proto.account.AuthRes", null, global);
    goog.exportSymbol("proto.account.LinkReq", null, global);
    goog.exportSymbol("proto.account.LinkRes", null, global);
    goog.exportSymbol("proto.account.PlatformReq", null, global);
    goog.exportSymbol("proto.account.PlatformRes", null, global);
    goog.exportSymbol("proto.account.UpdateBalanceReq", null, global);
    goog.exportSymbol("proto.account.UpdateBalanceRes", null, global);
    goog.exportSymbol("proto.account.UserInfoReq", null, global);
    goog.exportSymbol("proto.account.UserInfoRes", null, global);
    proto.account.AuthReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.AuthReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.AuthReq.displayName = "proto.account.AuthReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.AuthReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.AuthReq.toObject(opt_includeInstance, this);
      };
      proto.account.AuthReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f),
          gid: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.AuthReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.AuthReq();
      return proto.account.AuthReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.AuthReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.AuthReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.AuthReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.AuthReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
      f = message.getGid();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.account.AuthReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.AuthReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.AuthReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.AuthReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.AuthReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.AuthReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.AuthRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.AuthRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.AuthRes.displayName = "proto.account.AuthRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.AuthRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.AuthRes.toObject(opt_includeInstance, this);
      };
      proto.account.AuthRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          name: jspb.Message.getFieldWithDefault(msg, 2, ""),
          balance: jspb.Message.getFieldWithDefault(msg, 3, 0),
          imgSrc: jspb.Message.getFieldWithDefault(msg, 4, ""),
          serverVersion: jspb.Message.getFieldWithDefault(msg, 5, ""),
          currency: jspb.Message.getFieldWithDefault(msg, 6, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.AuthRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.AuthRes();
      return proto.account.AuthRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.AuthRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setName(value);
          break;

         case 3:
          var value = reader.readInt64();
          msg.setBalance(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setImgSrc(value);
          break;

         case 5:
          var value = reader.readString();
          msg.setServerVersion(value);
          break;

         case 6:
          var value = reader.readString();
          msg.setCurrency(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.AuthRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.AuthRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.AuthRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getName();
      f.length > 0 && writer.writeString(2, f);
      f = message.getBalance();
      0 !== f && writer.writeInt64(3, f);
      f = message.getImgSrc();
      f.length > 0 && writer.writeString(4, f);
      f = message.getServerVersion();
      f.length > 0 && writer.writeString(5, f);
      f = message.getCurrency();
      f.length > 0 && writer.writeString(6, f);
    };
    proto.account.AuthRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.AuthRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.AuthRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.AuthRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.AuthRes.prototype.getName = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.AuthRes.prototype.setName = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.AuthRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.account.AuthRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    proto.account.AuthRes.prototype.getImgSrc = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.AuthRes.prototype.setImgSrc = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.AuthRes.prototype.getServerVersion = function() {
      return jspb.Message.getFieldWithDefault(this, 5, "");
    };
    proto.account.AuthRes.prototype.setServerVersion = function(value) {
      jspb.Message.setProto3StringField(this, 5, value);
    };
    proto.account.AuthRes.prototype.getCurrency = function() {
      return jspb.Message.getFieldWithDefault(this, 6, "");
    };
    proto.account.AuthRes.prototype.setCurrency = function(value) {
      jspb.Message.setProto3StringField(this, 6, value);
    };
    proto.account.UserInfoReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UserInfoReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UserInfoReq.displayName = "proto.account.UserInfoReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UserInfoReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UserInfoReq.toObject(opt_includeInstance, this);
      };
      proto.account.UserInfoReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UserInfoReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UserInfoReq();
      return proto.account.UserInfoReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UserInfoReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UserInfoReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UserInfoReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UserInfoReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.account.UserInfoReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.UserInfoReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UserInfoReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.UserInfoReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UserInfoRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UserInfoRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UserInfoRes.displayName = "proto.account.UserInfoRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UserInfoRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UserInfoRes.toObject(opt_includeInstance, this);
      };
      proto.account.UserInfoRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          name: jspb.Message.getFieldWithDefault(msg, 2, ""),
          balance: jspb.Message.getFieldWithDefault(msg, 3, 0),
          imgSrc: jspb.Message.getFieldWithDefault(msg, 4, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UserInfoRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UserInfoRes();
      return proto.account.UserInfoRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UserInfoRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setName(value);
          break;

         case 3:
          var value = reader.readInt64();
          msg.setBalance(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setImgSrc(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UserInfoRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UserInfoRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UserInfoRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getName();
      f.length > 0 && writer.writeString(2, f);
      f = message.getBalance();
      0 !== f && writer.writeInt64(3, f);
      f = message.getImgSrc();
      f.length > 0 && writer.writeString(4, f);
    };
    proto.account.UserInfoRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.UserInfoRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UserInfoRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.UserInfoRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UserInfoRes.prototype.getName = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.UserInfoRes.prototype.setName = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.UserInfoRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.account.UserInfoRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    proto.account.UserInfoRes.prototype.getImgSrc = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.UserInfoRes.prototype.setImgSrc = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.PlatformReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.PlatformReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.PlatformReq.displayName = "proto.account.PlatformReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.PlatformReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.PlatformReq.toObject(opt_includeInstance, this);
      };
      proto.account.PlatformReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          token: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.PlatformReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.PlatformReq();
      return proto.account.PlatformReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.PlatformReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setToken(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.PlatformReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.PlatformReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.PlatformReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getToken();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.account.PlatformReq.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.account.PlatformReq.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.account.PlatformRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.PlatformRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.PlatformRes.displayName = "proto.account.PlatformRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.PlatformRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.PlatformRes.toObject(opt_includeInstance, this);
      };
      proto.account.PlatformRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          token: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.PlatformRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.PlatformRes();
      return proto.account.PlatformRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.PlatformRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setToken(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.PlatformRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.PlatformRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.PlatformRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getToken();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.account.PlatformRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.PlatformRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.PlatformRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.PlatformRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.PlatformRes.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.PlatformRes.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.LinkReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.LinkReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.LinkReq.displayName = "proto.account.LinkReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.LinkReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.LinkReq.toObject(opt_includeInstance, this);
      };
      proto.account.LinkReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          gid: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.LinkReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.LinkReq();
      return proto.account.LinkReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.LinkReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.LinkReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.LinkReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.LinkReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getGid();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.account.LinkReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.account.LinkReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.account.LinkRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.LinkRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.LinkRes.displayName = "proto.account.LinkRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.LinkRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.LinkRes.toObject(opt_includeInstance, this);
      };
      proto.account.LinkRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          token: jspb.Message.getFieldWithDefault(msg, 2, ""),
          pb_static: jspb.Message.getFieldWithDefault(msg, 3, ""),
          dynamic: jspb.Message.getFieldWithDefault(msg, 4, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.LinkRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.LinkRes();
      return proto.account.LinkRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.LinkRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setToken(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setStatic(value);
          break;

         case 4:
          var value = reader.readString();
          msg.setDynamic(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.LinkRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.LinkRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.LinkRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getToken();
      f.length > 0 && writer.writeString(2, f);
      f = message.getStatic();
      f.length > 0 && writer.writeString(3, f);
      f = message.getDynamic();
      f.length > 0 && writer.writeString(4, f);
    };
    proto.account.LinkRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.LinkRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.LinkRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.LinkRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.LinkRes.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.account.LinkRes.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.account.LinkRes.prototype.getStatic = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.account.LinkRes.prototype.setStatic = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.account.LinkRes.prototype.getDynamic = function() {
      return jspb.Message.getFieldWithDefault(this, 4, "");
    };
    proto.account.LinkRes.prototype.setDynamic = function(value) {
      jspb.Message.setProto3StringField(this, 4, value);
    };
    proto.account.UpdateBalanceReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UpdateBalanceReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UpdateBalanceReq.displayName = "proto.account.UpdateBalanceReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UpdateBalanceReq.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UpdateBalanceReq.toObject(opt_includeInstance, this);
      };
      proto.account.UpdateBalanceReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UpdateBalanceReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UpdateBalanceReq();
      return proto.account.UpdateBalanceReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UpdateBalanceReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UpdateBalanceReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UpdateBalanceReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UpdateBalanceReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.account.UpdateBalanceReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.account.UpdateBalanceReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UpdateBalanceReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.account.UpdateBalanceReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UpdateBalanceRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.account.UpdateBalanceRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.account.UpdateBalanceRes.displayName = "proto.account.UpdateBalanceRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.account.UpdateBalanceRes.prototype.toObject = function(opt_includeInstance) {
        return proto.account.UpdateBalanceRes.toObject(opt_includeInstance, this);
      };
      proto.account.UpdateBalanceRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          serial: jspb.Message.getFieldWithDefault(msg, 2, 0),
          balance: jspb.Message.getFieldWithDefault(msg, 3, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.account.UpdateBalanceRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.account.UpdateBalanceRes();
      return proto.account.UpdateBalanceRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.account.UpdateBalanceRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readInt32();
          msg.setSerial(value);
          break;

         case 3:
          var value = reader.readInt64();
          msg.setBalance(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.account.UpdateBalanceRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.account.UpdateBalanceRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.account.UpdateBalanceRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getSerial();
      0 !== f && writer.writeInt32(2, f);
      f = message.getBalance();
      0 !== f && writer.writeInt64(3, f);
    };
    proto.account.UpdateBalanceRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.account.UpdateBalanceRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.account.UpdateBalanceRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.account.UpdateBalanceRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.account.UpdateBalanceRes.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.account.UpdateBalanceRes.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.account.UpdateBalanceRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.account.UpdateBalanceRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    goog.object.extend(exports, proto.account);
  }, {
    "game-protobuf/ts/base/base_pb.js": 24,
    "google-protobuf": 27
  } ],
  24: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    goog.exportSymbol("proto.gamebase.BaseReq", null, global);
    goog.exportSymbol("proto.gamebase.BaseResult", null, global);
    goog.exportSymbol("proto.gamebase.Empty", null, global);
    goog.exportSymbol("proto.gamebase.MsgCode", null, global);
    goog.exportSymbol("proto.gamebase.PageInfo", null, global);
    goog.exportSymbol("proto.gamebase.Result", null, global);
    goog.exportSymbol("proto.gamebase.Status", null, global);
    proto.gamebase.Empty = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.Empty, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.Empty.displayName = "proto.gamebase.Empty");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.Empty.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.Empty.toObject(opt_includeInstance, this);
      };
      proto.gamebase.Empty.toObject = function(includeInstance, msg) {
        var f, obj = {};
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.Empty.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.Empty();
      return proto.gamebase.Empty.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.Empty.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        field;
        reader.skipField();
      }
      return msg;
    };
    proto.gamebase.Empty.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.Empty.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.Empty.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
    };
    proto.gamebase.Result = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.Result, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.Result.displayName = "proto.gamebase.Result");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.Result.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.Result.toObject(opt_includeInstance, this);
      };
      proto.gamebase.Result.toObject = function(includeInstance, msg) {
        var f, obj = {
          code: jspb.Message.getFieldWithDefault(msg, 1, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.Result.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.Result();
      return proto.gamebase.Result.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.Result.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.Result.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.Result.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.Result.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCode();
      0 !== f && writer.writeEnum(1, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.gamebase.Result.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.gamebase.Result.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 1, value);
    };
    proto.gamebase.Result.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.gamebase.Result.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.gamebase.BaseResult = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.BaseResult, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.BaseResult.displayName = "proto.gamebase.BaseResult");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.BaseResult.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.BaseResult.toObject(opt_includeInstance, this);
      };
      proto.gamebase.BaseResult.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && proto.gamebase.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.BaseResult.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.BaseResult();
      return proto.gamebase.BaseResult.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.BaseResult.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new proto.gamebase.Result();
          reader.readMessage(value, proto.gamebase.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.BaseResult.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.BaseResult.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.BaseResult.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, proto.gamebase.Result.serializeBinaryToWriter);
    };
    proto.gamebase.BaseResult.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, proto.gamebase.Result, 1);
    };
    proto.gamebase.BaseResult.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.gamebase.BaseResult.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.gamebase.BaseResult.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.gamebase.PageInfo = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.PageInfo, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.PageInfo.displayName = "proto.gamebase.PageInfo");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.PageInfo.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.PageInfo.toObject(opt_includeInstance, this);
      };
      proto.gamebase.PageInfo.toObject = function(includeInstance, msg) {
        var f, obj = {
          index: jspb.Message.getFieldWithDefault(msg, 1, 0),
          limit: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sort: jspb.Message.getFieldWithDefault(msg, 3, ""),
          offset: jspb.Message.getFieldWithDefault(msg, 4, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.PageInfo.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.PageInfo();
      return proto.gamebase.PageInfo.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.PageInfo.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readInt64();
          msg.setIndex(value);
          break;

         case 2:
          var value = reader.readInt64();
          msg.setLimit(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setSort(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setOffset(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.PageInfo.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.PageInfo.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.PageInfo.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getIndex();
      0 !== f && writer.writeInt64(1, f);
      f = message.getLimit();
      0 !== f && writer.writeInt64(2, f);
      f = message.getSort();
      f.length > 0 && writer.writeString(3, f);
      f = message.getOffset();
      0 !== f && writer.writeInt64(4, f);
    };
    proto.gamebase.PageInfo.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.gamebase.PageInfo.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.gamebase.PageInfo.prototype.getLimit = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.gamebase.PageInfo.prototype.setLimit = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.gamebase.PageInfo.prototype.getSort = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.gamebase.PageInfo.prototype.setSort = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.gamebase.PageInfo.prototype.getOffset = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.gamebase.PageInfo.prototype.setOffset = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.gamebase.BaseReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.gamebase.BaseReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.gamebase.BaseReq.displayName = "proto.gamebase.BaseReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.gamebase.BaseReq.prototype.toObject = function(opt_includeInstance) {
        return proto.gamebase.BaseReq.toObject(opt_includeInstance, this);
      };
      proto.gamebase.BaseReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          token: jspb.Message.getFieldWithDefault(msg, 1, ""),
          gid: jspb.Message.getFieldWithDefault(msg, 2, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.gamebase.BaseReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.gamebase.BaseReq();
      return proto.gamebase.BaseReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.gamebase.BaseReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setToken(value);
          break;

         case 2:
          var value = reader.readString();
          msg.setGid(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.gamebase.BaseReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.gamebase.BaseReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.gamebase.BaseReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getToken();
      f.length > 0 && writer.writeString(1, f);
      f = message.getGid();
      f.length > 0 && writer.writeString(2, f);
    };
    proto.gamebase.BaseReq.prototype.getToken = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.gamebase.BaseReq.prototype.setToken = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.gamebase.BaseReq.prototype.getGid = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.gamebase.BaseReq.prototype.setGid = function(value) {
      jspb.Message.setProto3StringField(this, 2, value);
    };
    proto.gamebase.MsgCode = {
      UNKNOWN_FAILURE: 0,
      SUCCESS: 1,
      ALREADY_EXISTS: 2,
      REQUIRED_FIELDS: 3,
      LOGIN_FAILED: 4,
      API_ACCESS_FAILED: 5,
      NOT_FOUND: 6,
      REQUEST_TIME_OUT: 7,
      VERIFY_CAPTCHA_FAILED: 8,
      LOGIN_FAILED_USER_LOCK: 9,
      SERVER_NOT_RUN: 10,
      AUTH_TOKEN_FAILED: 11,
      NOT_AUTHORIZED_TO_SIGN: 1e3,
      AMOUNT_OF_ERROR: 1001,
      REMITNO_ALREADY_EXISTS: 1002,
      VALIDATION_FAILED: 1003,
      DB_ACCESS_FAILED: 1004,
      WALLET_NOT_FOUND: 1005,
      TRANS_NOT_FOUND: 1006,
      PROCESSING_FAILED: 1007,
      NEGATIVE_CURRENCY_NOT_ALLOWED: 1008,
      AGENT_QUOTA_NOT_FOUND: 1009,
      INSUFFICIENT_AGENT_QUOTA: 1010,
      AGENT_WITHDRAWALS_LOCK: 1011,
      TIME_IS_OUT_OF_RANGE: 1012,
      AGENT_HALL_NOT_FOUND: 1013,
      AGENT_RISK_NOT_FOUND: 1014,
      GET_AGENT_FAILED: 1015,
      DUPLICATE_LOGIN: 1016,
      ADD_PLAYER_FAILED: 1017,
      TRANSFER_NOT_FINISH: 1027,
      GAME_DISABLE: 1028,
      MEMBER_NOT_FOUND: 1029,
      GAME_NOT_LOGIN: 2001,
      GAME_NOT_IN_TABLE: 2002,
      GAME_ALREADY_IN_TABLE: 2003,
      GAME_OVER_LIMIT_BET: 2004,
      GAME_LIMIT_PLAY_TYPE: 2005,
      GAME_AMOUNT_NOT_ENOUGH: 2006,
      GAME_BET_FAIL: 2007,
      GAME_NOT_BET_TIME: 2008,
      GAME_QUERY_FAIL: 2009,
      GAME_BET_CANT_OUT_TABLE: 2010,
      GAME_CANT_IN_ROOM: 2011,
      GAME_NOT_ENOUGH_IN_GAME: 2012,
      GAME_CONFIG_NOT_FOUND: 2015,
      GAME_STATUS_NOT_FOUND: 2016,
      GAME_USER_DATA_FAILED: 2017,
      GAME_KICK_HEARTBEAT: 2019,
      GAME_KICK_IDLE: 2020,
      GAME_KICK_ILLEGAL_OPERATION: 2021,
      GAME_KICK_OTHER: 2022,
      GAME_BET_TOO_FAST: 2023
    };
    proto.gamebase.Status = {
      NONE: 0,
      ENABLED: 1,
      DISABLED: 2
    };
    goog.object.extend(exports, proto.gamebase);
  }, {
    "google-protobuf": 27
  } ],
  25: [ function(require, module, exports) {
    var jspbcomp = require("google-protobuf");
    var COMPILED = jspbcomp.COMPILED;
    var jspb = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.jspb;
    var goog = jspbcomp.exportSymbol ? jspbcomp : jspbcomp.goog;
    var global = Function("return this")();
    var base_base_pb = require("game-protobuf/ts/base/base_pb.js");
    var google_protobuf_any_pb = require("google-protobuf/google/protobuf/any_pb.js");
    goog.exportSymbol("proto.game.DisconnectReq", null, global);
    goog.exportSymbol("proto.game.DisconnectRes", null, global);
    goog.exportSymbol("proto.game.HeartbeatReq", null, global);
    goog.exportSymbol("proto.game.HeartbeatRes", null, global);
    goog.exportSymbol("proto.game.KickCode", null, global);
    goog.exportSymbol("proto.game.KickRes", null, global);
    goog.exportSymbol("proto.game.MarqueeRes", null, global);
    goog.exportSymbol("proto.game.PacketReq", null, global);
    goog.exportSymbol("proto.game.PacketRes", null, global);
    goog.exportSymbol("proto.game.PacketType", null, global);
    goog.exportSymbol("proto.game.ResumeReq", null, global);
    goog.exportSymbol("proto.game.ResumeRes", null, global);
    proto.game.PacketReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.PacketReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.PacketReq.displayName = "proto.game.PacketReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.PacketReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.PacketReq.toObject(opt_includeInstance, this);
      };
      proto.game.PacketReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          serial: jspb.Message.getFieldWithDefault(msg, 1, 0),
          index: jspb.Message.getFieldWithDefault(msg, 2, 0),
          type: jspb.Message.getFieldWithDefault(msg, 3, 0),
          resumeReq: (f = msg.getResumeReq()) && proto.game.ResumeReq.toObject(includeInstance, f),
          heartBeatReq: (f = msg.getHeartBeatReq()) && proto.game.HeartbeatReq.toObject(includeInstance, f),
          content: (f = msg.getContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          disconnectReq: (f = msg.getDisconnectReq()) && proto.game.DisconnectReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.PacketReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.PacketReq();
      return proto.game.PacketReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.PacketReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint32();
          msg.setSerial(value);
          break;

         case 2:
          var value = reader.readSint32();
          msg.setIndex(value);
          break;

         case 3:
          var value = reader.readEnum();
          msg.setType(value);
          break;

         case 4:
          var value = new proto.game.ResumeReq();
          reader.readMessage(value, proto.game.ResumeReq.deserializeBinaryFromReader);
          msg.setResumeReq(value);
          break;

         case 5:
          var value = new proto.game.HeartbeatReq();
          reader.readMessage(value, proto.game.HeartbeatReq.deserializeBinaryFromReader);
          msg.setHeartBeatReq(value);
          break;

         case 6:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setContent(value);
          break;

         case 7:
          var value = new proto.game.DisconnectReq();
          reader.readMessage(value, proto.game.DisconnectReq.deserializeBinaryFromReader);
          msg.setDisconnectReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.PacketReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.PacketReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.PacketReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getSerial();
      0 !== f && writer.writeSint32(1, f);
      f = message.getIndex();
      0 !== f && writer.writeSint32(2, f);
      f = message.getType();
      0 !== f && writer.writeEnum(3, f);
      f = message.getResumeReq();
      null != f && writer.writeMessage(4, f, proto.game.ResumeReq.serializeBinaryToWriter);
      f = message.getHeartBeatReq();
      null != f && writer.writeMessage(5, f, proto.game.HeartbeatReq.serializeBinaryToWriter);
      f = message.getContent();
      null != f && writer.writeMessage(6, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getDisconnectReq();
      null != f && writer.writeMessage(7, f, proto.game.DisconnectReq.serializeBinaryToWriter);
    };
    proto.game.PacketReq.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.PacketReq.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.PacketReq.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.PacketReq.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.PacketReq.prototype.getType = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.PacketReq.prototype.setType = function(value) {
      jspb.Message.setProto3EnumField(this, 3, value);
    };
    proto.game.PacketReq.prototype.getResumeReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.ResumeReq, 4);
    };
    proto.game.PacketReq.prototype.setResumeReq = function(value) {
      jspb.Message.setWrapperField(this, 4, value);
    };
    proto.game.PacketReq.prototype.clearResumeReq = function() {
      this.setResumeReq(void 0);
    };
    proto.game.PacketReq.prototype.hasResumeReq = function() {
      return null != jspb.Message.getField(this, 4);
    };
    proto.game.PacketReq.prototype.getHeartBeatReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.HeartbeatReq, 5);
    };
    proto.game.PacketReq.prototype.setHeartBeatReq = function(value) {
      jspb.Message.setWrapperField(this, 5, value);
    };
    proto.game.PacketReq.prototype.clearHeartBeatReq = function() {
      this.setHeartBeatReq(void 0);
    };
    proto.game.PacketReq.prototype.hasHeartBeatReq = function() {
      return null != jspb.Message.getField(this, 5);
    };
    proto.game.PacketReq.prototype.getContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 6);
    };
    proto.game.PacketReq.prototype.setContent = function(value) {
      jspb.Message.setWrapperField(this, 6, value);
    };
    proto.game.PacketReq.prototype.clearContent = function() {
      this.setContent(void 0);
    };
    proto.game.PacketReq.prototype.hasContent = function() {
      return null != jspb.Message.getField(this, 6);
    };
    proto.game.PacketReq.prototype.getDisconnectReq = function() {
      return jspb.Message.getWrapperField(this, proto.game.DisconnectReq, 7);
    };
    proto.game.PacketReq.prototype.setDisconnectReq = function(value) {
      jspb.Message.setWrapperField(this, 7, value);
    };
    proto.game.PacketReq.prototype.clearDisconnectReq = function() {
      this.setDisconnectReq(void 0);
    };
    proto.game.PacketReq.prototype.hasDisconnectReq = function() {
      return null != jspb.Message.getField(this, 7);
    };
    proto.game.PacketRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.PacketRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.PacketRes.displayName = "proto.game.PacketRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.PacketRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.PacketRes.toObject(opt_includeInstance, this);
      };
      proto.game.PacketRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          serial: jspb.Message.getFieldWithDefault(msg, 1, 0),
          index: jspb.Message.getFieldWithDefault(msg, 2, 0),
          type: jspb.Message.getFieldWithDefault(msg, 3, 0),
          heartBeatRes: (f = msg.getHeartBeatRes()) && proto.game.HeartbeatRes.toObject(includeInstance, f),
          resumeRes: (f = msg.getResumeRes()) && proto.game.ResumeRes.toObject(includeInstance, f),
          content: (f = msg.getContent()) && google_protobuf_any_pb.Any.toObject(includeInstance, f),
          disconnectRes: (f = msg.getDisconnectRes()) && proto.game.DisconnectRes.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.PacketRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.PacketRes();
      return proto.game.PacketRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.PacketRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint32();
          msg.setSerial(value);
          break;

         case 2:
          var value = reader.readSint32();
          msg.setIndex(value);
          break;

         case 3:
          var value = reader.readEnum();
          msg.setType(value);
          break;

         case 4:
          var value = new proto.game.HeartbeatRes();
          reader.readMessage(value, proto.game.HeartbeatRes.deserializeBinaryFromReader);
          msg.setHeartBeatRes(value);
          break;

         case 5:
          var value = new proto.game.ResumeRes();
          reader.readMessage(value, proto.game.ResumeRes.deserializeBinaryFromReader);
          msg.setResumeRes(value);
          break;

         case 6:
          var value = new google_protobuf_any_pb.Any();
          reader.readMessage(value, google_protobuf_any_pb.Any.deserializeBinaryFromReader);
          msg.setContent(value);
          break;

         case 7:
          var value = new proto.game.DisconnectRes();
          reader.readMessage(value, proto.game.DisconnectRes.deserializeBinaryFromReader);
          msg.setDisconnectRes(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.PacketRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.PacketRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.PacketRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getSerial();
      0 !== f && writer.writeSint32(1, f);
      f = message.getIndex();
      0 !== f && writer.writeSint32(2, f);
      f = message.getType();
      0 !== f && writer.writeEnum(3, f);
      f = message.getHeartBeatRes();
      null != f && writer.writeMessage(4, f, proto.game.HeartbeatRes.serializeBinaryToWriter);
      f = message.getResumeRes();
      null != f && writer.writeMessage(5, f, proto.game.ResumeRes.serializeBinaryToWriter);
      f = message.getContent();
      null != f && writer.writeMessage(6, f, google_protobuf_any_pb.Any.serializeBinaryToWriter);
      f = message.getDisconnectRes();
      null != f && writer.writeMessage(7, f, proto.game.DisconnectRes.serializeBinaryToWriter);
    };
    proto.game.PacketRes.prototype.getSerial = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.PacketRes.prototype.setSerial = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.PacketRes.prototype.getIndex = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.PacketRes.prototype.setIndex = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.PacketRes.prototype.getType = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.PacketRes.prototype.setType = function(value) {
      jspb.Message.setProto3EnumField(this, 3, value);
    };
    proto.game.PacketRes.prototype.getHeartBeatRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.HeartbeatRes, 4);
    };
    proto.game.PacketRes.prototype.setHeartBeatRes = function(value) {
      jspb.Message.setWrapperField(this, 4, value);
    };
    proto.game.PacketRes.prototype.clearHeartBeatRes = function() {
      this.setHeartBeatRes(void 0);
    };
    proto.game.PacketRes.prototype.hasHeartBeatRes = function() {
      return null != jspb.Message.getField(this, 4);
    };
    proto.game.PacketRes.prototype.getResumeRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.ResumeRes, 5);
    };
    proto.game.PacketRes.prototype.setResumeRes = function(value) {
      jspb.Message.setWrapperField(this, 5, value);
    };
    proto.game.PacketRes.prototype.clearResumeRes = function() {
      this.setResumeRes(void 0);
    };
    proto.game.PacketRes.prototype.hasResumeRes = function() {
      return null != jspb.Message.getField(this, 5);
    };
    proto.game.PacketRes.prototype.getContent = function() {
      return jspb.Message.getWrapperField(this, google_protobuf_any_pb.Any, 6);
    };
    proto.game.PacketRes.prototype.setContent = function(value) {
      jspb.Message.setWrapperField(this, 6, value);
    };
    proto.game.PacketRes.prototype.clearContent = function() {
      this.setContent(void 0);
    };
    proto.game.PacketRes.prototype.hasContent = function() {
      return null != jspb.Message.getField(this, 6);
    };
    proto.game.PacketRes.prototype.getDisconnectRes = function() {
      return jspb.Message.getWrapperField(this, proto.game.DisconnectRes, 7);
    };
    proto.game.PacketRes.prototype.setDisconnectRes = function(value) {
      jspb.Message.setWrapperField(this, 7, value);
    };
    proto.game.PacketRes.prototype.clearDisconnectRes = function() {
      this.setDisconnectRes(void 0);
    };
    proto.game.PacketRes.prototype.hasDisconnectRes = function() {
      return null != jspb.Message.getField(this, 7);
    };
    proto.game.ResumeReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.ResumeReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.ResumeReq.displayName = "proto.game.ResumeReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.ResumeReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.ResumeReq.toObject(opt_includeInstance, this);
      };
      proto.game.ResumeReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          baseReq: (f = msg.getBaseReq()) && base_base_pb.BaseReq.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.ResumeReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.ResumeReq();
      return proto.game.ResumeReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.ResumeReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.BaseReq();
          reader.readMessage(value, base_base_pb.BaseReq.deserializeBinaryFromReader);
          msg.setBaseReq(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.ResumeReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.ResumeReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.ResumeReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getBaseReq();
      null != f && writer.writeMessage(1, f, base_base_pb.BaseReq.serializeBinaryToWriter);
    };
    proto.game.ResumeReq.prototype.getBaseReq = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.BaseReq, 1);
    };
    proto.game.ResumeReq.prototype.setBaseReq = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.ResumeReq.prototype.clearBaseReq = function() {
      this.setBaseReq(void 0);
    };
    proto.game.ResumeReq.prototype.hasBaseReq = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.ResumeRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.ResumeRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.ResumeRes.displayName = "proto.game.ResumeRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.ResumeRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.ResumeRes.toObject(opt_includeInstance, this);
      };
      proto.game.ResumeRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.ResumeRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.ResumeRes();
      return proto.game.ResumeRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.ResumeRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.ResumeRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.ResumeRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.ResumeRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
    };
    proto.game.ResumeRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.ResumeRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.ResumeRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.ResumeRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.DisconnectReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.DisconnectReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.DisconnectReq.displayName = "proto.game.DisconnectReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.DisconnectReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.DisconnectReq.toObject(opt_includeInstance, this);
      };
      proto.game.DisconnectReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          closeMsg: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.DisconnectReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.DisconnectReq();
      return proto.game.DisconnectReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.DisconnectReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setCloseMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.DisconnectReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.DisconnectReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.DisconnectReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCloseMsg();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.game.DisconnectReq.prototype.getCloseMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.game.DisconnectReq.prototype.setCloseMsg = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.game.DisconnectRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.DisconnectRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.DisconnectRes.displayName = "proto.game.DisconnectRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.DisconnectRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.DisconnectRes.toObject(opt_includeInstance, this);
      };
      proto.game.DisconnectRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          closeMsg: jspb.Message.getFieldWithDefault(msg, 1, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.DisconnectRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.DisconnectRes();
      return proto.game.DisconnectRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.DisconnectRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setCloseMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.DisconnectRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.DisconnectRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.DisconnectRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCloseMsg();
      f.length > 0 && writer.writeString(1, f);
    };
    proto.game.DisconnectRes.prototype.getCloseMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.game.DisconnectRes.prototype.setCloseMsg = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.game.HeartbeatReq = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.HeartbeatReq, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.HeartbeatReq.displayName = "proto.game.HeartbeatReq");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.HeartbeatReq.prototype.toObject = function(opt_includeInstance) {
        return proto.game.HeartbeatReq.toObject(opt_includeInstance, this);
      };
      proto.game.HeartbeatReq.toObject = function(includeInstance, msg) {
        var f, obj = {
          cTime: jspb.Message.getFieldWithDefault(msg, 1, 0),
          sTime: jspb.Message.getFieldWithDefault(msg, 2, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.HeartbeatReq.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.HeartbeatReq();
      return proto.game.HeartbeatReq.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.HeartbeatReq.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readSint64();
          msg.setCTime(value);
          break;

         case 2:
          var value = reader.readSint64();
          msg.setSTime(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.HeartbeatReq.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.HeartbeatReq.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.HeartbeatReq.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getCTime();
      0 !== f && writer.writeSint64(1, f);
      f = message.getSTime();
      0 !== f && writer.writeSint64(2, f);
    };
    proto.game.HeartbeatReq.prototype.getCTime = function() {
      return jspb.Message.getFieldWithDefault(this, 1, 0);
    };
    proto.game.HeartbeatReq.prototype.setCTime = function(value) {
      jspb.Message.setProto3IntField(this, 1, value);
    };
    proto.game.HeartbeatReq.prototype.getSTime = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.HeartbeatReq.prototype.setSTime = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.HeartbeatRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.HeartbeatRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.HeartbeatRes.displayName = "proto.game.HeartbeatRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.HeartbeatRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.HeartbeatRes.toObject(opt_includeInstance, this);
      };
      proto.game.HeartbeatRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          cTime: jspb.Message.getFieldWithDefault(msg, 2, 0),
          sTime: jspb.Message.getFieldWithDefault(msg, 3, 0),
          balance: jspb.Message.getFieldWithDefault(msg, 4, 0)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.HeartbeatRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.HeartbeatRes();
      return proto.game.HeartbeatRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.HeartbeatRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readSint64();
          msg.setCTime(value);
          break;

         case 3:
          var value = reader.readSint64();
          msg.setSTime(value);
          break;

         case 4:
          var value = reader.readInt64();
          msg.setBalance(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.HeartbeatRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.HeartbeatRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.HeartbeatRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getCTime();
      0 !== f && writer.writeSint64(2, f);
      f = message.getSTime();
      0 !== f && writer.writeSint64(3, f);
      f = message.getBalance();
      0 !== f && writer.writeInt64(4, f);
    };
    proto.game.HeartbeatRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.HeartbeatRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.HeartbeatRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.HeartbeatRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.HeartbeatRes.prototype.getCTime = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.HeartbeatRes.prototype.setCTime = function(value) {
      jspb.Message.setProto3IntField(this, 2, value);
    };
    proto.game.HeartbeatRes.prototype.getSTime = function() {
      return jspb.Message.getFieldWithDefault(this, 3, 0);
    };
    proto.game.HeartbeatRes.prototype.setSTime = function(value) {
      jspb.Message.setProto3IntField(this, 3, value);
    };
    proto.game.HeartbeatRes.prototype.getBalance = function() {
      return jspb.Message.getFieldWithDefault(this, 4, 0);
    };
    proto.game.HeartbeatRes.prototype.setBalance = function(value) {
      jspb.Message.setProto3IntField(this, 4, value);
    };
    proto.game.MarqueeRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, proto.game.MarqueeRes.repeatedFields_, null);
    };
    goog.inherits(proto.game.MarqueeRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.MarqueeRes.displayName = "proto.game.MarqueeRes");
    proto.game.MarqueeRes.repeatedFields_ = [ 2 ];
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.MarqueeRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.MarqueeRes.toObject(opt_includeInstance, this);
      };
      proto.game.MarqueeRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          messageList: jspb.Message.getRepeatedField(msg, 2)
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.MarqueeRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.MarqueeRes();
      return proto.game.MarqueeRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.MarqueeRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readString();
          msg.addMessage(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.MarqueeRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.MarqueeRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.MarqueeRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getMessageList();
      f.length > 0 && writer.writeRepeatedString(2, f);
    };
    proto.game.MarqueeRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.MarqueeRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.MarqueeRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.MarqueeRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.MarqueeRes.prototype.getMessageList = function() {
      return jspb.Message.getRepeatedField(this, 2);
    };
    proto.game.MarqueeRes.prototype.setMessageList = function(value) {
      jspb.Message.setField(this, 2, value || []);
    };
    proto.game.MarqueeRes.prototype.addMessage = function(value, opt_index) {
      jspb.Message.addToRepeatedField(this, 2, value, opt_index);
    };
    proto.game.MarqueeRes.prototype.clearMessageList = function() {
      this.setMessageList([]);
    };
    proto.game.KickRes = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.game.KickRes, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.game.KickRes.displayName = "proto.game.KickRes");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.game.KickRes.prototype.toObject = function(opt_includeInstance) {
        return proto.game.KickRes.toObject(opt_includeInstance, this);
      };
      proto.game.KickRes.toObject = function(includeInstance, msg) {
        var f, obj = {
          result: (f = msg.getResult()) && base_base_pb.Result.toObject(includeInstance, f),
          code: jspb.Message.getFieldWithDefault(msg, 2, 0),
          msg: jspb.Message.getFieldWithDefault(msg, 3, "")
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.game.KickRes.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.game.KickRes();
      return proto.game.KickRes.deserializeBinaryFromReader(msg, reader);
    };
    proto.game.KickRes.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = new base_base_pb.Result();
          reader.readMessage(value, base_base_pb.Result.deserializeBinaryFromReader);
          msg.setResult(value);
          break;

         case 2:
          var value = reader.readEnum();
          msg.setCode(value);
          break;

         case 3:
          var value = reader.readString();
          msg.setMsg(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.game.KickRes.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.game.KickRes.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.game.KickRes.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getResult();
      null != f && writer.writeMessage(1, f, base_base_pb.Result.serializeBinaryToWriter);
      f = message.getCode();
      0 !== f && writer.writeEnum(2, f);
      f = message.getMsg();
      f.length > 0 && writer.writeString(3, f);
    };
    proto.game.KickRes.prototype.getResult = function() {
      return jspb.Message.getWrapperField(this, base_base_pb.Result, 1);
    };
    proto.game.KickRes.prototype.setResult = function(value) {
      jspb.Message.setWrapperField(this, 1, value);
    };
    proto.game.KickRes.prototype.clearResult = function() {
      this.setResult(void 0);
    };
    proto.game.KickRes.prototype.hasResult = function() {
      return null != jspb.Message.getField(this, 1);
    };
    proto.game.KickRes.prototype.getCode = function() {
      return jspb.Message.getFieldWithDefault(this, 2, 0);
    };
    proto.game.KickRes.prototype.setCode = function(value) {
      jspb.Message.setProto3EnumField(this, 2, value);
    };
    proto.game.KickRes.prototype.getMsg = function() {
      return jspb.Message.getFieldWithDefault(this, 3, "");
    };
    proto.game.KickRes.prototype.setMsg = function(value) {
      jspb.Message.setProto3StringField(this, 3, value);
    };
    proto.game.PacketType = {
      PACKET_TYPE: 0,
      HEARTBEAT: 1,
      RESUME: 2,
      CONTENT: 3,
      DISCONNECT: 4
    };
    proto.game.KickCode = {
      KICK_CODE: 0,
      GAME: 1,
      TABLE: 2,
      WILL_KICK_GAME: 3,
      WILL_KICK_TABLE: 4,
      DUPLICATE_LOGIN: 5,
      DUPLICATE_LOGIN_NOTIFY: 6
    };
    goog.object.extend(exports, proto.game);
  }, {
    "game-protobuf/ts/base/base_pb.js": 24,
    "google-protobuf": 27,
    "google-protobuf/google/protobuf/any_pb.js": 28
  } ],
  26: [ function(require, module, exports) {
    var game_game_pb = require("../game/game_pb");
    var grpc = require("@improbable-eng/grpc-web").grpc;
    var Game = function() {
      function Game() {}
      Game.serviceName = "game.Game";
      return Game;
    }();
    Game.Streaming = {
      methodName: "Streaming",
      service: Game,
      requestStream: true,
      responseStream: true,
      requestType: game_game_pb.PacketReq,
      responseType: game_game_pb.PacketRes
    };
    exports.Game = Game;
    function GameClient(serviceHost, options) {
      this.serviceHost = serviceHost;
      this.options = options || {};
    }
    GameClient.prototype.streaming = function streaming(metadata) {
      var listeners = {
        data: [],
        end: [],
        status: []
      };
      var client = grpc.client(Game.Streaming, {
        host: this.serviceHost,
        metadata: metadata,
        transport: this.options.transport
      });
      client.onEnd(function(status, statusMessage, trailers) {
        listeners.end.forEach(function(handler) {
          handler();
        });
        listeners.status.forEach(function(handler) {
          handler({
            code: status,
            details: statusMessage,
            metadata: trailers
          });
        });
        listeners = null;
      });
      client.onMessage(function(message) {
        listeners.data.forEach(function(handler) {
          handler(message);
        });
      });
      client.start(metadata);
      return {
        on: function(type, handler) {
          listeners[type].push(handler);
          return this;
        },
        write: function(requestMessage) {
          client.send(requestMessage);
          return this;
        },
        end: function() {
          client.finishSend();
        },
        cancel: function() {
          listeners = null;
          client.close();
        }
      };
    };
    exports.GameClient = GameClient;
  }, {
    "../game/game_pb": 25,
    "@improbable-eng/grpc-web": 7
  } ],
  27: [ function(require, module, exports) {
    (function(global, Buffer) {
      var $jscomp = {
        scope: {},
        getGlobal: function(a) {
          return window;
        }
      };
      $jscomp.global = $jscomp.getGlobal(this);
      $jscomp.initSymbol = function() {
        $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol);
        $jscomp.initSymbol = function() {};
      };
      $jscomp.symbolCounter_ = 0;
      $jscomp.Symbol = function(a) {
        return "jscomp_symbol_" + a + $jscomp.symbolCounter_++;
      };
      $jscomp.initSymbolIterator = function() {
        $jscomp.initSymbol();
        $jscomp.global.Symbol.iterator || ($jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
        $jscomp.initSymbolIterator = function() {};
      };
      $jscomp.makeIterator = function(a) {
        $jscomp.initSymbolIterator();
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        var b = a[Symbol.iterator];
        if (b) return b.call(a);
        var c = 0;
        return {
          next: function() {
            return c < a.length ? {
              done: !1,
              value: a[c++]
            } : {
              done: !0
            };
          }
        };
      };
      $jscomp.arrayFromIterator = function(a) {
        for (var b, c = []; !(b = a.next()).done; ) c.push(b.value);
        return c;
      };
      $jscomp.arrayFromIterable = function(a) {
        return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
      };
      $jscomp.inherits = function(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.prototype = new c();
        a.prototype.constructor = a;
        for (var d in b) if (Object.defineProperties) {
          var e = Object.getOwnPropertyDescriptor(b, d);
          e && Object.defineProperty(a, d, e);
        } else a[d] = b[d];
      };
      $jscomp.array = $jscomp.array || {};
      $jscomp.iteratorFromArray = function(a, b) {
        $jscomp.initSymbolIterator();
        a instanceof String && (a += "");
        var c = 0, d = {
          next: function() {
            if (c < a.length) {
              var e = c++;
              return {
                value: b(e, a[e]),
                done: !1
              };
            }
            d.next = function() {
              return {
                done: !0,
                value: void 0
              };
            };
            return d.next();
          }
        };
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        d[Symbol.iterator] = function() {
          return d;
        };
        return d;
      };
      $jscomp.findInternal = function(a, b, c) {
        a instanceof String && (a = String(a));
        for (var d = a.length, e = 0; e < d; e++) {
          var f = a[e];
          if (b.call(c, f, e, a)) return {
            i: e,
            v: f
          };
        }
        return {
          i: -1,
          v: void 0
        };
      };
      $jscomp.array.from = function(a, b, c) {
        $jscomp.initSymbolIterator();
        b = null != b ? b : function(a) {
          return a;
        };
        var d = [];
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        var e = a[Symbol.iterator];
        "function" == typeof e && (a = e.call(a));
        if ("function" == typeof a.next) for (;!(e = a.next()).done; ) d.push(b.call(c, e.value)); else for (var e = a.length, f = 0; f < e; f++) d.push(b.call(c, a[f]));
        return d;
      };
      $jscomp.array.of = function(a) {
        return $jscomp.array.from(arguments);
      };
      $jscomp.array.entries = function() {
        return $jscomp.iteratorFromArray(this, function(a, b) {
          return [ a, b ];
        });
      };
      $jscomp.array.installHelper_ = function(a, b) {
        !Array.prototype[a] && Object.defineProperties && Object.defineProperty && Object.defineProperty(Array.prototype, a, {
          configurable: !0,
          enumerable: !1,
          writable: !0,
          value: b
        });
      };
      $jscomp.array.entries$install = function() {
        $jscomp.array.installHelper_("entries", $jscomp.array.entries);
      };
      $jscomp.array.keys = function() {
        return $jscomp.iteratorFromArray(this, function(a) {
          return a;
        });
      };
      $jscomp.array.keys$install = function() {
        $jscomp.array.installHelper_("keys", $jscomp.array.keys);
      };
      $jscomp.array.values = function() {
        return $jscomp.iteratorFromArray(this, function(a, b) {
          return b;
        });
      };
      $jscomp.array.values$install = function() {
        $jscomp.array.installHelper_("values", $jscomp.array.values);
      };
      $jscomp.array.copyWithin = function(a, b, c) {
        var d = this.length;
        a = Number(a);
        b = Number(b);
        c = Number(null != c ? c : d);
        if (a < b) for (c = Math.min(c, d); b < c; ) b in this ? this[a++] = this[b++] : (delete this[a++], 
        b++); else for (c = Math.min(c, d + b - a), a += c - b; c > b; ) --c in this ? this[--a] = this[c] : delete this[a];
        return this;
      };
      $jscomp.array.copyWithin$install = function() {
        $jscomp.array.installHelper_("copyWithin", $jscomp.array.copyWithin);
      };
      $jscomp.array.fill = function(a, b, c) {
        var d = this.length || 0;
        0 > b && (b = Math.max(0, d + b));
        (null == c || c > d) && (c = d);
        c = Number(c);
        0 > c && (c = Math.max(0, d + c));
        for (b = Number(b || 0); b < c; b++) this[b] = a;
        return this;
      };
      $jscomp.array.fill$install = function() {
        $jscomp.array.installHelper_("fill", $jscomp.array.fill);
      };
      $jscomp.array.find = function(a, b) {
        return $jscomp.findInternal(this, a, b).v;
      };
      $jscomp.array.find$install = function() {
        $jscomp.array.installHelper_("find", $jscomp.array.find);
      };
      $jscomp.array.findIndex = function(a, b) {
        return $jscomp.findInternal(this, a, b).i;
      };
      $jscomp.array.findIndex$install = function() {
        $jscomp.array.installHelper_("findIndex", $jscomp.array.findIndex);
      };
      $jscomp.ASSUME_NO_NATIVE_MAP = !1;
      $jscomp.Map$isConformant = function() {
        if ($jscomp.ASSUME_NO_NATIVE_MAP) return !1;
        var a = $jscomp.global.Map;
        if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var b = Object.seal({
            x: 4
          }), c = new a($jscomp.makeIterator([ [ b, "s" ] ]));
          if ("s" != c.get(b) || 1 != c.size || c.get({
            x: 4
          }) || c.set({
            x: 4
          }, "t") != c || 2 != c.size) return !1;
          var d = c.entries(), e = d.next();
          if (e.done || e.value[0] != b || "s" != e.value[1]) return !1;
          e = d.next();
          return !(e.done || 4 != e.value[0].x || "t" != e.value[1] || !d.next().done);
        } catch (f) {
          return !1;
        }
      };
      $jscomp.Map = function(a) {
        this.data_ = {};
        this.head_ = $jscomp.Map.createHead();
        this.size = 0;
        if (a) {
          a = $jscomp.makeIterator(a);
          for (var b; !(b = a.next()).done; ) b = b.value, this.set(b[0], b[1]);
        }
      };
      $jscomp.Map.prototype.set = function(a, b) {
        var c = $jscomp.Map.maybeGetEntry(this, a);
        c.list || (c.list = this.data_[c.id] = []);
        c.entry ? c.entry.value = b : (c.entry = {
          next: this.head_,
          previous: this.head_.previous,
          head: this.head_,
          key: a,
          value: b
        }, c.list.push(c.entry), this.head_.previous.next = c.entry, this.head_.previous = c.entry, 
        this.size++);
        return this;
      };
      $jscomp.Map.prototype["delete"] = function(a) {
        a = $jscomp.Map.maybeGetEntry(this, a);
        return !(!a.entry || !a.list) && (a.list.splice(a.index, 1), a.list.length || delete this.data_[a.id], 
        a.entry.previous.next = a.entry.next, a.entry.next.previous = a.entry.previous, 
        a.entry.head = null, this.size--, !0);
      };
      $jscomp.Map.prototype.clear = function() {
        this.data_ = {};
        this.head_ = this.head_.previous = $jscomp.Map.createHead();
        this.size = 0;
      };
      $jscomp.Map.prototype.has = function(a) {
        return !!$jscomp.Map.maybeGetEntry(this, a).entry;
      };
      $jscomp.Map.prototype.get = function(a) {
        return (a = $jscomp.Map.maybeGetEntry(this, a).entry) && a.value;
      };
      $jscomp.Map.prototype.entries = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return [ a.key, a.value ];
        });
      };
      $jscomp.Map.prototype.keys = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return a.key;
        });
      };
      $jscomp.Map.prototype.values = function() {
        return $jscomp.Map.makeIterator_(this, function(a) {
          return a.value;
        });
      };
      $jscomp.Map.prototype.forEach = function(a, b) {
        for (var c = this.entries(), d; !(d = c.next()).done; ) d = d.value, a.call(b, d[1], d[0], this);
      };
      $jscomp.Map.maybeGetEntry = function(a, b) {
        var c = $jscomp.Map.getId(b), d = a.data_[c];
        if (d && Object.prototype.hasOwnProperty.call(a.data_, c)) for (var e = 0; e < d.length; e++) {
          var f = d[e];
          if (b !== b && f.key !== f.key || b === f.key) return {
            id: c,
            list: d,
            index: e,
            entry: f
          };
        }
        return {
          id: c,
          list: d,
          index: -1,
          entry: void 0
        };
      };
      $jscomp.Map.makeIterator_ = function(a, b) {
        var c = a.head_, d = {
          next: function() {
            if (c) {
              for (;c.head != a.head_; ) c = c.previous;
              for (;c.next != c.head; ) return c = c.next, {
                done: !1,
                value: b(c)
              };
              c = null;
            }
            return {
              done: !0,
              value: void 0
            };
          }
        };
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        d[Symbol.iterator] = function() {
          return d;
        };
        return d;
      };
      $jscomp.Map.mapIndex_ = 0;
      $jscomp.Map.createHead = function() {
        var a = {};
        return a.previous = a.next = a.head = a;
      };
      $jscomp.Map.getId = function(a) {
        if (!(a instanceof Object)) return "p_" + a;
        if (!($jscomp.Map.idKey in a)) try {
          $jscomp.Map.defineProperty(a, $jscomp.Map.idKey, {
            value: ++$jscomp.Map.mapIndex_
          });
        } catch (b) {}
        return $jscomp.Map.idKey in a ? a[$jscomp.Map.idKey] : "o_ " + a;
      };
      $jscomp.Map.defineProperty = Object.defineProperty ? function(a, b, c) {
        Object.defineProperty(a, b, {
          value: String(c)
        });
      } : function(a, b, c) {
        a[b] = String(c);
      };
      $jscomp.Map.Entry = function() {};
      $jscomp.Map$install = function() {
        $jscomp.initSymbol();
        $jscomp.initSymbolIterator();
        $jscomp.Map$isConformant() ? $jscomp.Map = $jscomp.global.Map : ($jscomp.initSymbol(), 
        $jscomp.initSymbolIterator(), $jscomp.Map.prototype[Symbol.iterator] = $jscomp.Map.prototype.entries, 
        $jscomp.initSymbol(), $jscomp.Map.idKey = Symbol("map-id-key"), $jscomp.Map$install = function() {});
      };
      $jscomp.math = $jscomp.math || {};
      $jscomp.math.clz32 = function(a) {
        a = Number(a) >>> 0;
        if (0 === a) return 32;
        var b = 0;
        0 === (4294901760 & a) && (a <<= 16, b += 16);
        0 === (4278190080 & a) && (a <<= 8, b += 8);
        0 === (4026531840 & a) && (a <<= 4, b += 4);
        0 === (3221225472 & a) && (a <<= 2, b += 2);
        0 === (2147483648 & a) && b++;
        return b;
      };
      $jscomp.math.imul = function(a, b) {
        a = Number(a);
        b = Number(b);
        var c = 65535 & a, d = 65535 & b;
        return c * d + ((a >>> 16 & 65535) * d + c * (b >>> 16 & 65535) << 16 >>> 0) | 0;
      };
      $jscomp.math.sign = function(a) {
        a = Number(a);
        return 0 === a || isNaN(a) ? a : 0 < a ? 1 : -1;
      };
      $jscomp.math.log10 = function(a) {
        return Math.log(a) / Math.LN10;
      };
      $jscomp.math.log2 = function(a) {
        return Math.log(a) / Math.LN2;
      };
      $jscomp.math.log1p = function(a) {
        a = Number(a);
        if (.25 > a && -.25 < a) {
          for (var b = a, c = 1, d = a, e = 0, f = 1; e != d; ) b *= a, f *= -1, d = (e = d) + f * b / ++c;
          return d;
        }
        return Math.log(1 + a);
      };
      $jscomp.math.expm1 = function(a) {
        a = Number(a);
        if (.25 > a && -.25 < a) {
          for (var b = a, c = 1, d = a, e = 0; e != d; ) b *= a / ++c, d = (e = d) + b;
          return d;
        }
        return Math.exp(a) - 1;
      };
      $jscomp.math.cosh = function(a) {
        a = Number(a);
        return (Math.exp(a) + Math.exp(-a)) / 2;
      };
      $jscomp.math.sinh = function(a) {
        a = Number(a);
        return 0 === a ? a : (Math.exp(a) - Math.exp(-a)) / 2;
      };
      $jscomp.math.tanh = function(a) {
        a = Number(a);
        if (0 === a) return a;
        var b = Math.exp(-2 * Math.abs(a)), b = (1 - b) / (1 + b);
        return 0 > a ? -b : b;
      };
      $jscomp.math.acosh = function(a) {
        a = Number(a);
        return Math.log(a + Math.sqrt(a * a - 1));
      };
      $jscomp.math.asinh = function(a) {
        a = Number(a);
        if (0 === a) return a;
        var b = Math.log(Math.abs(a) + Math.sqrt(a * a + 1));
        return 0 > a ? -b : b;
      };
      $jscomp.math.atanh = function(a) {
        a = Number(a);
        return ($jscomp.math.log1p(a) - $jscomp.math.log1p(-a)) / 2;
      };
      $jscomp.math.hypot = function(a, b, c) {
        a = Number(a);
        b = Number(b);
        var d, e, f, g = Math.max(Math.abs(a), Math.abs(b));
        for (d = 2; d < arguments.length; d++) g = Math.max(g, Math.abs(arguments[d]));
        if (1e100 < g || 1e-100 > g) {
          a /= g;
          b /= g;
          f = a * a + b * b;
          for (d = 2; d < arguments.length; d++) e = Number(arguments[d]) / g, f += e * e;
          return Math.sqrt(f) * g;
        }
        f = a * a + b * b;
        for (d = 2; d < arguments.length; d++) e = Number(arguments[d]), f += e * e;
        return Math.sqrt(f);
      };
      $jscomp.math.trunc = function(a) {
        a = Number(a);
        if (isNaN(a) || Infinity === a || -Infinity === a || 0 === a) return a;
        var b = Math.floor(Math.abs(a));
        return 0 > a ? -b : b;
      };
      $jscomp.math.cbrt = function(a) {
        if (0 === a) return a;
        a = Number(a);
        var b = Math.pow(Math.abs(a), 1 / 3);
        return 0 > a ? -b : b;
      };
      $jscomp.number = $jscomp.number || {};
      $jscomp.number.isFinite = function(a) {
        return "number" === typeof a && (!isNaN(a) && Infinity !== a && -Infinity !== a);
      };
      $jscomp.number.isInteger = function(a) {
        return !!$jscomp.number.isFinite(a) && a === Math.floor(a);
      };
      $jscomp.number.isNaN = function(a) {
        return "number" === typeof a && isNaN(a);
      };
      $jscomp.number.isSafeInteger = function(a) {
        return $jscomp.number.isInteger(a) && Math.abs(a) <= $jscomp.number.MAX_SAFE_INTEGER;
      };
      $jscomp.number.EPSILON = function() {
        return Math.pow(2, -52);
      }();
      $jscomp.number.MAX_SAFE_INTEGER = function() {
        return 9007199254740991;
      }();
      $jscomp.number.MIN_SAFE_INTEGER = function() {
        return -9007199254740991;
      }();
      $jscomp.object = $jscomp.object || {};
      $jscomp.object.assign = function(a, b) {
        for (var c = 1; c < arguments.length; c++) {
          var d = arguments[c];
          if (d) for (var e in d) Object.prototype.hasOwnProperty.call(d, e) && (a[e] = d[e]);
        }
        return a;
      };
      $jscomp.object.is = function(a, b) {
        return a === b ? 0 !== a || 1 / a === 1 / b : a !== a && b !== b;
      };
      $jscomp.ASSUME_NO_NATIVE_SET = !1;
      $jscomp.Set$isConformant = function() {
        if ($jscomp.ASSUME_NO_NATIVE_SET) return !1;
        var a = $jscomp.global.Set;
        if (!a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var b = Object.seal({
            x: 4
          }), c = new a($jscomp.makeIterator([ b ]));
          if (!c.has(b) || 1 != c.size || c.add(b) != c || 1 != c.size || c.add({
            x: 4
          }) != c || 2 != c.size) return !1;
          var d = c.entries(), e = d.next();
          if (e.done || e.value[0] != b || e.value[1] != b) return !1;
          e = d.next();
          return !e.done && e.value[0] != b && 4 == e.value[0].x && e.value[1] == e.value[0] && d.next().done;
        } catch (f) {
          return !1;
        }
      };
      $jscomp.Set = function(a) {
        this.map_ = new $jscomp.Map();
        if (a) {
          a = $jscomp.makeIterator(a);
          for (var b; !(b = a.next()).done; ) this.add(b.value);
        }
        this.size = this.map_.size;
      };
      $jscomp.Set.prototype.add = function(a) {
        this.map_.set(a, a);
        this.size = this.map_.size;
        return this;
      };
      $jscomp.Set.prototype["delete"] = function(a) {
        a = this.map_["delete"](a);
        this.size = this.map_.size;
        return a;
      };
      $jscomp.Set.prototype.clear = function() {
        this.map_.clear();
        this.size = 0;
      };
      $jscomp.Set.prototype.has = function(a) {
        return this.map_.has(a);
      };
      $jscomp.Set.prototype.entries = function() {
        return this.map_.entries();
      };
      $jscomp.Set.prototype.values = function() {
        return this.map_.values();
      };
      $jscomp.Set.prototype.forEach = function(a, b) {
        var c = this;
        this.map_.forEach(function(d) {
          return a.call(b, d, d, c);
        });
      };
      $jscomp.Set$install = function() {
        $jscomp.Map$install();
        $jscomp.Set$isConformant() ? $jscomp.Set = $jscomp.global.Set : ($jscomp.initSymbol(), 
        $jscomp.initSymbolIterator(), $jscomp.Set.prototype[Symbol.iterator] = $jscomp.Set.prototype.values, 
        $jscomp.Set$install = function() {});
      };
      $jscomp.string = $jscomp.string || {};
      $jscomp.checkStringArgs = function(a, b, c) {
        if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
        if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
        return a + "";
      };
      $jscomp.string.fromCodePoint = function(a) {
        for (var b = "", c = 0; c < arguments.length; c++) {
          var d = Number(arguments[c]);
          if (0 > d || 1114111 < d || d !== Math.floor(d)) throw new RangeError("invalid_code_point " + d);
          65535 >= d ? b += String.fromCharCode(d) : (d -= 65536, b += String.fromCharCode(d >>> 10 & 1023 | 55296), 
          b += String.fromCharCode(1023 & d | 56320));
        }
        return b;
      };
      $jscomp.string.repeat = function(a) {
        var b = $jscomp.checkStringArgs(this, null, "repeat");
        if (0 > a || 1342177279 < a) throw new RangeError("Invalid count value");
        a |= 0;
        for (var c = ""; a; ) (1 & a && (c += b), a >>>= 1) && (b += b);
        return c;
      };
      $jscomp.string.repeat$install = function() {
        String.prototype.repeat || (String.prototype.repeat = $jscomp.string.repeat);
      };
      $jscomp.string.codePointAt = function(a) {
        var b = $jscomp.checkStringArgs(this, null, "codePointAt"), c = b.length;
        a = Number(a) || 0;
        if (0 <= a && a < c) {
          a |= 0;
          var d = b.charCodeAt(a);
          if (55296 > d || 56319 < d || a + 1 === c) return d;
          a = b.charCodeAt(a + 1);
          return 56320 > a || 57343 < a ? d : 1024 * (d - 55296) + a + 9216;
        }
      };
      $jscomp.string.codePointAt$install = function() {
        String.prototype.codePointAt || (String.prototype.codePointAt = $jscomp.string.codePointAt);
      };
      $jscomp.string.includes = function(a, b) {
        return -1 !== $jscomp.checkStringArgs(this, a, "includes").indexOf(a, b || 0);
      };
      $jscomp.string.includes$install = function() {
        String.prototype.includes || (String.prototype.includes = $jscomp.string.includes);
      };
      $jscomp.string.startsWith = function(a, b) {
        var c = $jscomp.checkStringArgs(this, a, "startsWith");
        a += "";
        for (var d = c.length, e = a.length, f = Math.max(0, Math.min(0 | b, c.length)), g = 0; g < e && f < d; ) if (c[f++] != a[g++]) return !1;
        return g >= e;
      };
      $jscomp.string.startsWith$install = function() {
        String.prototype.startsWith || (String.prototype.startsWith = $jscomp.string.startsWith);
      };
      $jscomp.string.endsWith = function(a, b) {
        var c = $jscomp.checkStringArgs(this, a, "endsWith");
        a += "";
        void 0 === b && (b = c.length);
        for (var d = Math.max(0, Math.min(0 | b, c.length)), e = a.length; 0 < e && 0 < d; ) if (c[--d] != a[--e]) return !1;
        return 0 >= e;
      };
      $jscomp.string.endsWith$install = function() {
        String.prototype.endsWith || (String.prototype.endsWith = $jscomp.string.endsWith);
      };
      var COMPILED = !0, goog = goog || {};
      goog.global = $jscomp.getGlobal();
      goog.isDef = function(a) {
        return void 0 !== a;
      };
      goog.exportPath_ = function(a, b, c) {
        a = a.split(".");
        c = c || goog.global;
        a[0] in c || !c.execScript || c.execScript("var " + a[0]);
        for (var d; a.length && (d = a.shift()); ) !a.length && goog.isDef(b) ? c[d] = b : c = c[d] ? c[d] : c[d] = {};
      };
      goog.define = function(a, b) {
        var c = b;
        COMPILED || (goog.global.CLOSURE_UNCOMPILED_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES, a) ? c = goog.global.CLOSURE_UNCOMPILED_DEFINES[a] : goog.global.CLOSURE_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES, a) && (c = goog.global.CLOSURE_DEFINES[a]));
        goog.exportPath_(a, c);
      };
      goog.DEBUG = !0;
      goog.LOCALE = "en";
      goog.TRUSTED_SITE = !0;
      goog.STRICT_MODE_COMPATIBLE = !1;
      goog.DISALLOW_TEST_ONLY_CODE = COMPILED && !goog.DEBUG;
      goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;
      goog.provide = function(a) {
        if (!COMPILED && goog.isProvided_(a)) throw Error('Namespace "' + a + '" already declared.');
        goog.constructNamespace_(a);
      };
      goog.constructNamespace_ = function(a, b) {
        if (!COMPILED) {
          delete goog.implicitNamespaces_[a];
          for (var c = a; (c = c.substring(0, c.lastIndexOf("."))) && !goog.getObjectByName(c); ) goog.implicitNamespaces_[c] = !0;
        }
        goog.exportPath_(a, b);
      };
      goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
      goog.module = function(a) {
        if (!goog.isString(a) || !a || -1 == a.search(goog.VALID_MODULE_RE_)) throw Error("Invalid module identifier");
        if (!goog.isInModuleLoader_()) throw Error("Module " + a + " has been loaded incorrectly.");
        if (goog.moduleLoaderState_.moduleName) throw Error("goog.module may only be called once per module.");
        goog.moduleLoaderState_.moduleName = a;
        if (!COMPILED) {
          if (goog.isProvided_(a)) throw Error('Namespace "' + a + '" already declared.');
          delete goog.implicitNamespaces_[a];
        }
      };
      goog.module.get = function(a) {
        return goog.module.getInternal_(a);
      };
      goog.module.getInternal_ = function(a) {
        if (!COMPILED) return goog.isProvided_(a) ? a in goog.loadedModules_ ? goog.loadedModules_[a] : goog.getObjectByName(a) : null;
      };
      goog.moduleLoaderState_ = null;
      goog.isInModuleLoader_ = function() {
        return null != goog.moduleLoaderState_;
      };
      goog.module.declareLegacyNamespace = function() {
        if (!COMPILED && !goog.isInModuleLoader_()) throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");
        if (!COMPILED && !goog.moduleLoaderState_.moduleName) throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");
        goog.moduleLoaderState_.declareLegacyNamespace = !0;
      };
      goog.setTestOnly = function(a) {
        if (goog.DISALLOW_TEST_ONLY_CODE) throw a = a || "", Error("Importing test-only code into non-debug environment" + (a ? ": " + a : "."));
      };
      goog.forwardDeclare = function(a) {};
      COMPILED || (goog.isProvided_ = function(a) {
        return a in goog.loadedModules_ || !goog.implicitNamespaces_[a] && goog.isDefAndNotNull(goog.getObjectByName(a));
      }, goog.implicitNamespaces_ = {
        "goog.module": !0
      });
      goog.getObjectByName = function(a, b) {
        for (var c = a.split("."), d = b || goog.global, e; e = c.shift(); ) {
          if (!goog.isDefAndNotNull(d[e])) return null;
          d = d[e];
        }
        return d;
      };
      goog.globalize = function(a, b) {
        var c = b || goog.global, d;
        for (d in a) c[d] = a[d];
      };
      goog.addDependency = function(a, b, c, d) {
        if (goog.DEPENDENCIES_ENABLED) {
          var e;
          a = a.replace(/\\/g, "/");
          for (var f = goog.dependencies_, g = 0; e = b[g]; g++) f.nameToPath[e] = a, f.pathIsModule[a] = !!d;
          for (d = 0; b = c[d]; d++) a in f.requires || (f.requires[a] = {}), f.requires[a][b] = !0;
        }
      };
      goog.ENABLE_DEBUG_LOADER = !0;
      goog.logToConsole_ = function(a) {
        goog.global.console && goog.global.console.error(a);
      };
      goog.require = function(a) {
        if (!COMPILED) {
          goog.ENABLE_DEBUG_LOADER && goog.IS_OLD_IE_ && goog.maybeProcessDeferredDep_(a);
          if (goog.isProvided_(a)) return goog.isInModuleLoader_() ? goog.module.getInternal_(a) : null;
          if (goog.ENABLE_DEBUG_LOADER) {
            var b = goog.getPathFromDeps_(a);
            if (b) return goog.writeScripts_(b), null;
          }
          a = "goog.require could not find: " + a;
          goog.logToConsole_(a);
          throw Error(a);
        }
      };
      goog.basePath = "";
      goog.nullFunction = function() {};
      goog.abstractMethod = function() {
        throw Error("unimplemented abstract method");
      };
      goog.addSingletonGetter = function(a) {
        a.getInstance = function() {
          if (a.instance_) return a.instance_;
          goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = a);
          return a.instance_ = new a();
        };
      };
      goog.instantiatedSingletons_ = [];
      goog.LOAD_MODULE_USING_EVAL = !0;
      goog.SEAL_MODULE_EXPORTS = goog.DEBUG;
      goog.loadedModules_ = {};
      goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
      goog.DEPENDENCIES_ENABLED && (goog.dependencies_ = {
        pathIsModule: {},
        nameToPath: {},
        requires: {},
        visited: {},
        written: {},
        deferred: {}
      }, goog.inHtmlDocument_ = function() {
        var a = goog.global.document;
        return null != a && "write" in a;
      }, goog.findBasePath_ = function() {
        if (goog.isDef(goog.global.CLOSURE_BASE_PATH)) goog.basePath = goog.global.CLOSURE_BASE_PATH; else if (goog.inHtmlDocument_()) for (var a = goog.global.document.getElementsByTagName("SCRIPT"), b = a.length - 1; 0 <= b; --b) {
          var c = a[b].src, d = c.lastIndexOf("?"), d = -1 == d ? c.length : d;
          if ("base.js" == c.substr(d - 7, 7)) {
            goog.basePath = c.substr(0, d - 7);
            break;
          }
        }
      }, goog.importScript_ = function(a, b) {
        (goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_)(a, b) && (goog.dependencies_.written[a] = !0);
      }, goog.IS_OLD_IE_ = !(goog.global.atob || !goog.global.document || !goog.global.document.all), 
      goog.importModule_ = function(a) {
        goog.importScript_("", 'goog.retrieveAndExecModule_("' + a + '");') && (goog.dependencies_.written[a] = !0);
      }, goog.queuedModules_ = [], goog.wrapModule_ = function(a, b) {
        return goog.LOAD_MODULE_USING_EVAL && goog.isDef(goog.global.JSON) ? "goog.loadModule(" + goog.global.JSON.stringify(b + "\n//# sourceURL=" + a + "\n") + ");" : 'goog.loadModule(function(exports) {"use strict";' + b + "\n;return exports});\n//# sourceURL=" + a + "\n";
      }, goog.loadQueuedModules_ = function() {
        var a = goog.queuedModules_.length;
        if (0 < a) {
          var b = goog.queuedModules_;
          goog.queuedModules_ = [];
          for (var c = 0; c < a; c++) goog.maybeProcessDeferredPath_(b[c]);
        }
      }, goog.maybeProcessDeferredDep_ = function(a) {
        goog.isDeferredModule_(a) && goog.allDepsAreAvailable_(a) && (a = goog.getPathFromDeps_(a), 
        goog.maybeProcessDeferredPath_(goog.basePath + a));
      }, goog.isDeferredModule_ = function(a) {
        return !(!(a = goog.getPathFromDeps_(a)) || !goog.dependencies_.pathIsModule[a]) && goog.basePath + a in goog.dependencies_.deferred;
      }, goog.allDepsAreAvailable_ = function(a) {
        if ((a = goog.getPathFromDeps_(a)) && a in goog.dependencies_.requires) for (var b in goog.dependencies_.requires[a]) if (!goog.isProvided_(b) && !goog.isDeferredModule_(b)) return !1;
        return !0;
      }, goog.maybeProcessDeferredPath_ = function(a) {
        if (a in goog.dependencies_.deferred) {
          var b = goog.dependencies_.deferred[a];
          delete goog.dependencies_.deferred[a];
          goog.globalEval(b);
        }
      }, goog.loadModuleFromUrl = function(a) {
        goog.retrieveAndExecModule_(a);
      }, goog.loadModule = function(a) {
        var b = goog.moduleLoaderState_;
        try {
          goog.moduleLoaderState_ = {
            moduleName: void 0,
            declareLegacyNamespace: !1
          };
          var c;
          if (goog.isFunction(a)) c = a.call(goog.global, {}); else {
            if (!goog.isString(a)) throw Error("Invalid module definition");
            c = goog.loadModuleFromSource_.call(goog.global, a);
          }
          var d = goog.moduleLoaderState_.moduleName;
          if (!goog.isString(d) || !d) throw Error('Invalid module name "' + d + '"');
          goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(d, c) : goog.SEAL_MODULE_EXPORTS && Object.seal && Object.seal(c);
          goog.loadedModules_[d] = c;
        } finally {
          goog.moduleLoaderState_ = b;
        }
      }, goog.loadModuleFromSource_ = function(a) {
        eval(a);
        return {};
      }, goog.writeScriptSrcNode_ = function(a) {
        goog.global.document.write('<script type="text/javascript" src="' + a + '"><\/script>');
      }, goog.appendScriptSrcNode_ = function(a) {
        var b = goog.global.document, c = b.createElement("script");
        c.type = "text/javascript";
        c.src = a;
        c.defer = !1;
        c.async = !1;
        b.head.appendChild(c);
      }, goog.writeScriptTag_ = function(a, b) {
        if (goog.inHtmlDocument_()) {
          var c = goog.global.document;
          if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && "complete" == c.readyState) {
            if (/\bdeps.js$/.test(a)) return !1;
            throw Error('Cannot write "' + a + '" after document load');
          }
          var d = goog.IS_OLD_IE_;
          void 0 === b ? d ? (d = " onreadystatechange='goog.onScriptLoad_(this, " + ++goog.lastNonModuleScriptIndex_ + ")' ", 
          c.write('<script type="text/javascript" src="' + a + '"' + d + "><\/script>")) : goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING ? goog.appendScriptSrcNode_(a) : goog.writeScriptSrcNode_(a) : c.write('<script type="text/javascript">' + b + "<\/script>");
          return !0;
        }
        return !1;
      }, goog.lastNonModuleScriptIndex_ = 0, goog.onScriptLoad_ = function(a, b) {
        "complete" == a.readyState && goog.lastNonModuleScriptIndex_ == b && goog.loadQueuedModules_();
        return !0;
      }, goog.writeScripts_ = function(a) {
        function b(a) {
          if (!(a in e.written || a in e.visited)) {
            e.visited[a] = !0;
            if (a in e.requires) for (var f in e.requires[a]) if (!goog.isProvided_(f)) {
              if (!(f in e.nameToPath)) throw Error("Undefined nameToPath for " + f);
              b(e.nameToPath[f]);
            }
            a in d || (d[a] = !0, c.push(a));
          }
        }
        var c = [], d = {}, e = goog.dependencies_;
        b(a);
        for (a = 0; a < c.length; a++) {
          var f = c[a];
          goog.dependencies_.written[f] = !0;
        }
        var g = goog.moduleLoaderState_;
        goog.moduleLoaderState_ = null;
        for (a = 0; a < c.length; a++) {
          if (!(f = c[a])) throw goog.moduleLoaderState_ = g, Error("Undefined script input");
          e.pathIsModule[f] ? goog.importModule_(goog.basePath + f) : goog.importScript_(goog.basePath + f);
        }
        goog.moduleLoaderState_ = g;
      }, goog.getPathFromDeps_ = function(a) {
        return a in goog.dependencies_.nameToPath ? goog.dependencies_.nameToPath[a] : null;
      }, goog.findBasePath_(), goog.global.CLOSURE_NO_DEPS || goog.importScript_(goog.basePath + "deps.js"));
      goog.normalizePath_ = function(a) {
        a = a.split("/");
        for (var b = 0; b < a.length; ) "." == a[b] ? a.splice(b, 1) : b && ".." == a[b] && a[b - 1] && ".." != a[b - 1] ? a.splice(--b, 2) : b++;
        return a.join("/");
      };
      goog.loadFileSync_ = function(a) {
        if (goog.global.CLOSURE_LOAD_FILE_SYNC) return goog.global.CLOSURE_LOAD_FILE_SYNC(a);
        var b = new goog.global.XMLHttpRequest();
        b.open("get", a, !1);
        b.send();
        return b.responseText;
      };
      goog.retrieveAndExecModule_ = function(a) {
        if (!COMPILED) {
          var b = a;
          a = goog.normalizePath_(a);
          var c = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_, d = goog.loadFileSync_(a);
          if (null == d) throw Error("load of " + a + "failed");
          d = goog.wrapModule_(a, d), goog.IS_OLD_IE_ ? (goog.dependencies_.deferred[b] = d, 
          goog.queuedModules_.push(b)) : c(a, d);
        }
      };
      goog.typeOf = function(a) {
        var b = typeof a;
        if ("object" == b) {
          if (!a) return "null";
          if (a instanceof Array) return "array";
          if (a instanceof Object) return b;
          var c = Object.prototype.toString.call(a);
          if ("[object Window]" == c) return "object";
          if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";
          if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function";
        } else if ("function" == b && "undefined" == typeof a.call) return "object";
        return b;
      };
      goog.isNull = function(a) {
        return null === a;
      };
      goog.isDefAndNotNull = function(a) {
        return null != a;
      };
      goog.isArray = function(a) {
        return "array" == goog.typeOf(a);
      };
      goog.isArrayLike = function(a) {
        var b = goog.typeOf(a);
        return "array" == b || "object" == b && "number" == typeof a.length;
      };
      goog.isDateLike = function(a) {
        return goog.isObject(a) && "function" == typeof a.getFullYear;
      };
      goog.isString = function(a) {
        return "string" == typeof a;
      };
      goog.isBoolean = function(a) {
        return "boolean" == typeof a;
      };
      goog.isNumber = function(a) {
        return "number" == typeof a;
      };
      goog.isFunction = function(a) {
        return "function" == goog.typeOf(a);
      };
      goog.isObject = function(a) {
        var b = typeof a;
        return "object" == b && null != a || "function" == b;
      };
      goog.getUid = function(a) {
        return a[goog.UID_PROPERTY_] || (a[goog.UID_PROPERTY_] = ++goog.uidCounter_);
      };
      goog.hasUid = function(a) {
        return !!a[goog.UID_PROPERTY_];
      };
      goog.removeUid = function(a) {
        null !== a && "removeAttribute" in a && a.removeAttribute(goog.UID_PROPERTY_);
        try {
          delete a[goog.UID_PROPERTY_];
        } catch (b) {}
      };
      goog.UID_PROPERTY_ = "closure_uid_" + (1e9 * Math.random() >>> 0);
      goog.uidCounter_ = 0;
      goog.getHashCode = goog.getUid;
      goog.removeHashCode = goog.removeUid;
      goog.cloneObject = function(a) {
        var b = goog.typeOf(a);
        if ("object" == b || "array" == b) {
          if (a.clone) return a.clone();
          var b = "array" == b ? [] : {}, c;
          for (c in a) b[c] = goog.cloneObject(a[c]);
          return b;
        }
        return a;
      };
      goog.bindNative_ = function(a, b, c) {
        return a.call.apply(a.bind, arguments);
      };
      goog.bindJs_ = function(a, b, c) {
        if (!a) throw Error();
        if (2 < arguments.length) {
          var d = Array.prototype.slice.call(arguments, 2);
          return function() {
            var c = Array.prototype.slice.call(arguments);
            Array.prototype.unshift.apply(c, d);
            return a.apply(b, c);
          };
        }
        return function() {
          return a.apply(b, arguments);
        };
      };
      goog.bind = function(a, b, c) {
        Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;
        return goog.bind.apply(null, arguments);
      };
      goog.partial = function(a, b) {
        var c = Array.prototype.slice.call(arguments, 1);
        return function() {
          var b = c.slice();
          b.push.apply(b, arguments);
          return a.apply(this, b);
        };
      };
      goog.mixin = function(a, b) {
        for (var c in b) a[c] = b[c];
      };
      goog.now = goog.TRUSTED_SITE && Date.now || function() {
        return +new Date();
      };
      goog.globalEval = function(a) {
        if (goog.global.execScript) goog.global.execScript(a, "JavaScript"); else {
          if (!goog.global.eval) throw Error("goog.globalEval not available");
          if (null == goog.evalWorksForGlobals_) if (goog.global.eval("var _evalTest_ = 1;"), 
          "undefined" != typeof goog.global._evalTest_) {
            try {
              delete goog.global._evalTest_;
            } catch (d) {}
            goog.evalWorksForGlobals_ = !0;
          } else goog.evalWorksForGlobals_ = !1;
          if (goog.evalWorksForGlobals_) goog.global.eval(a); else {
            var b = goog.global.document, c = b.createElement("SCRIPT");
            c.type = "text/javascript";
            c.defer = !1;
            c.appendChild(b.createTextNode(a));
            b.body.appendChild(c);
            b.body.removeChild(c);
          }
        }
      };
      goog.evalWorksForGlobals_ = null;
      goog.getCssName = function(a, b) {
        var c = function(a) {
          return goog.cssNameMapping_[a] || a;
        }, d = function(a) {
          a = a.split("-");
          for (var b = [], d = 0; d < a.length; d++) b.push(c(a[d]));
          return b.join("-");
        }, d = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? c : d : function(a) {
          return a;
        };
        return b ? a + "-" + d(b) : d(a);
      };
      goog.setCssNameMapping = function(a, b) {
        goog.cssNameMapping_ = a;
        goog.cssNameMappingStyle_ = b;
      };
      !COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING);
      goog.getMsg = function(a, b) {
        b && (a = a.replace(/\{\$([^}]+)}/g, function(a, d) {
          return null != b && d in b ? b[d] : a;
        }));
        return a;
      };
      goog.getMsgWithFallback = function(a, b) {
        return a;
      };
      goog.exportSymbol = function(a, b, c) {
        goog.exportPath_(a, b, c);
      };
      goog.exportProperty = function(a, b, c) {
        a[b] = c;
      };
      goog.inherits = function(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.superClass_ = b.prototype;
        a.prototype = new c();
        a.prototype.constructor = a;
        a.base = function(a, c, f) {
          for (var g = Array(arguments.length - 2), h = 2; h < arguments.length; h++) g[h - 2] = arguments[h];
          return b.prototype[c].apply(a, g);
        };
      };
      goog.base = function(a, b, c) {
        var d = arguments.callee.caller;
        if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !d) throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
        if (d.superClass_) {
          for (var e = Array(arguments.length - 1), f = 1; f < arguments.length; f++) e[f - 1] = arguments[f];
          return d.superClass_.constructor.apply(a, e);
        }
        e = Array(arguments.length - 2);
        for (f = 2; f < arguments.length; f++) e[f - 2] = arguments[f];
        for (var f = !1, g = a.constructor; g; g = g.superClass_ && g.superClass_.constructor) if (g.prototype[b] === d) f = !0; else if (f) return g.prototype[b].apply(a, e);
        if (a[b] === d) return a.constructor.prototype[b].apply(a, e);
        throw Error("goog.base called from a method of one name to a method of a different name");
      };
      goog.scope = function(a) {
        a.call(goog.global);
      };
      COMPILED || (goog.global.COMPILED = COMPILED);
      goog.defineClass = function(a, b) {
        var c = b.constructor, d = b.statics;
        c && c != Object.prototype.constructor || (c = function() {
          throw Error("cannot instantiate an interface (no constructor defined).");
        });
        c = goog.defineClass.createSealingConstructor_(c, a);
        a && goog.inherits(c, a);
        delete b.constructor;
        delete b.statics;
        goog.defineClass.applyProperties_(c.prototype, b);
        null != d && (d instanceof Function ? d(c) : goog.defineClass.applyProperties_(c, d));
        return c;
      };
      goog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;
      goog.defineClass.createSealingConstructor_ = function(a, b) {
        if (goog.defineClass.SEAL_CLASS_INSTANCES && Object.seal instanceof Function) {
          if (b && b.prototype && b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]) return a;
          var c = function() {
            var b = a.apply(this, arguments) || this;
            b[goog.UID_PROPERTY_] = b[goog.UID_PROPERTY_];
            this.constructor === c && Object.seal(b);
            return b;
          };
          return c;
        }
        return a;
      };
      goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
      goog.defineClass.applyProperties_ = function(a, b) {
        for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);
        for (var d = 0; d < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; d++) c = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d], 
        Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);
      };
      goog.tagUnsealableClass = function(a) {
        !COMPILED && goog.defineClass.SEAL_CLASS_INSTANCES && (a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_] = !0);
      };
      goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = "goog_defineClass_legacy_unsealable";
      goog.dom = {};
      goog.dom.NodeType = {
        ELEMENT: 1,
        ATTRIBUTE: 2,
        TEXT: 3,
        CDATA_SECTION: 4,
        ENTITY_REFERENCE: 5,
        ENTITY: 6,
        PROCESSING_INSTRUCTION: 7,
        COMMENT: 8,
        DOCUMENT: 9,
        DOCUMENT_TYPE: 10,
        DOCUMENT_FRAGMENT: 11,
        NOTATION: 12
      };
      goog.debug = {};
      goog.debug.Error = function(a) {
        if (Error.captureStackTrace) Error.captureStackTrace(this, goog.debug.Error); else {
          var b = Error().stack;
          b && (this.stack = b);
        }
        a && (this.message = String(a));
        this.reportErrorToServer = !0;
      };
      goog.inherits(goog.debug.Error, Error);
      goog.debug.Error.prototype.name = "CustomError";
      goog.string = {};
      goog.string.DETECT_DOUBLE_ESCAPING = !1;
      goog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;
      goog.string.Unicode = {
        NBSP: "\xa0"
      };
      goog.string.startsWith = function(a, b) {
        return 0 == a.lastIndexOf(b, 0);
      };
      goog.string.endsWith = function(a, b) {
        var c = a.length - b.length;
        return 0 <= c && a.indexOf(b, c) == c;
      };
      goog.string.caseInsensitiveStartsWith = function(a, b) {
        return 0 == goog.string.caseInsensitiveCompare(b, a.substr(0, b.length));
      };
      goog.string.caseInsensitiveEndsWith = function(a, b) {
        return 0 == goog.string.caseInsensitiveCompare(b, a.substr(a.length - b.length, b.length));
      };
      goog.string.caseInsensitiveEquals = function(a, b) {
        return a.toLowerCase() == b.toLowerCase();
      };
      goog.string.subs = function(a, b) {
        for (var c = a.split("%s"), d = "", e = Array.prototype.slice.call(arguments, 1); e.length && 1 < c.length; ) d += c.shift() + e.shift();
        return d + c.join("%s");
      };
      goog.string.collapseWhitespace = function(a) {
        return a.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "");
      };
      goog.string.isEmptyOrWhitespace = function(a) {
        return /^[\s\xa0]*$/.test(a);
      };
      goog.string.isEmptyString = function(a) {
        return 0 == a.length;
      };
      goog.string.isEmpty = goog.string.isEmptyOrWhitespace;
      goog.string.isEmptyOrWhitespaceSafe = function(a) {
        return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a));
      };
      goog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;
      goog.string.isBreakingWhitespace = function(a) {
        return !/[^\t\n\r ]/.test(a);
      };
      goog.string.isAlpha = function(a) {
        return !/[^a-zA-Z]/.test(a);
      };
      goog.string.isNumeric = function(a) {
        return !/[^0-9]/.test(a);
      };
      goog.string.isAlphaNumeric = function(a) {
        return !/[^a-zA-Z0-9]/.test(a);
      };
      goog.string.isSpace = function(a) {
        return " " == a;
      };
      goog.string.isUnicodeChar = function(a) {
        return 1 == a.length && " " <= a && "~" >= a || "\x80" <= a && "\ufffd" >= a;
      };
      goog.string.stripNewlines = function(a) {
        return a.replace(/(\r\n|\r|\n)+/g, " ");
      };
      goog.string.canonicalizeNewlines = function(a) {
        return a.replace(/(\r\n|\r|\n)/g, "\n");
      };
      goog.string.normalizeWhitespace = function(a) {
        return a.replace(/\xa0|\s/g, " ");
      };
      goog.string.normalizeSpaces = function(a) {
        return a.replace(/\xa0|[ \t]+/g, " ");
      };
      goog.string.collapseBreakingSpaces = function(a) {
        return a.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "");
      };
      goog.string.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(a) {
        return a.trim();
      } : function(a) {
        return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
      };
      goog.string.trimLeft = function(a) {
        return a.replace(/^[\s\xa0]+/, "");
      };
      goog.string.trimRight = function(a) {
        return a.replace(/[\s\xa0]+$/, "");
      };
      goog.string.caseInsensitiveCompare = function(a, b) {
        var c = String(a).toLowerCase(), d = String(b).toLowerCase();
        return c < d ? -1 : c == d ? 0 : 1;
      };
      goog.string.numberAwareCompare_ = function(a, b, c) {
        if (a == b) return 0;
        if (!a) return -1;
        if (!b) return 1;
        for (var d = a.toLowerCase().match(c), e = b.toLowerCase().match(c), f = Math.min(d.length, e.length), g = 0; g < f; g++) {
          c = d[g];
          var h = e[g];
          if (c != h) return a = parseInt(c, 10), !isNaN(a) && (b = parseInt(h, 10), !isNaN(b) && a - b) ? a - b : c < h ? -1 : 1;
        }
        return d.length != e.length ? d.length - e.length : a < b ? -1 : 1;
      };
      goog.string.intAwareCompare = function(a, b) {
        return goog.string.numberAwareCompare_(a, b, /\d+|\D+/g);
      };
      goog.string.floatAwareCompare = function(a, b) {
        return goog.string.numberAwareCompare_(a, b, /\d+|\.\d+|\D+/g);
      };
      goog.string.numerateCompare = goog.string.floatAwareCompare;
      goog.string.urlEncode = function(a) {
        return encodeURIComponent(String(a));
      };
      goog.string.urlDecode = function(a) {
        return decodeURIComponent(a.replace(/\+/g, " "));
      };
      goog.string.newLineToBr = function(a, b) {
        return a.replace(/(\r\n|\r|\n)/g, b ? "<br />" : "<br>");
      };
      goog.string.htmlEscape = function(a, b) {
        if (b) a = a.replace(goog.string.AMP_RE_, "&amp;").replace(goog.string.LT_RE_, "&lt;").replace(goog.string.GT_RE_, "&gt;").replace(goog.string.QUOT_RE_, "&quot;").replace(goog.string.SINGLE_QUOTE_RE_, "&#39;").replace(goog.string.NULL_RE_, "&#0;"), 
        goog.string.DETECT_DOUBLE_ESCAPING && (a = a.replace(goog.string.E_RE_, "&#101;")); else {
          if (!goog.string.ALL_RE_.test(a)) return a;
          -1 != a.indexOf("&") && (a = a.replace(goog.string.AMP_RE_, "&amp;"));
          -1 != a.indexOf("<") && (a = a.replace(goog.string.LT_RE_, "&lt;"));
          -1 != a.indexOf(">") && (a = a.replace(goog.string.GT_RE_, "&gt;"));
          -1 != a.indexOf('"') && (a = a.replace(goog.string.QUOT_RE_, "&quot;"));
          -1 != a.indexOf("'") && (a = a.replace(goog.string.SINGLE_QUOTE_RE_, "&#39;"));
          -1 != a.indexOf("\0") && (a = a.replace(goog.string.NULL_RE_, "&#0;"));
          goog.string.DETECT_DOUBLE_ESCAPING && -1 != a.indexOf("e") && (a = a.replace(goog.string.E_RE_, "&#101;"));
        }
        return a;
      };
      goog.string.AMP_RE_ = /&/g;
      goog.string.LT_RE_ = /</g;
      goog.string.GT_RE_ = />/g;
      goog.string.QUOT_RE_ = /"/g;
      goog.string.SINGLE_QUOTE_RE_ = /'/g;
      goog.string.NULL_RE_ = /\x00/g;
      goog.string.E_RE_ = /e/g;
      goog.string.ALL_RE_ = goog.string.DETECT_DOUBLE_ESCAPING ? /[\x00&<>"'e]/ : /[\x00&<>"']/;
      goog.string.unescapeEntities = function(a) {
        return goog.string.contains(a, "&") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(a) : goog.string.unescapePureXmlEntities_(a) : a;
      };
      goog.string.unescapeEntitiesWithDocument = function(a, b) {
        return goog.string.contains(a, "&") ? goog.string.unescapeEntitiesUsingDom_(a, b) : a;
      };
      goog.string.unescapeEntitiesUsingDom_ = function(a, b) {
        var c = {
          "&amp;": "&",
          "&lt;": "<",
          "&gt;": ">",
          "&quot;": '"'
        }, d;
        d = b ? b.createElement("div") : goog.global.document.createElement("div");
        return a.replace(goog.string.HTML_ENTITY_PATTERN_, function(a, b) {
          var g = c[a];
          if (g) return g;
          if ("#" == b.charAt(0)) {
            var h = Number("0" + b.substr(1));
            isNaN(h) || (g = String.fromCharCode(h));
          }
          g || (d.innerHTML = a + " ", g = d.firstChild.nodeValue.slice(0, -1));
          return c[a] = g;
        });
      };
      goog.string.unescapePureXmlEntities_ = function(a) {
        return a.replace(/&([^;]+);/g, function(a, c) {
          switch (c) {
           case "amp":
            return "&";

           case "lt":
            return "<";

           case "gt":
            return ">";

           case "quot":
            return '"';

           default:
            if ("#" == c.charAt(0)) {
              var d = Number("0" + c.substr(1));
              if (!isNaN(d)) return String.fromCharCode(d);
            }
            return a;
          }
        });
      };
      goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g;
      goog.string.whitespaceEscape = function(a, b) {
        return goog.string.newLineToBr(a.replace(/  /g, " &#160;"), b);
      };
      goog.string.preserveSpaces = function(a) {
        return a.replace(/(^|[\n ]) /g, "$1" + goog.string.Unicode.NBSP);
      };
      goog.string.stripQuotes = function(a, b) {
        for (var c = b.length, d = 0; d < c; d++) {
          var e = 1 == c ? b : b.charAt(d);
          if (a.charAt(0) == e && a.charAt(a.length - 1) == e) return a.substring(1, a.length - 1);
        }
        return a;
      };
      goog.string.truncate = function(a, b, c) {
        c && (a = goog.string.unescapeEntities(a));
        a.length > b && (a = a.substring(0, b - 3) + "...");
        c && (a = goog.string.htmlEscape(a));
        return a;
      };
      goog.string.truncateMiddle = function(a, b, c, d) {
        c && (a = goog.string.unescapeEntities(a));
        if (d && a.length > b) {
          d > b && (d = b);
          var e = a.length - d;
          a = a.substring(0, b - d) + "..." + a.substring(e);
        } else a.length > b && (d = Math.floor(b / 2), e = a.length - d, a = a.substring(0, d + b % 2) + "..." + a.substring(e));
        c && (a = goog.string.htmlEscape(a));
        return a;
      };
      goog.string.specialEscapeChars_ = {
        "\0": "\\0",
        "\b": "\\b",
        "\f": "\\f",
        "\n": "\\n",
        "\r": "\\r",
        "\t": "\\t",
        "\v": "\\x0B",
        '"': '\\"',
        "\\": "\\\\",
        "<": "<"
      };
      goog.string.jsEscapeCache_ = {
        "'": "\\'"
      };
      goog.string.quote = function(a) {
        a = String(a);
        for (var b = [ '"' ], c = 0; c < a.length; c++) {
          var d = a.charAt(c), e = d.charCodeAt(0);
          b[c + 1] = goog.string.specialEscapeChars_[d] || (31 < e && 127 > e ? d : goog.string.escapeChar(d));
        }
        b.push('"');
        return b.join("");
      };
      goog.string.escapeString = function(a) {
        for (var b = [], c = 0; c < a.length; c++) b[c] = goog.string.escapeChar(a.charAt(c));
        return b.join("");
      };
      goog.string.escapeChar = function(a) {
        if (a in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[a];
        if (a in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[a] = goog.string.specialEscapeChars_[a];
        var b, c = a.charCodeAt(0);
        if (31 < c && 127 > c) b = a; else {
          256 > c ? (b = "\\x", 16 > c || 256 < c) && (b += "0") : (b = "\\u", 4096 > c && (b += "0"));
          b += c.toString(16).toUpperCase();
        }
        return goog.string.jsEscapeCache_[a] = b;
      };
      goog.string.contains = function(a, b) {
        return -1 != a.indexOf(b);
      };
      goog.string.caseInsensitiveContains = function(a, b) {
        return goog.string.contains(a.toLowerCase(), b.toLowerCase());
      };
      goog.string.countOf = function(a, b) {
        return a && b ? a.split(b).length - 1 : 0;
      };
      goog.string.removeAt = function(a, b, c) {
        var d = a;
        0 <= b && b < a.length && 0 < c && (d = a.substr(0, b) + a.substr(b + c, a.length - b - c));
        return d;
      };
      goog.string.remove = function(a, b) {
        var c = new RegExp(goog.string.regExpEscape(b), "");
        return a.replace(c, "");
      };
      goog.string.removeAll = function(a, b) {
        var c = new RegExp(goog.string.regExpEscape(b), "g");
        return a.replace(c, "");
      };
      goog.string.regExpEscape = function(a) {
        return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
      };
      goog.string.repeat = String.prototype.repeat ? function(a, b) {
        return a.repeat(b);
      } : function(a, b) {
        return Array(b + 1).join(a);
      };
      goog.string.padNumber = function(a, b, c) {
        a = goog.isDef(c) ? a.toFixed(c) : String(a);
        c = a.indexOf(".");
        -1 == c && (c = a.length);
        return goog.string.repeat("0", Math.max(0, b - c)) + a;
      };
      goog.string.makeSafe = function(a) {
        return null == a ? "" : String(a);
      };
      goog.string.buildString = function(a) {
        return Array.prototype.join.call(arguments, "");
      };
      goog.string.getRandomString = function() {
        return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);
      };
      goog.string.compareVersions = function(a, b) {
        for (var c = 0, d = goog.string.trim(String(a)).split("."), e = goog.string.trim(String(b)).split("."), f = Math.max(d.length, e.length), g = 0; 0 == c && g < f; g++) {
          var h = d[g] || "", k = e[g] || "", l = RegExp("(\\d*)(\\D*)", "g"), p = RegExp("(\\d*)(\\D*)", "g");
          do {
            var m = l.exec(h) || [ "", "", "" ], n = p.exec(k) || [ "", "", "" ];
            if (0 == m[0].length && 0 == n[0].length) break;
            var c = 0 == m[1].length ? 0 : parseInt(m[1], 10), q = 0 == n[1].length ? 0 : parseInt(n[1], 10), c = goog.string.compareElements_(c, q) || goog.string.compareElements_(0 == m[2].length, 0 == n[2].length) || goog.string.compareElements_(m[2], n[2]);
          } while (0 == c);
        }
        return c;
      };
      goog.string.compareElements_ = function(a, b) {
        return a < b ? -1 : a > b ? 1 : 0;
      };
      goog.string.hashCode = function(a) {
        for (var b = 0, c = 0; c < a.length; ++c) b = 31 * b + a.charCodeAt(c) >>> 0;
        return b;
      };
      goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;
      goog.string.createUniqueString = function() {
        return "goog_" + goog.string.uniqueStringCounter_++;
      };
      goog.string.toNumber = function(a) {
        var b = Number(a);
        return 0 == b && goog.string.isEmptyOrWhitespace(a) ? NaN : b;
      };
      goog.string.isLowerCamelCase = function(a) {
        return /^[a-z]+([A-Z][a-z]*)*$/.test(a);
      };
      goog.string.isUpperCamelCase = function(a) {
        return /^([A-Z][a-z]*)+$/.test(a);
      };
      goog.string.toCamelCase = function(a) {
        return String(a).replace(/\-([a-z])/g, function(a, c) {
          return c.toUpperCase();
        });
      };
      goog.string.toSelectorCase = function(a) {
        return String(a).replace(/([A-Z])/g, "-$1").toLowerCase();
      };
      goog.string.toTitleCase = function(a, b) {
        var c = goog.isString(b) ? goog.string.regExpEscape(b) : "\\s";
        return a.replace(new RegExp("(^" + (c ? "|[" + c + "]+" : "") + ")([a-z])", "g"), function(a, b, c) {
          return b + c.toUpperCase();
        });
      };
      goog.string.capitalize = function(a) {
        return String(a.charAt(0)).toUpperCase() + String(a.substr(1)).toLowerCase();
      };
      goog.string.parseInt = function(a) {
        isFinite(a) && (a = String(a));
        return goog.isString(a) ? /^\s*-?0x/i.test(a) ? parseInt(a, 16) : parseInt(a, 10) : NaN;
      };
      goog.string.splitLimit = function(a, b, c) {
        a = a.split(b);
        for (var d = []; 0 < c && a.length; ) d.push(a.shift()), c--;
        a.length && d.push(a.join(b));
        return d;
      };
      goog.string.editDistance = function(a, b) {
        var c = [], d = [];
        if (a == b) return 0;
        if (!a.length || !b.length) return Math.max(a.length, b.length);
        for (var e = 0; e < b.length + 1; e++) c[e] = e;
        for (e = 0; e < a.length; e++) {
          d[0] = e + 1;
          for (var f = 0; f < b.length; f++) d[f + 1] = Math.min(d[f] + 1, c[f + 1] + 1, c[f] + Number(a[e] != b[f]));
          for (f = 0; f < c.length; f++) c[f] = d[f];
        }
        return d[b.length];
      };
      goog.asserts = {};
      goog.asserts.ENABLE_ASSERTS = goog.DEBUG;
      goog.asserts.AssertionError = function(a, b) {
        b.unshift(a);
        goog.debug.Error.call(this, goog.string.subs.apply(null, b));
        b.shift();
        this.messagePattern = a;
      };
      goog.inherits(goog.asserts.AssertionError, goog.debug.Error);
      goog.asserts.AssertionError.prototype.name = "AssertionError";
      goog.asserts.DEFAULT_ERROR_HANDLER = function(a) {
        throw a;
      };
      goog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;
      goog.asserts.doAssertFailure_ = function(a, b, c, d) {
        var e = "Assertion failed";
        if (c) var e = e + ": " + c, f = d; else a && (e += ": " + a, f = b);
        a = new goog.asserts.AssertionError("" + e, f || []);
        goog.asserts.errorHandler_(a);
      };
      goog.asserts.setErrorHandler = function(a) {
        goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = a);
      };
      goog.asserts.assert = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !a && goog.asserts.doAssertFailure_("", null, b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.fail = function(a, b) {
        goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure" + (a ? ": " + a : ""), Array.prototype.slice.call(arguments, 1)));
      };
      goog.asserts.assertNumber = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isNumber(a) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertString = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isString(a) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertFunction = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isFunction(a) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertObject = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isObject(a) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertArray = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isArray(a) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertBoolean = function(a, b, c) {
        goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(a) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertElement = function(a, b, c) {
        !goog.asserts.ENABLE_ASSERTS || goog.isObject(a) && a.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_("Expected Element but got %s: %s.", [ goog.typeOf(a), a ], b, Array.prototype.slice.call(arguments, 2));
        return a;
      };
      goog.asserts.assertInstanceof = function(a, b, c, d) {
        !goog.asserts.ENABLE_ASSERTS || a instanceof b || goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.", [ goog.asserts.getType_(b), goog.asserts.getType_(a) ], c, Array.prototype.slice.call(arguments, 3));
        return a;
      };
      goog.asserts.assertObjectPrototypeIsIntact = function() {
        for (var a in Object.prototype) goog.asserts.fail(a + " should not be enumerable in Object.prototype.");
      };
      goog.asserts.getType_ = function(a) {
        return a instanceof Function ? a.displayName || a.name || "unknown type name" : a instanceof Object ? a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a) : null === a ? "null" : typeof a;
      };
      var jspb = {
        Map: function(a, b) {
          this.arr_ = a;
          this.valueCtor_ = b;
          this.map_ = {};
          this.arrClean = !0;
          0 < this.arr_.length && this.loadFromArray_();
        }
      };
      jspb.Map.prototype.loadFromArray_ = function() {
        for (var a = 0; a < this.arr_.length; a++) {
          var b = this.arr_[a], c = b[0];
          this.map_[c.toString()] = new jspb.Map.Entry_(c, b[1]);
        }
        this.arrClean = !0;
      };
      jspb.Map.prototype.toArray = function() {
        if (this.arrClean) {
          if (this.valueCtor_) {
            var a = this.map_, b;
            for (b in a) if (Object.prototype.hasOwnProperty.call(a, b)) {
              var c = a[b].valueWrapper;
              c && c.toArray();
            }
          }
        } else {
          this.arr_.length = 0;
          a = this.stringKeys_();
          a.sort();
          for (b = 0; b < a.length; b++) {
            var d = this.map_[a[b]];
            (c = d.valueWrapper) && c.toArray();
            this.arr_.push([ d.key, d.value ]);
          }
          this.arrClean = !0;
        }
        return this.arr_;
      };
      jspb.Map.prototype.toObject = function(a, b) {
        for (var c = this.toArray(), d = [], e = 0; e < c.length; e++) {
          var f = this.map_[c[e][0].toString()];
          this.wrapEntry_(f);
          var g = f.valueWrapper;
          g ? (goog.asserts.assert(b), d.push([ f.key, b(a, g) ])) : d.push([ f.key, f.value ]);
        }
        return d;
      };
      jspb.Map.fromObject = function(a, b, c) {
        b = new jspb.Map([], b);
        for (var d = 0; d < a.length; d++) {
          var e = a[d][0], f = c(a[d][1]);
          b.set(e, f);
        }
        return b;
      };
      jspb.Map.ArrayIteratorIterable_ = function(a) {
        this.idx_ = 0;
        this.arr_ = a;
      };
      jspb.Map.ArrayIteratorIterable_.prototype.next = function() {
        return this.idx_ < this.arr_.length ? {
          done: !1,
          value: this.arr_[this.idx_++]
        } : {
          done: !0,
          value: void 0
        };
      };
      $jscomp.initSymbol();
      "undefined" != typeof Symbol && ($jscomp.initSymbol(), $jscomp.initSymbolIterator(), 
      jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator] = function() {
        return this;
      });
      jspb.Map.prototype.getLength = function() {
        return this.stringKeys_().length;
      };
      jspb.Map.prototype.clear = function() {
        this.map_ = {};
        this.arrClean = !1;
      };
      jspb.Map.prototype.del = function(a) {
        a = a.toString();
        var b = this.map_.hasOwnProperty(a);
        delete this.map_[a];
        this.arrClean = !1;
        return b;
      };
      jspb.Map.prototype.getEntryList = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) {
          var d = this.map_[b[c]];
          a.push([ d.key, d.value ]);
        }
        return a;
      };
      jspb.Map.prototype.entries = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) {
          var d = this.map_[b[c]];
          a.push([ d.key, this.wrapEntry_(d) ]);
        }
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.keys = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) a.push(this.map_[b[c]].key);
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.values = function() {
        var a = [], b = this.stringKeys_();
        b.sort();
        for (var c = 0; c < b.length; c++) a.push(this.wrapEntry_(this.map_[b[c]]));
        return new jspb.Map.ArrayIteratorIterable_(a);
      };
      jspb.Map.prototype.forEach = function(a, b) {
        var c = this.stringKeys_();
        c.sort();
        for (var d = 0; d < c.length; d++) {
          var e = this.map_[c[d]];
          a.call(b, this.wrapEntry_(e), e.key, this);
        }
      };
      jspb.Map.prototype.set = function(a, b) {
        var c = new jspb.Map.Entry_(a);
        this.valueCtor_ ? (c.valueWrapper = b, c.value = b.toArray()) : c.value = b;
        this.map_[a.toString()] = c;
        this.arrClean = !1;
        return this;
      };
      jspb.Map.prototype.wrapEntry_ = function(a) {
        return this.valueCtor_ ? (a.valueWrapper || (a.valueWrapper = new this.valueCtor_(a.value)), 
        a.valueWrapper) : a.value;
      };
      jspb.Map.prototype.get = function(a) {
        if (a = this.map_[a.toString()]) return this.wrapEntry_(a);
      };
      jspb.Map.prototype.has = function(a) {
        return a.toString() in this.map_;
      };
      jspb.Map.prototype.serializeBinary = function(a, b, c, d, e) {
        var f = this.stringKeys_();
        f.sort();
        for (var g = 0; g < f.length; g++) {
          var h = this.map_[f[g]];
          b.beginSubMessage(a);
          c.call(b, 1, h.key);
          this.valueCtor_ ? d.call(b, 2, this.wrapEntry_(h), e) : d.call(b, 2, h.value);
          b.endSubMessage();
        }
      };
      jspb.Map.deserializeBinary = function(a, b, c, d, e, f) {
        for (var g = void 0; b.nextField() && !b.isEndGroup(); ) {
          var h = b.getFieldNumber();
          1 == h ? f = c.call(b) : 2 == h && (a.valueCtor_ ? (goog.asserts.assert(e), g = new a.valueCtor_(), 
          d.call(b, g, e)) : g = d.call(b));
        }
        goog.asserts.assert(void 0 != f);
        goog.asserts.assert(void 0 != g);
        a.set(f, g);
      };
      jspb.Map.prototype.stringKeys_ = function() {
        var a = this.map_, b = [], c;
        for (c in a) Object.prototype.hasOwnProperty.call(a, c) && b.push(c);
        return b;
      };
      jspb.Map.Entry_ = function(a, b) {
        this.key = a;
        this.value = b;
        this.valueWrapper = void 0;
      };
      goog.array = {};
      goog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;
      goog.array.ASSUME_NATIVE_FUNCTIONS = !1;
      goog.array.peek = function(a) {
        return a[a.length - 1];
      };
      goog.array.last = goog.array.peek;
      goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.indexOf.call(a, b, c);
      } : function(a, b, c) {
        c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
        if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.indexOf(b, c) : -1;
        for (;c < a.length; c++) if (c in a && a[c] === b) return c;
        return -1;
      };
      goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.lastIndexOf.call(a, b, null == c ? a.length - 1 : c);
      } : function(a, b, c) {
        c = null == c ? a.length - 1 : c;
        0 > c && (c = Math.max(0, a.length + c));
        if (goog.isString(a)) return goog.isString(b) && 1 == b.length ? a.lastIndexOf(b, c) : -1;
        for (;0 <= c; c--) if (c in a && a[c] === b) return c;
        return -1;
      };
      goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        Array.prototype.forEach.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) f in e && b.call(c, e[f], f, a);
      };
      goog.array.forEachRight = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, d = d - 1; 0 <= d; --d) d in e && b.call(c, e[d], d, a);
      };
      goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.filter.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = [], f = 0, g = goog.isString(a) ? a.split("") : a, h = 0; h < d; h++) if (h in g) {
          var k = g[h];
          b.call(c, k, h, a) && (e[f++] = k);
        }
        return e;
      };
      goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.map.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = Array(d), f = goog.isString(a) ? a.split("") : a, g = 0; g < d; g++) g in f && (e[g] = b.call(c, f[g], g, a));
        return e;
      };
      goog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        d && (b = goog.bind(b, d));
        return Array.prototype.reduce.call(a, b, c);
      } : function(a, b, c, d) {
        var e = c;
        goog.array.forEach(a, function(c, g) {
          e = b.call(d, e, c, g, a);
        });
        return e;
      };
      goog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        goog.asserts.assert(null != b);
        d && (b = goog.bind(b, d));
        return Array.prototype.reduceRight.call(a, b, c);
      } : function(a, b, c, d) {
        var e = c;
        goog.array.forEachRight(a, function(c, g) {
          e = b.call(d, e, c, g, a);
        });
        return e;
      };
      goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.some.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return !0;
        return !1;
      };
      goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.every.call(a, b, c);
      } : function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && !b.call(c, e[f], f, a)) return !1;
        return !0;
      };
      goog.array.count = function(a, b, c) {
        var d = 0;
        goog.array.forEach(a, function(a, f, g) {
          b.call(c, a, f, g) && ++d;
        }, c);
        return d;
      };
      goog.array.find = function(a, b, c) {
        b = goog.array.findIndex(a, b, c);
        return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];
      };
      goog.array.findIndex = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return f;
        return -1;
      };
      goog.array.findRight = function(a, b, c) {
        b = goog.array.findIndexRight(a, b, c);
        return 0 > b ? null : goog.isString(a) ? a.charAt(b) : a[b];
      };
      goog.array.findIndexRight = function(a, b, c) {
        for (var d = a.length, e = goog.isString(a) ? a.split("") : a, d = d - 1; 0 <= d; d--) if (d in e && b.call(c, e[d], d, a)) return d;
        return -1;
      };
      goog.array.contains = function(a, b) {
        return 0 <= goog.array.indexOf(a, b);
      };
      goog.array.isEmpty = function(a) {
        return 0 == a.length;
      };
      goog.array.clear = function(a) {
        if (!goog.isArray(a)) for (var b = a.length - 1; 0 <= b; b--) delete a[b];
        a.length = 0;
      };
      goog.array.insert = function(a, b) {
        goog.array.contains(a, b) || a.push(b);
      };
      goog.array.insertAt = function(a, b, c) {
        goog.array.splice(a, c, 0, b);
      };
      goog.array.insertArrayAt = function(a, b, c) {
        goog.partial(goog.array.splice, a, c, 0).apply(null, b);
      };
      goog.array.insertBefore = function(a, b, c) {
        var d;
        2 == arguments.length || 0 > (d = goog.array.indexOf(a, c)) ? a.push(b) : goog.array.insertAt(a, b, d);
      };
      goog.array.remove = function(a, b) {
        var c = goog.array.indexOf(a, b), d;
        (d = 0 <= c) && goog.array.removeAt(a, c);
        return d;
      };
      goog.array.removeAt = function(a, b) {
        goog.asserts.assert(null != a.length);
        return 1 == Array.prototype.splice.call(a, b, 1).length;
      };
      goog.array.removeIf = function(a, b, c) {
        b = goog.array.findIndex(a, b, c);
        return 0 <= b && (goog.array.removeAt(a, b), !0);
      };
      goog.array.removeAllIf = function(a, b, c) {
        var d = 0;
        goog.array.forEachRight(a, function(e, f) {
          b.call(c, e, f, a) && goog.array.removeAt(a, f) && d++;
        });
        return d;
      };
      goog.array.concat = function(a) {
        return Array.prototype.concat.apply(Array.prototype, arguments);
      };
      goog.array.join = function(a) {
        return Array.prototype.concat.apply(Array.prototype, arguments);
      };
      goog.array.toArray = function(a) {
        var b = a.length;
        if (0 < b) {
          for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d];
          return c;
        }
        return [];
      };
      goog.array.clone = goog.array.toArray;
      goog.array.extend = function(a, b) {
        for (var c = 1; c < arguments.length; c++) {
          var d = arguments[c];
          if (goog.isArrayLike(d)) {
            var e = a.length || 0, f = d.length || 0;
            a.length = e + f;
            for (var g = 0; g < f; g++) a[e + g] = d[g];
          } else a.push(d);
        }
      };
      goog.array.splice = function(a, b, c, d) {
        goog.asserts.assert(null != a.length);
        return Array.prototype.splice.apply(a, goog.array.slice(arguments, 1));
      };
      goog.array.slice = function(a, b, c) {
        goog.asserts.assert(null != a.length);
        return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c);
      };
      goog.array.removeDuplicates = function(a, b, c) {
        b = b || a;
        var d = function(a) {
          return goog.isObject(a) ? "o" + goog.getUid(a) : (typeof a).charAt(0) + a;
        };
        c = c || d;
        for (var d = {}, e = 0, f = 0; f < a.length; ) {
          var g = a[f++], h = c(g);
          Object.prototype.hasOwnProperty.call(d, h) || (d[h] = !0, b[e++] = g);
        }
        b.length = e;
      };
      goog.array.binarySearch = function(a, b, c) {
        return goog.array.binarySearch_(a, c || goog.array.defaultCompare, !1, b);
      };
      goog.array.binarySelect = function(a, b, c) {
        return goog.array.binarySearch_(a, b, !0, void 0, c);
      };
      goog.array.binarySearch_ = function(a, b, c, d, e) {
        for (var f = 0, g = a.length, h; f < g; ) {
          var k = f + g >> 1, l;
          l = c ? b.call(e, a[k], k, a) : b(d, a[k]);
          0 < l ? f = k + 1 : (g = k, h = !l);
        }
        return h ? f : ~f;
      };
      goog.array.sort = function(a, b) {
        a.sort(b || goog.array.defaultCompare);
      };
      goog.array.stableSort = function(a, b) {
        for (var c = 0; c < a.length; c++) a[c] = {
          index: c,
          value: a[c]
        };
        var d = b || goog.array.defaultCompare;
        goog.array.sort(a, function(a, b) {
          return d(a.value, b.value) || a.index - b.index;
        });
        for (c = 0; c < a.length; c++) a[c] = a[c].value;
      };
      goog.array.sortByKey = function(a, b, c) {
        var d = c || goog.array.defaultCompare;
        goog.array.sort(a, function(a, c) {
          return d(b(a), b(c));
        });
      };
      goog.array.sortObjectsByKey = function(a, b, c) {
        goog.array.sortByKey(a, function(a) {
          return a[b];
        }, c);
      };
      goog.array.isSorted = function(a, b, c) {
        b = b || goog.array.defaultCompare;
        for (var d = 1; d < a.length; d++) {
          var e = b(a[d - 1], a[d]);
          if (0 < e || 0 == e && c) return !1;
        }
        return !0;
      };
      goog.array.equals = function(a, b, c) {
        if (!goog.isArrayLike(a) || !goog.isArrayLike(b) || a.length != b.length) return !1;
        var d = a.length;
        c = c || goog.array.defaultCompareEquality;
        for (var e = 0; e < d; e++) if (!c(a[e], b[e])) return !1;
        return !0;
      };
      goog.array.compare3 = function(a, b, c) {
        c = c || goog.array.defaultCompare;
        for (var d = Math.min(a.length, b.length), e = 0; e < d; e++) {
          var f = c(a[e], b[e]);
          if (0 != f) return f;
        }
        return goog.array.defaultCompare(a.length, b.length);
      };
      goog.array.defaultCompare = function(a, b) {
        return a > b ? 1 : a < b ? -1 : 0;
      };
      goog.array.inverseDefaultCompare = function(a, b) {
        return -goog.array.defaultCompare(a, b);
      };
      goog.array.defaultCompareEquality = function(a, b) {
        return a === b;
      };
      goog.array.binaryInsert = function(a, b, c) {
        c = goog.array.binarySearch(a, b, c);
        return 0 > c && (goog.array.insertAt(a, b, -(c + 1)), !0);
      };
      goog.array.binaryRemove = function(a, b, c) {
        b = goog.array.binarySearch(a, b, c);
        return 0 <= b && goog.array.removeAt(a, b);
      };
      goog.array.bucket = function(a, b, c) {
        for (var d = {}, e = 0; e < a.length; e++) {
          var f = a[e], g = b.call(c, f, e, a);
          goog.isDef(g) && (d[g] || (d[g] = [])).push(f);
        }
        return d;
      };
      goog.array.toObject = function(a, b, c) {
        var d = {};
        goog.array.forEach(a, function(e, f) {
          d[b.call(c, e, f, a)] = e;
        });
        return d;
      };
      goog.array.range = function(a, b, c) {
        var d = [], e = 0, f = a;
        c = c || 1;
        void 0 !== b && (e = a, f = b);
        if (0 > c * (f - e)) return [];
        if (0 < c) for (a = e; a < f; a += c) d.push(a); else for (a = e; a > f; a += c) d.push(a);
        return d;
      };
      goog.array.repeat = function(a, b) {
        for (var c = [], d = 0; d < b; d++) c[d] = a;
        return c;
      };
      goog.array.flatten = function(a) {
        for (var b = [], c = 0; c < arguments.length; c++) {
          var d = arguments[c];
          if (goog.isArray(d)) for (var e = 0; e < d.length; e += 8192) for (var f = goog.array.slice(d, e, e + 8192), f = goog.array.flatten.apply(null, f), g = 0; g < f.length; g++) b.push(f[g]); else b.push(d);
        }
        return b;
      };
      goog.array.rotate = function(a, b) {
        goog.asserts.assert(null != a.length);
        a.length && (b %= a.length, 0 < b ? Array.prototype.unshift.apply(a, a.splice(-b, b)) : 0 > b && Array.prototype.push.apply(a, a.splice(0, -b)));
        return a;
      };
      goog.array.moveItem = function(a, b, c) {
        goog.asserts.assert(0 <= b && b < a.length);
        goog.asserts.assert(0 <= c && c < a.length);
        b = Array.prototype.splice.call(a, b, 1);
        Array.prototype.splice.call(a, c, 0, b[0]);
      };
      goog.array.zip = function(a) {
        if (!arguments.length) return [];
        for (var b = [], c = arguments[0].length, d = 1; d < arguments.length; d++) arguments[d].length < c && (c = arguments[d].length);
        for (d = 0; d < c; d++) {
          for (var e = [], f = 0; f < arguments.length; f++) e.push(arguments[f][d]);
          b.push(e);
        }
        return b;
      };
      goog.array.shuffle = function(a, b) {
        for (var c = b || Math.random, d = a.length - 1; 0 < d; d--) {
          var e = Math.floor(c() * (d + 1)), f = a[d];
          a[d] = a[e];
          a[e] = f;
        }
      };
      goog.array.copyByIndex = function(a, b) {
        var c = [];
        goog.array.forEach(b, function(b) {
          c.push(a[b]);
        });
        return c;
      };
      goog.crypt = {};
      goog.crypt.stringToByteArray = function(a) {
        for (var b = [], c = 0, d = 0; d < a.length; d++) {
          for (var e = a.charCodeAt(d); 255 < e; ) b[c++] = 255 & e, e >>= 8;
          b[c++] = e;
        }
        return b;
      };
      goog.crypt.byteArrayToString = function(a) {
        if (8192 >= a.length) return String.fromCharCode.apply(null, a);
        for (var b = "", c = 0; c < a.length; c += 8192) var d = goog.array.slice(a, c, c + 8192), b = b + String.fromCharCode.apply(null, d);
        return b;
      };
      goog.crypt.byteArrayToHex = function(a) {
        return goog.array.map(a, function(a) {
          a = a.toString(16);
          return 1 < a.length ? a : "0" + a;
        }).join("");
      };
      goog.crypt.hexToByteArray = function(a) {
        goog.asserts.assert(0 == a.length % 2, "Key string length must be multiple of 2");
        for (var b = [], c = 0; c < a.length; c += 2) b.push(parseInt(a.substring(c, c + 2), 16));
        return b;
      };
      goog.crypt.stringToUtf8ByteArray = function(a) {
        for (var b = [], c = 0, d = 0; d < a.length; d++) {
          var e = a.charCodeAt(d);
          128 > e ? b[c++] = e : (2048 > e ? b[c++] = e >> 6 | 192 : (55296 == (64512 & e) && d + 1 < a.length && 56320 == (64512 & a.charCodeAt(d + 1)) ? (e = 65536 + ((1023 & e) << 10) + (1023 & a.charCodeAt(++d)), 
          b[c++] = e >> 18 | 240, b[c++] = e >> 12 & 63 | 128) : b[c++] = e >> 12 | 224, b[c++] = e >> 6 & 63 | 128), 
          b[c++] = 63 & e | 128);
        }
        return b;
      };
      goog.crypt.utf8ByteArrayToString = function(a) {
        for (var b = [], c = 0, d = 0; c < a.length; ) {
          var e = a[c++];
          if (128 > e) b[d++] = String.fromCharCode(e); else if (191 < e && 224 > e) {
            var f = a[c++];
            b[d++] = String.fromCharCode((31 & e) << 6 | 63 & f);
          } else if (239 < e && 365 > e) {
            var f = a[c++], g = a[c++], h = a[c++], e = ((7 & e) << 18 | (63 & f) << 12 | (63 & g) << 6 | 63 & h) - 65536;
            b[d++] = String.fromCharCode(55296 + (e >> 10));
            b[d++] = String.fromCharCode(56320 + (1023 & e));
          } else f = a[c++], g = a[c++], b[d++] = String.fromCharCode((15 & e) << 12 | (63 & f) << 6 | 63 & g);
        }
        return b.join("");
      };
      goog.crypt.xorByteArray = function(a, b) {
        goog.asserts.assert(a.length == b.length, "XOR array lengths must match");
        for (var c = [], d = 0; d < a.length; d++) c.push(a[d] ^ b[d]);
        return c;
      };
      goog.labs = {};
      goog.labs.userAgent = {};
      goog.labs.userAgent.util = {};
      goog.labs.userAgent.util.getNativeUserAgentString_ = function() {
        var a = goog.labs.userAgent.util.getNavigator_();
        return a && (a = a.userAgent) ? a : "";
      };
      goog.labs.userAgent.util.getNavigator_ = function() {
        return goog.global.navigator;
      };
      goog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();
      goog.labs.userAgent.util.setUserAgent = function(a) {
        goog.labs.userAgent.util.userAgent_ = a || goog.labs.userAgent.util.getNativeUserAgentString_();
      };
      goog.labs.userAgent.util.getUserAgent = function() {
        return goog.labs.userAgent.util.userAgent_;
      };
      goog.labs.userAgent.util.matchUserAgent = function(a) {
        var b = goog.labs.userAgent.util.getUserAgent();
        return goog.string.contains(b, a);
      };
      goog.labs.userAgent.util.matchUserAgentIgnoreCase = function(a) {
        var b = goog.labs.userAgent.util.getUserAgent();
        return goog.string.caseInsensitiveContains(b, a);
      };
      goog.labs.userAgent.util.extractVersionTuples = function(a) {
        for (var b = RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?", "g"), c = [], d; d = b.exec(a); ) c.push([ d[1], d[2], d[3] || void 0 ]);
        return c;
      };
      goog.labs.userAgent.platform = {};
      goog.labs.userAgent.platform.isAndroid = function() {
        return goog.labs.userAgent.util.matchUserAgent("Android");
      };
      goog.labs.userAgent.platform.isIpod = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPod");
      };
      goog.labs.userAgent.platform.isIphone = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPhone") && !goog.labs.userAgent.util.matchUserAgent("iPod") && !goog.labs.userAgent.util.matchUserAgent("iPad");
      };
      goog.labs.userAgent.platform.isIpad = function() {
        return goog.labs.userAgent.util.matchUserAgent("iPad");
      };
      goog.labs.userAgent.platform.isIos = function() {
        return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();
      };
      goog.labs.userAgent.platform.isMacintosh = function() {
        return goog.labs.userAgent.util.matchUserAgent("Macintosh");
      };
      goog.labs.userAgent.platform.isLinux = function() {
        return goog.labs.userAgent.util.matchUserAgent("Linux");
      };
      goog.labs.userAgent.platform.isWindows = function() {
        return goog.labs.userAgent.util.matchUserAgent("Windows");
      };
      goog.labs.userAgent.platform.isChromeOS = function() {
        return goog.labs.userAgent.util.matchUserAgent("CrOS");
      };
      goog.labs.userAgent.platform.getVersion = function() {
        var a = goog.labs.userAgent.util.getUserAgent(), b = "";
        goog.labs.userAgent.platform.isWindows() ? (b = /Windows (?:NT|Phone) ([0-9.]+)/, 
        b = (a = b.exec(a)) ? a[1] : "0.0") : goog.labs.userAgent.platform.isIos() ? (b = /(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/, 
        b = (a = b.exec(a)) && a[1].replace(/_/g, ".")) : goog.labs.userAgent.platform.isMacintosh() ? (b = /Mac OS X ([0-9_.]+)/, 
        b = (a = b.exec(a)) ? a[1].replace(/_/g, ".") : "10") : goog.labs.userAgent.platform.isAndroid() ? (b = /Android\s+([^\);]+)(\)|;)/, 
        b = (a = b.exec(a)) && a[1]) : goog.labs.userAgent.platform.isChromeOS() && (b = /(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/, 
        b = (a = b.exec(a)) && a[1]);
        return b || "";
      };
      goog.labs.userAgent.platform.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), a);
      };
      goog.object = {};
      goog.object.forEach = function(a, b, c) {
        for (var d in a) b.call(c, a[d], d, a);
      };
      goog.object.filter = function(a, b, c) {
        var d = {}, e;
        for (e in a) b.call(c, a[e], e, a) && (d[e] = a[e]);
        return d;
      };
      goog.object.map = function(a, b, c) {
        var d = {}, e;
        for (e in a) d[e] = b.call(c, a[e], e, a);
        return d;
      };
      goog.object.some = function(a, b, c) {
        for (var d in a) if (b.call(c, a[d], d, a)) return !0;
        return !1;
      };
      goog.object.every = function(a, b, c) {
        for (var d in a) if (!b.call(c, a[d], d, a)) return !1;
        return !0;
      };
      goog.object.getCount = function(a) {
        var b = 0, c;
        for (c in a) b++;
        return b;
      };
      goog.object.getAnyKey = function(a) {
        for (var b in a) return b;
      };
      goog.object.getAnyValue = function(a) {
        for (var b in a) return a[b];
      };
      goog.object.contains = function(a, b) {
        return goog.object.containsValue(a, b);
      };
      goog.object.getValues = function(a) {
        var b = [], c = 0, d;
        for (d in a) b[c++] = a[d];
        return b;
      };
      goog.object.getKeys = function(a) {
        var b = [], c = 0, d;
        for (d in a) b[c++] = d;
        return b;
      };
      goog.object.getValueByKeys = function(a, b) {
        for (var c = goog.isArrayLike(b), d = c ? b : arguments, c = c ? 0 : 1; c < d.length && (a = a[d[c]], 
        goog.isDef(a)); c++) ;
        return a;
      };
      goog.object.containsKey = function(a, b) {
        return null !== a && b in a;
      };
      goog.object.containsValue = function(a, b) {
        for (var c in a) if (a[c] == b) return !0;
        return !1;
      };
      goog.object.findKey = function(a, b, c) {
        for (var d in a) if (b.call(c, a[d], d, a)) return d;
      };
      goog.object.findValue = function(a, b, c) {
        return (b = goog.object.findKey(a, b, c)) && a[b];
      };
      goog.object.isEmpty = function(a) {
        for (var b in a) return !1;
        return !0;
      };
      goog.object.clear = function(a) {
        for (var b in a) delete a[b];
      };
      goog.object.remove = function(a, b) {
        var c;
        (c = b in a) && delete a[b];
        return c;
      };
      goog.object.add = function(a, b, c) {
        if (null !== a && b in a) throw Error('The object already contains the key "' + b + '"');
        goog.object.set(a, b, c);
      };
      goog.object.get = function(a, b, c) {
        return null !== a && b in a ? a[b] : c;
      };
      goog.object.set = function(a, b, c) {
        a[b] = c;
      };
      goog.object.setIfUndefined = function(a, b, c) {
        return b in a ? a[b] : a[b] = c;
      };
      goog.object.setWithReturnValueIfNotSet = function(a, b, c) {
        if (b in a) return a[b];
        c = c();
        return a[b] = c;
      };
      goog.object.equals = function(a, b) {
        for (var c in a) if (!(c in b) || a[c] !== b[c]) return !1;
        for (c in b) if (!(c in a)) return !1;
        return !0;
      };
      goog.object.clone = function(a) {
        var b = {}, c;
        for (c in a) b[c] = a[c];
        return b;
      };
      goog.object.unsafeClone = function(a) {
        var b = goog.typeOf(a);
        if ("object" == b || "array" == b) {
          if (goog.isFunction(a.clone)) return a.clone();
          var b = "array" == b ? [] : {}, c;
          for (c in a) b[c] = goog.object.unsafeClone(a[c]);
          return b;
        }
        return a;
      };
      goog.object.transpose = function(a) {
        var b = {}, c;
        for (c in a) b[a[c]] = c;
        return b;
      };
      goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
      goog.object.extend = function(a, b) {
        for (var c, d, e = 1; e < arguments.length; e++) {
          d = arguments[e];
          for (c in d) a[c] = d[c];
          for (var f = 0; f < goog.object.PROTOTYPE_FIELDS_.length; f++) c = goog.object.PROTOTYPE_FIELDS_[f], 
          Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);
        }
      };
      goog.object.create = function(a) {
        var b = arguments.length;
        if (1 == b && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]);
        if (b % 2) throw Error("Uneven number of arguments");
        for (var c = {}, d = 0; d < b; d += 2) c[arguments[d]] = arguments[d + 1];
        return c;
      };
      goog.object.createSet = function(a) {
        var b = arguments.length;
        if (1 == b && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]);
        for (var c = {}, d = 0; d < b; d++) c[arguments[d]] = !0;
        return c;
      };
      goog.object.createImmutableView = function(a) {
        var b = a;
        Object.isFrozen && !Object.isFrozen(a) && (b = Object.create(a), Object.freeze(b));
        return b;
      };
      goog.object.isImmutableView = function(a) {
        return !!Object.isFrozen && Object.isFrozen(a);
      };
      goog.labs.userAgent.browser = {};
      goog.labs.userAgent.browser.matchOpera_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Opera") || goog.labs.userAgent.util.matchUserAgent("OPR");
      };
      goog.labs.userAgent.browser.matchIE_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
      };
      goog.labs.userAgent.browser.matchEdge_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Edge");
      };
      goog.labs.userAgent.browser.matchFirefox_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Firefox");
      };
      goog.labs.userAgent.browser.matchSafari_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Safari") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdge_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent("Android"));
      };
      goog.labs.userAgent.browser.matchCoast_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Coast");
      };
      goog.labs.userAgent.browser.matchIosWebview_ = function() {
        return (goog.labs.userAgent.util.matchUserAgent("iPad") || goog.labs.userAgent.util.matchUserAgent("iPhone")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && goog.labs.userAgent.util.matchUserAgent("AppleWebKit");
      };
      goog.labs.userAgent.browser.matchChrome_ = function() {
        return (goog.labs.userAgent.util.matchUserAgent("Chrome") || goog.labs.userAgent.util.matchUserAgent("CriOS")) && !goog.labs.userAgent.browser.matchOpera_() && !goog.labs.userAgent.browser.matchEdge_();
      };
      goog.labs.userAgent.browser.matchAndroidBrowser_ = function() {
        return goog.labs.userAgent.util.matchUserAgent("Android") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());
      };
      goog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;
      goog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;
      goog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdge_;
      goog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;
      goog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;
      goog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;
      goog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;
      goog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;
      goog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;
      goog.labs.userAgent.browser.isSilk = function() {
        return goog.labs.userAgent.util.matchUserAgent("Silk");
      };
      goog.labs.userAgent.browser.getVersion = function() {
        function a(a) {
          a = goog.array.find(a, d);
          return c[a] || "";
        }
        var b = goog.labs.userAgent.util.getUserAgent();
        if (goog.labs.userAgent.browser.isIE()) return goog.labs.userAgent.browser.getIEVersion_(b);
        var b = goog.labs.userAgent.util.extractVersionTuples(b), c = {};
        goog.array.forEach(b, function(a) {
          c[a[0]] = a[1];
        });
        var d = goog.partial(goog.object.containsKey, c);
        return goog.labs.userAgent.browser.isOpera() ? a([ "Version", "Opera", "OPR" ]) : goog.labs.userAgent.browser.isEdge() ? a([ "Edge" ]) : goog.labs.userAgent.browser.isChrome() ? a([ "Chrome", "CriOS" ]) : (b = b[2]) && b[1] || "";
      };
      goog.labs.userAgent.browser.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(), a);
      };
      goog.labs.userAgent.browser.getIEVersion_ = function(a) {
        var b = /rv: *([\d\.]*)/.exec(a);
        if (b && b[1]) return b[1];
        var b = "", c = /MSIE +([\d\.]+)/.exec(a);
        if (c && c[1]) if (a = /Trident\/(\d.\d)/.exec(a), "7.0" == c[1]) if (a && a[1]) switch (a[1]) {
         case "4.0":
          b = "8.0";
          break;

         case "5.0":
          b = "9.0";
          break;

         case "6.0":
          b = "10.0";
          break;

         case "7.0":
          b = "11.0";
        } else b = "7.0"; else b = c[1];
        return b;
      };
      goog.labs.userAgent.engine = {};
      goog.labs.userAgent.engine.isPresto = function() {
        return goog.labs.userAgent.util.matchUserAgent("Presto");
      };
      goog.labs.userAgent.engine.isTrident = function() {
        return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
      };
      goog.labs.userAgent.engine.isEdge = function() {
        return goog.labs.userAgent.util.matchUserAgent("Edge");
      };
      goog.labs.userAgent.engine.isWebKit = function() {
        return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit") && !goog.labs.userAgent.engine.isEdge();
      };
      goog.labs.userAgent.engine.isGecko = function() {
        return goog.labs.userAgent.util.matchUserAgent("Gecko") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();
      };
      goog.labs.userAgent.engine.getVersion = function() {
        var a = goog.labs.userAgent.util.getUserAgent();
        if (a) {
          var a = goog.labs.userAgent.util.extractVersionTuples(a), b = goog.labs.userAgent.engine.getEngineTuple_(a);
          if (b) return "Gecko" == b[0] ? goog.labs.userAgent.engine.getVersionForKey_(a, "Firefox") : b[1];
          var a = a[0], c;
          if (a && (c = a[2]) && (c = /Trident\/([^\s;]+)/.exec(c))) return c[1];
        }
        return "";
      };
      goog.labs.userAgent.engine.getEngineTuple_ = function(a) {
        if (!goog.labs.userAgent.engine.isEdge()) return a[1];
        for (var b = 0; b < a.length; b++) {
          var c = a[b];
          if ("Edge" == c[0]) return c;
        }
      };
      goog.labs.userAgent.engine.isVersionOrHigher = function(a) {
        return 0 <= goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), a);
      };
      goog.labs.userAgent.engine.getVersionForKey_ = function(a, b) {
        var c = goog.array.find(a, function(a) {
          return b == a[0];
        });
        return c && c[1] || "";
      };
      goog.userAgent = {};
      goog.userAgent.ASSUME_IE = !1;
      goog.userAgent.ASSUME_EDGE = !1;
      goog.userAgent.ASSUME_GECKO = !1;
      goog.userAgent.ASSUME_WEBKIT = !1;
      goog.userAgent.ASSUME_MOBILE_WEBKIT = !1;
      goog.userAgent.ASSUME_OPERA = !1;
      goog.userAgent.ASSUME_ANY_VERSION = !1;
      goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;
      goog.userAgent.getUserAgentString = function() {
        return goog.labs.userAgent.util.getUserAgent();
      };
      goog.userAgent.getNavigator = function() {
        return goog.global.navigator || null;
      };
      goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();
      goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();
      goog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();
      goog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;
      goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();
      goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();
      goog.userAgent.isMobile_ = function() {
        return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent("Mobile");
      };
      goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();
      goog.userAgent.SAFARI = goog.userAgent.WEBKIT;
      goog.userAgent.determinePlatform_ = function() {
        var a = goog.userAgent.getNavigator();
        return a && a.platform || "";
      };
      goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();
      goog.userAgent.ASSUME_MAC = !1;
      goog.userAgent.ASSUME_WINDOWS = !1;
      goog.userAgent.ASSUME_LINUX = !1;
      goog.userAgent.ASSUME_X11 = !1;
      goog.userAgent.ASSUME_ANDROID = !1;
      goog.userAgent.ASSUME_IPHONE = !1;
      goog.userAgent.ASSUME_IPAD = !1;
      goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD;
      goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();
      goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();
      goog.userAgent.isLegacyLinux_ = function() {
        return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();
      };
      goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();
      goog.userAgent.isX11_ = function() {
        var a = goog.userAgent.getNavigator();
        return !!a && goog.string.contains(a.appVersion || "", "X11");
      };
      goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();
      goog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();
      goog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();
      goog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
      goog.userAgent.operaVersion_ = function() {
        var a = goog.global.opera.version;
        try {
          return a();
        } catch (b) {
          return a;
        }
      };
      goog.userAgent.determineVersion_ = function() {
        if (goog.userAgent.OPERA && goog.global.opera) return goog.userAgent.operaVersion_();
        var a = "", b = goog.userAgent.getVersionRegexResult_();
        b && (a = b ? b[1] : "");
        return goog.userAgent.IE && (b = goog.userAgent.getDocumentMode_(), b > parseFloat(a)) ? String(b) : a;
      };
      goog.userAgent.getVersionRegexResult_ = function() {
        var a = goog.userAgent.getUserAgentString();
        if (goog.userAgent.GECKO) return /rv\:([^\);]+)(\)|;)/.exec(a);
        if (goog.userAgent.EDGE) return /Edge\/([\d\.]+)/.exec(a);
        if (goog.userAgent.IE) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
        if (goog.userAgent.WEBKIT) return /WebKit\/(\S+)/.exec(a);
      };
      goog.userAgent.getDocumentMode_ = function() {
        var a = goog.global.document;
        return a ? a.documentMode : void 0;
      };
      goog.userAgent.VERSION = goog.userAgent.determineVersion_();
      goog.userAgent.compare = function(a, b) {
        return goog.string.compareVersions(a, b);
      };
      goog.userAgent.isVersionOrHigherCache_ = {};
      goog.userAgent.isVersionOrHigher = function(a) {
        return goog.userAgent.ASSUME_ANY_VERSION || goog.userAgent.isVersionOrHigherCache_[a] || (goog.userAgent.isVersionOrHigherCache_[a] = 0 <= goog.string.compareVersions(goog.userAgent.VERSION, a));
      };
      goog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;
      goog.userAgent.isDocumentModeOrHigher = function(a) {
        return Number(goog.userAgent.DOCUMENT_MODE) >= a;
      };
      goog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;
      goog.userAgent.DOCUMENT_MODE = function() {
        var a = goog.global.document, b = goog.userAgent.getDocumentMode_();
        return a && goog.userAgent.IE ? b || ("CSS1Compat" == a.compatMode ? parseInt(goog.userAgent.VERSION, 10) : 5) : void 0;
      }();
      goog.userAgent.product = {};
      goog.userAgent.product.ASSUME_FIREFOX = !1;
      goog.userAgent.product.ASSUME_IPHONE = !1;
      goog.userAgent.product.ASSUME_IPAD = !1;
      goog.userAgent.product.ASSUME_ANDROID = !1;
      goog.userAgent.product.ASSUME_CHROME = !1;
      goog.userAgent.product.ASSUME_SAFARI = !1;
      goog.userAgent.product.PRODUCT_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_OPERA || goog.userAgent.product.ASSUME_FIREFOX || goog.userAgent.product.ASSUME_IPHONE || goog.userAgent.product.ASSUME_IPAD || goog.userAgent.product.ASSUME_ANDROID || goog.userAgent.product.ASSUME_CHROME || goog.userAgent.product.ASSUME_SAFARI;
      goog.userAgent.product.OPERA = goog.userAgent.OPERA;
      goog.userAgent.product.IE = goog.userAgent.IE;
      goog.userAgent.product.EDGE = goog.userAgent.EDGE;
      goog.userAgent.product.FIREFOX = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_FIREFOX : goog.labs.userAgent.browser.isFirefox();
      goog.userAgent.product.isIphoneOrIpod_ = function() {
        return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpod();
      };
      goog.userAgent.product.IPHONE = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPHONE : goog.userAgent.product.isIphoneOrIpod_();
      goog.userAgent.product.IPAD = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
      goog.userAgent.product.ANDROID = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_ANDROID : goog.labs.userAgent.browser.isAndroidBrowser();
      goog.userAgent.product.CHROME = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_CHROME : goog.labs.userAgent.browser.isChrome();
      goog.userAgent.product.isSafariDesktop_ = function() {
        return goog.labs.userAgent.browser.isSafari() && !goog.labs.userAgent.platform.isIos();
      };
      goog.userAgent.product.SAFARI = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_SAFARI : goog.userAgent.product.isSafariDesktop_();
      goog.crypt.base64 = {};
      goog.crypt.base64.byteToCharMap_ = null;
      goog.crypt.base64.charToByteMap_ = null;
      goog.crypt.base64.byteToCharMapWebSafe_ = null;
      goog.crypt.base64.ENCODED_VALS_BASE = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      goog.crypt.base64.ENCODED_VALS = goog.crypt.base64.ENCODED_VALS_BASE + "+/=";
      goog.crypt.base64.ENCODED_VALS_WEBSAFE = goog.crypt.base64.ENCODED_VALS_BASE + "-_.";
      goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ = goog.userAgent.GECKO || goog.userAgent.WEBKIT && !goog.userAgent.product.SAFARI || goog.userAgent.OPERA;
      goog.crypt.base64.HAS_NATIVE_ENCODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || "function" == typeof goog.global.btoa;
      goog.crypt.base64.HAS_NATIVE_DECODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || !goog.userAgent.product.SAFARI && !goog.userAgent.IE && "function" == typeof goog.global.atob;
      goog.crypt.base64.encodeByteArray = function(a, b) {
        goog.asserts.assert(goog.isArrayLike(a), "encodeByteArray takes an array as a parameter");
        goog.crypt.base64.init_();
        for (var c = b ? goog.crypt.base64.byteToCharMapWebSafe_ : goog.crypt.base64.byteToCharMap_, d = [], e = 0; e < a.length; e += 3) {
          var f = a[e], g = e + 1 < a.length, h = g ? a[e + 1] : 0, k = e + 2 < a.length, l = k ? a[e + 2] : 0, p = f >> 2, f = (3 & f) << 4 | h >> 4, h = (15 & h) << 2 | l >> 6, l = 63 & l;
          k || (l = 64, g || (h = 64));
          d.push(c[p], c[f], c[h], c[l]);
        }
        return d.join("");
      };
      goog.crypt.base64.encodeString = function(a, b) {
        return goog.crypt.base64.HAS_NATIVE_ENCODE_ && !b ? goog.global.btoa(a) : goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a), b);
      };
      goog.crypt.base64.decodeString = function(a, b) {
        if (goog.crypt.base64.HAS_NATIVE_DECODE_ && !b) return goog.global.atob(a);
        var c = "";
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          c += String.fromCharCode(a);
        });
        return c;
      };
      goog.crypt.base64.decodeStringToByteArray = function(a, b) {
        var c = [];
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          c.push(a);
        });
        return c;
      };
      goog.crypt.base64.decodeStringToUint8Array = function(a) {
        goog.asserts.assert(!goog.userAgent.IE || goog.userAgent.isVersionOrHigher("10"), "Browser does not support typed arrays");
        var b = new Uint8Array(Math.ceil(3 * a.length / 4)), c = 0;
        goog.crypt.base64.decodeStringInternal_(a, function(a) {
          b[c++] = a;
        });
        return b.subarray(0, c);
      };
      goog.crypt.base64.decodeStringInternal_ = function(a, b) {
        function c(b) {
          for (;d < a.length; ) {
            var c = a.charAt(d++), e = goog.crypt.base64.charToByteMap_[c];
            if (null != e) return e;
            if (!goog.string.isEmptyOrWhitespace(c)) throw Error("Unknown base64 encoding at char: " + c);
          }
          return b;
        }
        goog.crypt.base64.init_();
        for (var d = 0; ;) {
          var e = c(-1), f = c(0), g = c(64), h = c(64);
          if (64 === h && -1 === e) break;
          b(e << 2 | f >> 4);
          64 != g && (b(f << 4 & 240 | g >> 2), 64 != h && b(g << 6 & 192 | h));
        }
      };
      goog.crypt.base64.init_ = function() {
        if (!goog.crypt.base64.byteToCharMap_) {
          goog.crypt.base64.byteToCharMap_ = {};
          goog.crypt.base64.charToByteMap_ = {};
          goog.crypt.base64.byteToCharMapWebSafe_ = {};
          for (var a = 0; a < goog.crypt.base64.ENCODED_VALS.length; a++) goog.crypt.base64.byteToCharMap_[a] = goog.crypt.base64.ENCODED_VALS.charAt(a), 
          goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[a]] = a, goog.crypt.base64.byteToCharMapWebSafe_[a] = goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a), 
          a >= goog.crypt.base64.ENCODED_VALS_BASE.length && (goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a)] = a);
        }
      };
      jspb.ExtensionFieldInfo = function(a, b, c, d, e) {
        this.fieldIndex = a;
        this.fieldName = b;
        this.ctor = c;
        this.toObjectFn = d;
        this.isRepeated = e;
      };
      jspb.ExtensionFieldBinaryInfo = function(a, b, c, d, e, f) {
        this.fieldInfo = a;
        this.binaryReaderFn = b;
        this.binaryWriterFn = c;
        this.binaryMessageSerializeFn = d;
        this.binaryMessageDeserializeFn = e;
        this.isPacked = f;
      };
      jspb.ExtensionFieldInfo.prototype.isMessageType = function() {
        return !!this.ctor;
      };
      jspb.Message = function() {};
      jspb.Message.GENERATE_TO_OBJECT = !0;
      jspb.Message.GENERATE_FROM_OBJECT = !goog.DISALLOW_TEST_ONLY_CODE;
      jspb.Message.GENERATE_TO_STRING = !0;
      jspb.Message.ASSUME_LOCAL_ARRAYS = !1;
      jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS = !0;
      jspb.Message.SUPPORTS_UINT8ARRAY_ = "function" == typeof Uint8Array;
      jspb.Message.prototype.getJsPbMessageId = function() {
        return this.messageId_;
      };
      jspb.Message.getIndex_ = function(a, b) {
        return b + a.arrayIndexOffset_;
      };
      jspb.Message.getFieldNumber_ = function(a, b) {
        return b - a.arrayIndexOffset_;
      };
      jspb.Message.initialize = function(a, b, c, d, e, f) {
        a.wrappers_ = null;
        b || (b = c ? [ c ] : []);
        a.messageId_ = c ? String(c) : void 0;
        a.arrayIndexOffset_ = 0 === c ? -1 : 0;
        a.array = b;
        jspb.Message.initPivotAndExtensionObject_(a, d);
        a.convertedFloatingPointFields_ = {};
        jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS || (a.repeatedFields = e);
        if (e) for (b = 0; b < e.length; b++) c = e[b], c < a.pivot_ ? (c = jspb.Message.getIndex_(a, c), 
        a.array[c] = a.array[c] || jspb.Message.EMPTY_LIST_SENTINEL_) : (jspb.Message.maybeInitEmptyExtensionObject_(a), 
        a.extensionObject_[c] = a.extensionObject_[c] || jspb.Message.EMPTY_LIST_SENTINEL_);
        if (f && f.length) for (b = 0; b < f.length; b++) jspb.Message.computeOneofCase(a, f[b]);
      };
      jspb.Message.EMPTY_LIST_SENTINEL_ = goog.DEBUG && Object.freeze ? Object.freeze([]) : [];
      jspb.Message.isArray_ = function(a) {
        return jspb.Message.ASSUME_LOCAL_ARRAYS ? a instanceof Array : goog.isArray(a);
      };
      jspb.Message.initPivotAndExtensionObject_ = function(a, b) {
        if (a.array.length) {
          var c = a.array.length - 1, d = a.array[c];
          if (d && "object" == typeof d && !jspb.Message.isArray_(d) && !(jspb.Message.SUPPORTS_UINT8ARRAY_ && d instanceof Uint8Array)) {
            a.pivot_ = jspb.Message.getFieldNumber_(a, c);
            a.extensionObject_ = d;
            return;
          }
        }
        -1 < b ? (a.pivot_ = b, a.extensionObject_ = null) : a.pivot_ = Number.MAX_VALUE;
      };
      jspb.Message.maybeInitEmptyExtensionObject_ = function(a) {
        var b = jspb.Message.getIndex_(a, a.pivot_);
        a.array[b] || (a.extensionObject_ = a.array[b] = {});
      };
      jspb.Message.toObjectList = function(a, b, c) {
        for (var d = [], e = 0; e < a.length; e++) d[e] = b.call(a[e], c, a[e]);
        return d;
      };
      jspb.Message.toObjectExtension = function(a, b, c, d, e) {
        for (var f in c) {
          var g = c[f], h = d.call(a, g);
          if (null != h) {
            for (var k in g.fieldName) if (g.fieldName.hasOwnProperty(k)) break;
            b[k] = g.toObjectFn ? g.isRepeated ? jspb.Message.toObjectList(h, g.toObjectFn, e) : g.toObjectFn(e, h) : h;
          }
        }
      };
      jspb.Message.serializeBinaryExtensions = function(a, b, c, d) {
        for (var e in c) {
          var f = c[e], g = f.fieldInfo;
          if (!f.binaryWriterFn) throw Error("Message extension present that was generated without binary serialization support");
          var h = d.call(a, g);
          if (null != h) if (g.isMessageType()) {
            if (!f.binaryMessageSerializeFn) throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
            f.binaryWriterFn.call(b, g.fieldIndex, h, f.binaryMessageSerializeFn);
          } else f.binaryWriterFn.call(b, g.fieldIndex, h);
        }
      };
      jspb.Message.readBinaryExtension = function(a, b, c, d, e) {
        var f = c[b.getFieldNumber()];
        if (f) {
          c = f.fieldInfo;
          if (!f.binaryReaderFn) throw Error("Deserializing extension whose generated code does not support binary format");
          var g;
          c.isMessageType() ? (g = new c.ctor(), f.binaryReaderFn.call(b, g, f.binaryMessageDeserializeFn)) : g = f.binaryReaderFn.call(b);
          c.isRepeated && !f.isPacked ? (b = d.call(a, c)) ? b.push(g) : e.call(a, c, [ g ]) : e.call(a, c, g);
        } else b.skipField();
      };
      jspb.Message.getField = function(a, b) {
        if (b < a.pivot_) {
          var c = jspb.Message.getIndex_(a, b), d = a.array[c];
          return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.array[c] = [] : d;
        }
        if (a.extensionObject_) return d = a.extensionObject_[b], d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.extensionObject_[b] = [] : d;
      };
      jspb.Message.getRepeatedField = function(a, b) {
        if (b < a.pivot_) {
          var c = jspb.Message.getIndex_(a, b), d = a.array[c];
          return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.array[c] = [] : d;
        }
        d = a.extensionObject_[b];
        return d === jspb.Message.EMPTY_LIST_SENTINEL_ ? a.extensionObject_[b] = [] : d;
      };
      jspb.Message.getOptionalFloatingPointField = function(a, b) {
        var c = jspb.Message.getField(a, b);
        return null == c ? c : +c;
      };
      jspb.Message.getRepeatedFloatingPointField = function(a, b) {
        var c = jspb.Message.getRepeatedField(a, b);
        a.convertedFloatingPointFields_ || (a.convertedFloatingPointFields_ = {});
        if (!a.convertedFloatingPointFields_[b]) {
          for (var d = 0; d < c.length; d++) c[d] = +c[d];
          a.convertedFloatingPointFields_[b] = !0;
        }
        return c;
      };
      jspb.Message.bytesAsB64 = function(a) {
        if (null == a || goog.isString(a)) return a;
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a instanceof Uint8Array) return goog.crypt.base64.encodeByteArray(a);
        goog.asserts.fail("Cannot coerce to b64 string: " + goog.typeOf(a));
        return null;
      };
      jspb.Message.bytesAsU8 = function(a) {
        if (null == a || a instanceof Uint8Array) return a;
        if (goog.isString(a)) return goog.crypt.base64.decodeStringToUint8Array(a);
        goog.asserts.fail("Cannot coerce to Uint8Array: " + goog.typeOf(a));
        return null;
      };
      jspb.Message.bytesListAsB64 = function(a) {
        jspb.Message.assertConsistentTypes_(a);
        return !a.length || goog.isString(a[0]) ? a : goog.array.map(a, jspb.Message.bytesAsB64);
      };
      jspb.Message.bytesListAsU8 = function(a) {
        jspb.Message.assertConsistentTypes_(a);
        return !a.length || a[0] instanceof Uint8Array ? a : goog.array.map(a, jspb.Message.bytesAsU8);
      };
      jspb.Message.assertConsistentTypes_ = function(a) {
        if (goog.DEBUG && a && 1 < a.length) {
          var b = goog.typeOf(a[0]);
          goog.array.forEach(a, function(a) {
            goog.typeOf(a) != b && goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got " + goog.typeOf(a) + " expected " + b);
          });
        }
      };
      jspb.Message.getFieldWithDefault = function(a, b, c) {
        a = jspb.Message.getField(a, b);
        return null == a ? c : a;
      };
      jspb.Message.getFieldProto3 = jspb.Message.getFieldWithDefault;
      jspb.Message.getMapField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        if (b in a.wrappers_) return a.wrappers_[b];
        if (!c) return c = jspb.Message.getField(a, b), c || (c = [], jspb.Message.setField(a, b, c)), 
        a.wrappers_[b] = new jspb.Map(c, d);
      };
      jspb.Message.setField = function(a, b, c) {
        b < a.pivot_ ? a.array[jspb.Message.getIndex_(a, b)] = c : (jspb.Message.maybeInitEmptyExtensionObject_(a), 
        a.extensionObject_[b] = c);
      };
      jspb.Message.setProto3IntField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setProto3StringIntField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "0");
      };
      jspb.Message.setProto3FloatField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setProto3BooleanField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, !1);
      };
      jspb.Message.setProto3StringField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "");
      };
      jspb.Message.setProto3BytesField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, "");
      };
      jspb.Message.setProto3EnumField = function(a, b, c) {
        jspb.Message.setFieldIgnoringDefault_(a, b, c, 0);
      };
      jspb.Message.setFieldIgnoringDefault_ = function(a, b, c, d) {
        c != d ? jspb.Message.setField(a, b, c) : a.array[jspb.Message.getIndex_(a, b)] = null;
      };
      jspb.Message.addToRepeatedField = function(a, b, c, d) {
        a = jspb.Message.getRepeatedField(a, b);
        void 0 != d ? a.splice(d, 0, c) : a.push(c);
      };
      jspb.Message.setOneofField = function(a, b, c, d) {
        (c = jspb.Message.computeOneofCase(a, c)) && c !== b && void 0 !== d && (a.wrappers_ && c in a.wrappers_ && (a.wrappers_[c] = void 0), 
        jspb.Message.setField(a, c, void 0));
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.computeOneofCase = function(a, b) {
        for (var c, d, e = 0; e < b.length; e++) {
          var f = b[e], g = jspb.Message.getField(a, f);
          null != g && (c = f, d = g, jspb.Message.setField(a, f, void 0));
        }
        return c ? (jspb.Message.setField(a, c, d), c) : 0;
      };
      jspb.Message.getWrapperField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        if (!a.wrappers_[c]) {
          var e = jspb.Message.getField(a, c);
          (d || e) && (a.wrappers_[c] = new b(e));
        }
        return a.wrappers_[c];
      };
      jspb.Message.getRepeatedWrapperField = function(a, b, c) {
        jspb.Message.wrapRepeatedField_(a, b, c);
        b = a.wrappers_[c];
        b == jspb.Message.EMPTY_LIST_SENTINEL_ && (b = a.wrappers_[c] = []);
        return b;
      };
      jspb.Message.wrapRepeatedField_ = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        if (!a.wrappers_[c]) {
          for (var d = jspb.Message.getRepeatedField(a, c), e = [], f = 0; f < d.length; f++) e[f] = new b(d[f]);
          a.wrappers_[c] = e;
        }
      };
      jspb.Message.setWrapperField = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        var d = c ? c.toArray() : c;
        a.wrappers_[b] = c;
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.setOneofWrapperField = function(a, b, c, d) {
        a.wrappers_ || (a.wrappers_ = {});
        var e = d ? d.toArray() : d;
        a.wrappers_[b] = d;
        jspb.Message.setOneofField(a, b, c, e);
      };
      jspb.Message.setRepeatedWrapperField = function(a, b, c) {
        a.wrappers_ || (a.wrappers_ = {});
        c = c || [];
        for (var d = [], e = 0; e < c.length; e++) d[e] = c[e].toArray();
        a.wrappers_[b] = c;
        jspb.Message.setField(a, b, d);
      };
      jspb.Message.addToRepeatedWrapperField = function(a, b, c, d, e) {
        jspb.Message.wrapRepeatedField_(a, d, b);
        var f = a.wrappers_[b];
        f || (f = a.wrappers_[b] = []);
        c = c || new d();
        a = jspb.Message.getRepeatedField(a, b);
        void 0 != e ? (f.splice(e, 0, c), a.splice(e, 0, c.toArray())) : (f.push(c), a.push(c.toArray()));
        return c;
      };
      jspb.Message.toMap = function(a, b, c, d) {
        for (var e = {}, f = 0; f < a.length; f++) e[b.call(a[f])] = c ? c.call(a[f], d, a[f]) : a[f];
        return e;
      };
      jspb.Message.prototype.syncMapFields_ = function() {
        if (this.wrappers_) for (var a in this.wrappers_) {
          var b = this.wrappers_[a];
          if (goog.isArray(b)) for (var c = 0; c < b.length; c++) b[c] && b[c].toArray(); else b && b.toArray();
        }
      };
      jspb.Message.prototype.toArray = function() {
        this.syncMapFields_();
        return this.array;
      };
      jspb.Message.GENERATE_TO_STRING && (jspb.Message.prototype.toString = function() {
        this.syncMapFields_();
        return this.array.toString();
      });
      jspb.Message.prototype.getExtension = function(a) {
        if (this.extensionObject_) {
          this.wrappers_ || (this.wrappers_ = {});
          var b = a.fieldIndex;
          if (a.isRepeated) {
            if (a.isMessageType()) return this.wrappers_[b] || (this.wrappers_[b] = goog.array.map(this.extensionObject_[b] || [], function(b) {
              return new a.ctor(b);
            })), this.wrappers_[b];
          } else if (a.isMessageType()) return !this.wrappers_[b] && this.extensionObject_[b] && (this.wrappers_[b] = new a.ctor(this.extensionObject_[b])), 
          this.wrappers_[b];
          return this.extensionObject_[b];
        }
      };
      jspb.Message.prototype.setExtension = function(a, b) {
        this.wrappers_ || (this.wrappers_ = {});
        jspb.Message.maybeInitEmptyExtensionObject_(this);
        var c = a.fieldIndex;
        a.isRepeated ? (b = b || [], a.isMessageType() ? (this.wrappers_[c] = b, this.extensionObject_[c] = goog.array.map(b, function(a) {
          return a.toArray();
        })) : this.extensionObject_[c] = b) : a.isMessageType() ? (this.wrappers_[c] = b, 
        this.extensionObject_[c] = b ? b.toArray() : b) : this.extensionObject_[c] = b;
        return this;
      };
      jspb.Message.difference = function(a, b) {
        if (!(a instanceof b.constructor)) throw Error("Messages have different types.");
        var c = a.toArray(), d = b.toArray(), e = [], f = 0, g = c.length > d.length ? c.length : d.length;
        a.getJsPbMessageId() && (e[0] = a.getJsPbMessageId(), f = 1);
        for (;f < g; f++) jspb.Message.compareFields(c[f], d[f]) || (e[f] = d[f]);
        return new a.constructor(e);
      };
      jspb.Message.equals = function(a, b) {
        return a == b || !(!a || !b) && a instanceof b.constructor && jspb.Message.compareFields(a.toArray(), b.toArray());
      };
      jspb.Message.compareExtensions = function(a, b) {
        a = a || {};
        b = b || {};
        var c = {}, d;
        for (d in a) c[d] = 0;
        for (d in b) c[d] = 0;
        for (d in c) if (!jspb.Message.compareFields(a[d], b[d])) return !1;
        return !0;
      };
      jspb.Message.compareFields = function(a, b) {
        if (a == b) return !0;
        if (!goog.isObject(a) || !goog.isObject(b)) return !!(goog.isNumber(a) && isNaN(a) || goog.isNumber(b) && isNaN(b)) && String(a) == String(b);
        if (a.constructor != b.constructor) return !1;
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a.constructor === Uint8Array) {
          if (a.length != b.length) return !1;
          for (var c = 0; c < a.length; c++) if (a[c] != b[c]) return !1;
          return !0;
        }
        if (a.constructor === Array) {
          for (var d = void 0, e = void 0, f = Math.max(a.length, b.length), c = 0; c < f; c++) {
            var g = a[c], h = b[c];
            g && g.constructor == Object && (goog.asserts.assert(void 0 === d), goog.asserts.assert(c === a.length - 1), 
            d = g, g = void 0);
            h && h.constructor == Object && (goog.asserts.assert(void 0 === e), goog.asserts.assert(c === b.length - 1), 
            e = h, h = void 0);
            if (!jspb.Message.compareFields(g, h)) return !1;
          }
          return !d && !e || (d = d || {}, e = e || {}, jspb.Message.compareExtensions(d, e));
        }
        if (a.constructor === Object) return jspb.Message.compareExtensions(a, b);
        throw Error("Invalid type in JSPB array");
      };
      jspb.Message.prototype.cloneMessage = function() {
        return jspb.Message.cloneMessage(this);
      };
      jspb.Message.prototype.clone = function() {
        return jspb.Message.cloneMessage(this);
      };
      jspb.Message.clone = function(a) {
        return jspb.Message.cloneMessage(a);
      };
      jspb.Message.cloneMessage = function(a) {
        return new a.constructor(jspb.Message.clone_(a.toArray()));
      };
      jspb.Message.copyInto = function(a, b) {
        goog.asserts.assertInstanceof(a, jspb.Message);
        goog.asserts.assertInstanceof(b, jspb.Message);
        goog.asserts.assert(a.constructor == b.constructor, "Copy source and target message should have the same type.");
        for (var c = jspb.Message.clone(a), d = b.toArray(), e = c.toArray(), f = d.length = 0; f < e.length; f++) d[f] = e[f];
        b.wrappers_ = c.wrappers_;
        b.extensionObject_ = c.extensionObject_;
      };
      jspb.Message.clone_ = function(a) {
        var b;
        if (goog.isArray(a)) {
          for (var c = Array(a.length), d = 0; d < a.length; d++) b = a[d], null != b && (c[d] = "object" == typeof b ? jspb.Message.clone_(goog.asserts.assert(b)) : b);
          return c;
        }
        if (jspb.Message.SUPPORTS_UINT8ARRAY_ && a instanceof Uint8Array) return new Uint8Array(a);
        c = {};
        for (d in a) b = a[d], null != b && (c[d] = "object" == typeof b ? jspb.Message.clone_(goog.asserts.assert(b)) : b);
        return c;
      };
      jspb.Message.registerMessageType = function(a, b) {
        jspb.Message.registry_[a] = b;
        b.messageId = a;
      };
      jspb.Message.registry_ = {};
      jspb.Message.messageSetExtensions = {};
      jspb.Message.messageSetExtensionsBinary = {};
      jspb.arith = {};
      jspb.arith.UInt64 = function(a, b) {
        this.lo = a;
        this.hi = b;
      };
      jspb.arith.UInt64.prototype.cmp = function(a) {
        return this.hi < a.hi || this.hi == a.hi && this.lo < a.lo ? -1 : this.hi == a.hi && this.lo == a.lo ? 0 : 1;
      };
      jspb.arith.UInt64.prototype.rightShift = function() {
        return new jspb.arith.UInt64((this.lo >>> 1 | (1 & this.hi) << 31) >>> 0, this.hi >>> 1 >>> 0);
      };
      jspb.arith.UInt64.prototype.leftShift = function() {
        return new jspb.arith.UInt64(this.lo << 1 >>> 0, (this.hi << 1 | this.lo >>> 31) >>> 0);
      };
      jspb.arith.UInt64.prototype.msb = function() {
        return !!(2147483648 & this.hi);
      };
      jspb.arith.UInt64.prototype.lsb = function() {
        return !!(1 & this.lo);
      };
      jspb.arith.UInt64.prototype.zero = function() {
        return 0 == this.lo && 0 == this.hi;
      };
      jspb.arith.UInt64.prototype.add = function(a) {
        return new jspb.arith.UInt64((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.UInt64.prototype.sub = function(a) {
        return new jspb.arith.UInt64((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.UInt64.mul32x32 = function(a, b) {
        for (var c = 65535 & a, d = a >>> 16, e = 65535 & b, f = b >>> 16, g = c * e + 65536 * (c * f & 65535) + 65536 * (d * e & 65535), c = d * f + (c * f >>> 16) + (d * e >>> 16); 4294967296 <= g; ) g -= 4294967296, 
        c += 1;
        return new jspb.arith.UInt64(g >>> 0, c >>> 0);
      };
      jspb.arith.UInt64.prototype.mul = function(a) {
        var b = jspb.arith.UInt64.mul32x32(this.lo, a);
        a = jspb.arith.UInt64.mul32x32(this.hi, a);
        a.hi = a.lo;
        a.lo = 0;
        return b.add(a);
      };
      jspb.arith.UInt64.prototype.div = function(a) {
        if (0 == a) return [];
        var b = new jspb.arith.UInt64(0, 0), c = new jspb.arith.UInt64(this.lo, this.hi);
        a = new jspb.arith.UInt64(a, 0);
        for (var d = new jspb.arith.UInt64(1, 0); !a.msb(); ) a = a.leftShift(), d = d.leftShift();
        for (;!d.zero(); ) 0 >= a.cmp(c) && (b = b.add(d), c = c.sub(a)), a = a.rightShift(), 
        d = d.rightShift();
        return [ b, c ];
      };
      jspb.arith.UInt64.prototype.toString = function() {
        for (var a = "", b = this; !b.zero(); ) var b = b.div(10), c = b[0], a = b[1].lo + a, b = c;
        "" == a && (a = "0");
        return a;
      };
      jspb.arith.UInt64.fromString = function(a) {
        for (var b = new jspb.arith.UInt64(0, 0), c = new jspb.arith.UInt64(0, 0), d = 0; d < a.length; d++) {
          if ("0" > a[d] || "9" < a[d]) return null;
          var e = parseInt(a[d], 10);
          c.lo = e;
          b = b.mul(10).add(c);
        }
        return b;
      };
      jspb.arith.UInt64.prototype.clone = function() {
        return new jspb.arith.UInt64(this.lo, this.hi);
      };
      jspb.arith.Int64 = function(a, b) {
        this.lo = a;
        this.hi = b;
      };
      jspb.arith.Int64.prototype.add = function(a) {
        return new jspb.arith.Int64((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.Int64.prototype.sub = function(a) {
        return new jspb.arith.Int64((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0);
      };
      jspb.arith.Int64.prototype.clone = function() {
        return new jspb.arith.Int64(this.lo, this.hi);
      };
      jspb.arith.Int64.prototype.toString = function() {
        var a = 0 != (2147483648 & this.hi), b = new jspb.arith.UInt64(this.lo, this.hi);
        a && (b = new jspb.arith.UInt64(0, 0).sub(b));
        return (a ? "-" : "") + b.toString();
      };
      jspb.arith.Int64.fromString = function(a) {
        var b = 0 < a.length && "-" == a[0];
        b && (a = a.substring(1));
        a = jspb.arith.UInt64.fromString(a);
        if (null === a) return null;
        b && (a = new jspb.arith.UInt64(0, 0).sub(a));
        return new jspb.arith.Int64(a.lo, a.hi);
      };
      jspb.BinaryConstants = {};
      jspb.ConstBinaryMessage = function() {};
      jspb.BinaryMessage = function() {};
      jspb.BinaryConstants.FieldType = {
        INVALID: -1,
        DOUBLE: 1,
        FLOAT: 2,
        INT64: 3,
        UINT64: 4,
        INT32: 5,
        FIXED64: 6,
        FIXED32: 7,
        BOOL: 8,
        STRING: 9,
        GROUP: 10,
        MESSAGE: 11,
        BYTES: 12,
        UINT32: 13,
        ENUM: 14,
        SFIXED32: 15,
        SFIXED64: 16,
        SINT32: 17,
        SINT64: 18,
        FHASH64: 30,
        VHASH64: 31
      };
      jspb.BinaryConstants.WireType = {
        INVALID: -1,
        VARINT: 0,
        FIXED64: 1,
        DELIMITED: 2,
        START_GROUP: 3,
        END_GROUP: 4,
        FIXED32: 5
      };
      jspb.BinaryConstants.FieldTypeToWireType = function(a) {
        var b = jspb.BinaryConstants.FieldType, c = jspb.BinaryConstants.WireType;
        switch (a) {
         case b.INT32:
         case b.INT64:
         case b.UINT32:
         case b.UINT64:
         case b.SINT32:
         case b.SINT64:
         case b.BOOL:
         case b.ENUM:
         case b.VHASH64:
          return c.VARINT;

         case b.DOUBLE:
         case b.FIXED64:
         case b.SFIXED64:
         case b.FHASH64:
          return c.FIXED64;

         case b.STRING:
         case b.MESSAGE:
         case b.BYTES:
          return c.DELIMITED;

         case b.FLOAT:
         case b.FIXED32:
         case b.SFIXED32:
          return c.FIXED32;

         default:
          return c.INVALID;
        }
      };
      jspb.BinaryConstants.INVALID_FIELD_NUMBER = -1;
      jspb.BinaryConstants.FLOAT32_EPS = 1401298464324817e-60;
      jspb.BinaryConstants.FLOAT32_MIN = 11754943508222875e-54;
      jspb.BinaryConstants.FLOAT32_MAX = 34028234663852886e22;
      jspb.BinaryConstants.FLOAT64_EPS = 5e-324;
      jspb.BinaryConstants.FLOAT64_MIN = 22250738585072014e-324;
      jspb.BinaryConstants.FLOAT64_MAX = 17976931348623157e292;
      jspb.BinaryConstants.TWO_TO_20 = 1048576;
      jspb.BinaryConstants.TWO_TO_23 = 8388608;
      jspb.BinaryConstants.TWO_TO_31 = 2147483648;
      jspb.BinaryConstants.TWO_TO_32 = 4294967296;
      jspb.BinaryConstants.TWO_TO_52 = 4503599627370496;
      jspb.BinaryConstants.TWO_TO_63 = 0x8000000000000000;
      jspb.BinaryConstants.TWO_TO_64 = 0x10000000000000000;
      jspb.BinaryConstants.ZERO_HASH = "\0\0\0\0\0\0\0\0";
      jspb.utils = {};
      jspb.utils.split64Low = 0;
      jspb.utils.split64High = 0;
      jspb.utils.splitUint64 = function(a) {
        var b = a >>> 0;
        a = Math.floor((a - b) / jspb.BinaryConstants.TWO_TO_32) >>> 0;
        jspb.utils.split64Low = b;
        jspb.utils.split64High = a;
      };
      jspb.utils.splitInt64 = function(a) {
        var b = 0 > a;
        a = Math.abs(a);
        var c = a >>> 0;
        a = Math.floor((a - c) / jspb.BinaryConstants.TWO_TO_32);
        a >>>= 0;
        b && (a = ~a >>> 0, c = 1 + (~c >>> 0), 4294967295 < c && (c = 0, a++, 4294967295 < a && (a = 0)));
        jspb.utils.split64Low = c;
        jspb.utils.split64High = a;
      };
      jspb.utils.splitZigzag64 = function(a) {
        var b = 0 > a;
        a = 2 * Math.abs(a);
        jspb.utils.splitUint64(a);
        a = jspb.utils.split64Low;
        var c = jspb.utils.split64High;
        b && (0 == a ? 0 == c ? c = a = 4294967295 : (c--, a = 4294967295) : a--);
        jspb.utils.split64Low = a;
        jspb.utils.split64High = c;
      };
      jspb.utils.splitFloat32 = function(a) {
        var b = 0 > a ? 1 : 0;
        a = b ? -a : a;
        var c;
        0 === a ? 0 < 1 / a ? (jspb.utils.split64High = 0, jspb.utils.split64Low = 0) : (jspb.utils.split64High = 0, 
        jspb.utils.split64Low = 2147483648) : isNaN(a) ? (jspb.utils.split64High = 0, jspb.utils.split64Low = 2147483647) : a > jspb.BinaryConstants.FLOAT32_MAX ? (jspb.utils.split64High = 0, 
        jspb.utils.split64Low = (b << 31 | 2139095040) >>> 0) : a < jspb.BinaryConstants.FLOAT32_MIN ? (a = Math.round(a / Math.pow(2, -149)), 
        jspb.utils.split64High = 0, jspb.utils.split64Low = (b << 31 | a) >>> 0) : (c = Math.floor(Math.log(a) / Math.LN2), 
        a *= Math.pow(2, -c), a = 8388607 & Math.round(a * jspb.BinaryConstants.TWO_TO_23), 
        jspb.utils.split64High = 0, jspb.utils.split64Low = (b << 31 | c + 127 << 23 | a) >>> 0);
      };
      jspb.utils.splitFloat64 = function(a) {
        var b = 0 > a ? 1 : 0;
        a = b ? -a : a;
        if (0 === a) jspb.utils.split64High = 0 < 1 / a ? 0 : 2147483648, jspb.utils.split64Low = 0; else if (isNaN(a)) jspb.utils.split64High = 2147483647, 
        jspb.utils.split64Low = 4294967295; else if (a > jspb.BinaryConstants.FLOAT64_MAX) jspb.utils.split64High = (b << 31 | 2146435072) >>> 0, 
        jspb.utils.split64Low = 0; else if (a < jspb.BinaryConstants.FLOAT64_MIN) {
          var c = a / Math.pow(2, -1074);
          a = c / jspb.BinaryConstants.TWO_TO_32;
          jspb.utils.split64High = (b << 31 | a) >>> 0;
          jspb.utils.split64Low = c >>> 0;
        } else {
          var d = Math.floor(Math.log(a) / Math.LN2);
          1024 == d && (d = 1023);
          c = a * Math.pow(2, -d);
          a = c * jspb.BinaryConstants.TWO_TO_20 & 1048575;
          c = c * jspb.BinaryConstants.TWO_TO_52 >>> 0;
          jspb.utils.split64High = (b << 31 | d + 1023 << 20 | a) >>> 0;
          jspb.utils.split64Low = c;
        }
      };
      jspb.utils.splitHash64 = function(a) {
        var b = a.charCodeAt(0), c = a.charCodeAt(1), d = a.charCodeAt(2), e = a.charCodeAt(3), f = a.charCodeAt(4), g = a.charCodeAt(5), h = a.charCodeAt(6);
        a = a.charCodeAt(7);
        jspb.utils.split64Low = b + (c << 8) + (d << 16) + (e << 24) >>> 0;
        jspb.utils.split64High = f + (g << 8) + (h << 16) + (a << 24) >>> 0;
      };
      jspb.utils.joinUint64 = function(a, b) {
        return b * jspb.BinaryConstants.TWO_TO_32 + a;
      };
      jspb.utils.joinInt64 = function(a, b) {
        var c = 2147483648 & b;
        c && (a = 1 + ~a >>> 0, b = ~b >>> 0, 0 == a && (b = b + 1 >>> 0));
        var d = jspb.utils.joinUint64(a, b);
        return c ? -d : d;
      };
      jspb.utils.joinZigzag64 = function(a, b) {
        var c = 1 & a;
        a = (a >>> 1 | b << 31) >>> 0;
        b >>>= 1;
        c && (a = a + 1 >>> 0, 0 == a && (b = b + 1 >>> 0));
        var d = jspb.utils.joinUint64(a, b);
        return c ? -d : d;
      };
      jspb.utils.joinFloat32 = function(a, b) {
        var c = 2 * (a >> 31) + 1, d = a >>> 23 & 255, e = 8388607 & a;
        return 255 == d ? e ? NaN : Infinity * c : 0 == d ? c * Math.pow(2, -149) * e : c * Math.pow(2, d - 150) * (e + Math.pow(2, 23));
      };
      jspb.utils.joinFloat64 = function(a, b) {
        var c = 2 * (b >> 31) + 1, d = b >>> 20 & 2047, e = jspb.BinaryConstants.TWO_TO_32 * (1048575 & b) + a;
        return 2047 == d ? e ? NaN : Infinity * c : 0 == d ? c * Math.pow(2, -1074) * e : c * Math.pow(2, d - 1075) * (e + jspb.BinaryConstants.TWO_TO_52);
      };
      jspb.utils.joinHash64 = function(a, b) {
        return String.fromCharCode(a >>> 0 & 255, a >>> 8 & 255, a >>> 16 & 255, a >>> 24 & 255, b >>> 0 & 255, b >>> 8 & 255, b >>> 16 & 255, b >>> 24 & 255);
      };
      jspb.utils.DIGITS = "0123456789abcdef".split("");
      jspb.utils.joinUnsignedDecimalString = function(a, b) {
        function c(a) {
          for (var b = 1e7, c = 0; 7 > c; c++) {
            var b = b / 10, d = a / b % 10 >>> 0;
            (0 != d || h) && (h = !0, k += g[d]);
          }
        }
        if (2097151 >= b) return "" + (jspb.BinaryConstants.TWO_TO_32 * b + a);
        var d = (a >>> 24 | b << 8) >>> 0 & 16777215, e = b >> 16 & 65535, f = (16777215 & a) + 6777216 * d + 6710656 * e, d = d + 8147497 * e, e = 2 * e;
        1e7 <= f && (d += Math.floor(f / 1e7), f %= 1e7);
        1e7 <= d && (e += Math.floor(d / 1e7), d %= 1e7);
        var g = jspb.utils.DIGITS, h = !1, k = "";
        (e || h) && c(e);
        (d || h) && c(d);
        (f || h) && c(f);
        return k;
      };
      jspb.utils.joinSignedDecimalString = function(a, b) {
        var c = 2147483648 & b;
        c && (a = 1 + ~a >>> 0, b = ~b + (0 == a ? 1 : 0) >>> 0);
        var d = jspb.utils.joinUnsignedDecimalString(a, b);
        return c ? "-" + d : d;
      };
      jspb.utils.hash64ToDecimalString = function(a, b) {
        jspb.utils.splitHash64(a);
        var c = jspb.utils.split64Low, d = jspb.utils.split64High;
        return b ? jspb.utils.joinSignedDecimalString(c, d) : jspb.utils.joinUnsignedDecimalString(c, d);
      };
      jspb.utils.hash64ArrayToDecimalStrings = function(a, b) {
        for (var c = Array(a.length), d = 0; d < a.length; d++) c[d] = jspb.utils.hash64ToDecimalString(a[d], b);
        return c;
      };
      jspb.utils.decimalStringToHash64 = function(a) {
        function b(a, b) {
          for (var c = 0; 8 > c && (1 !== a || 0 < b); c++) {
            var d = a * e[c] + b;
            e[c] = 255 & d;
            b = d >>> 8;
          }
        }
        function c() {
          for (var a = 0; 8 > a; a++) e[a] = 255 & ~e[a];
        }
        goog.asserts.assert(0 < a.length);
        var d = !1;
        "-" === a[0] && (d = !0, a = a.slice(1));
        for (var e = [ 0, 0, 0, 0, 0, 0, 0, 0 ], f = 0; f < a.length; f++) b(10, jspb.utils.DIGITS.indexOf(a[f]));
        d && (c(), b(1, 1));
        return goog.crypt.byteArrayToString(e);
      };
      jspb.utils.splitDecimalString = function(a) {
        jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a));
      };
      jspb.utils.hash64ToHexString = function(a) {
        var b = Array(18);
        b[0] = "0";
        b[1] = "x";
        for (var c = 0; 8 > c; c++) {
          var d = a.charCodeAt(7 - c);
          b[2 * c + 2] = jspb.utils.DIGITS[d >> 4];
          b[2 * c + 3] = jspb.utils.DIGITS[15 & d];
        }
        return b.join("");
      };
      jspb.utils.hexStringToHash64 = function(a) {
        a = a.toLowerCase();
        goog.asserts.assert(18 == a.length);
        goog.asserts.assert("0" == a[0]);
        goog.asserts.assert("x" == a[1]);
        for (var b = "", c = 0; 8 > c; c++) var d = jspb.utils.DIGITS.indexOf(a[2 * c + 2]), e = jspb.utils.DIGITS.indexOf(a[2 * c + 3]), b = String.fromCharCode(16 * d + e) + b;
        return b;
      };
      jspb.utils.hash64ToNumber = function(a, b) {
        jspb.utils.splitHash64(a);
        var c = jspb.utils.split64Low, d = jspb.utils.split64High;
        return b ? jspb.utils.joinInt64(c, d) : jspb.utils.joinUint64(c, d);
      };
      jspb.utils.numberToHash64 = function(a) {
        jspb.utils.splitInt64(a);
        return jspb.utils.joinHash64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.utils.countVarints = function(a, b, c) {
        for (var d = 0, e = b; e < c; e++) d += a[e] >> 7;
        return c - b - d;
      };
      jspb.utils.countVarintFields = function(a, b, c, d) {
        var e = 0;
        d = 8 * d + jspb.BinaryConstants.WireType.VARINT;
        if (128 > d) for (;b < c && a[b++] == d; ) for (e++; ;) {
          var f = a[b++];
          if (0 == (128 & f)) break;
        } else for (;b < c; ) {
          for (f = d; 128 < f; ) {
            if (a[b] != (127 & f | 128)) return e;
            b++;
            f >>= 7;
          }
          if (a[b++] != f) break;
          for (e++; f = a[b++], 0 != (128 & f); ) ;
        }
        return e;
      };
      jspb.utils.countFixedFields_ = function(a, b, c, d, e) {
        var f = 0;
        if (128 > d) for (;b < c && a[b++] == d; ) f++, b += e; else for (;b < c; ) {
          for (var g = d; 128 < g; ) {
            if (a[b++] != (127 & g | 128)) return f;
            g >>= 7;
          }
          if (a[b++] != g) break;
          f++;
          b += e;
        }
        return f;
      };
      jspb.utils.countFixed32Fields = function(a, b, c, d) {
        return jspb.utils.countFixedFields_(a, b, c, 8 * d + jspb.BinaryConstants.WireType.FIXED32, 4);
      };
      jspb.utils.countFixed64Fields = function(a, b, c, d) {
        return jspb.utils.countFixedFields_(a, b, c, 8 * d + jspb.BinaryConstants.WireType.FIXED64, 8);
      };
      jspb.utils.countDelimitedFields = function(a, b, c, d) {
        var e = 0;
        for (d = 8 * d + jspb.BinaryConstants.WireType.DELIMITED; b < c; ) {
          for (var f = d; 128 < f; ) {
            if (a[b++] != (127 & f | 128)) return e;
            f >>= 7;
          }
          if (a[b++] != f) break;
          e++;
          for (var g = 0, h = 1; f = a[b++], g += (127 & f) * h, h *= 128, 0 != (128 & f); ) ;
          b += g;
        }
        return e;
      };
      jspb.utils.debugBytesToTextFormat = function(a) {
        var b = '"';
        if (a) {
          a = jspb.utils.byteSourceToUint8Array(a);
          for (var c = 0; c < a.length; c++) b += "\\x", 16 > a[c] && (b += "0"), b += a[c].toString(16);
        }
        return b + '"';
      };
      jspb.utils.debugScalarToTextFormat = function(a) {
        return goog.isString(a) ? goog.string.quote(a) : a.toString();
      };
      jspb.utils.stringToByteArray = function(a) {
        for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) {
          var d = a.charCodeAt(c);
          if (255 < d) throw Error("Conversion error: string contains codepoint outside of byte range");
          b[c] = d;
        }
        return b;
      };
      jspb.utils.byteSourceToUint8Array = function(a) {
        if (a.constructor === Uint8Array) return a;
        if (a.constructor === ArrayBuffer || a.constructor === Buffer || a.constructor === Array) return new Uint8Array(a);
        if (a.constructor === String) return goog.crypt.base64.decodeStringToUint8Array(a);
        goog.asserts.fail("Type not convertible to Uint8Array.");
        return new Uint8Array(0);
      };
      jspb.BinaryEncoder = function() {
        this.buffer_ = [];
      };
      jspb.BinaryEncoder.prototype.length = function() {
        return this.buffer_.length;
      };
      jspb.BinaryEncoder.prototype.end = function() {
        var a = this.buffer_;
        this.buffer_ = [];
        return a;
      };
      jspb.BinaryEncoder.prototype.writeSplitVarint64 = function(a, b) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(b == Math.floor(b));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        for (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32); 0 < b || 127 < a; ) this.buffer_.push(127 & a | 128), 
        a = (a >>> 7 | b << 25) >>> 0, b >>>= 7;
        this.buffer_.push(a);
      };
      jspb.BinaryEncoder.prototype.writeSplitFixed64 = function(a, b) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(b == Math.floor(b));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32);
        this.writeUint32(a);
        this.writeUint32(b);
      };
      jspb.BinaryEncoder.prototype.writeUnsignedVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        for (goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32); 127 < a; ) this.buffer_.push(127 & a | 128), 
        a >>>= 7;
        this.buffer_.push(a);
      };
      jspb.BinaryEncoder.prototype.writeSignedVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        if (0 <= a) this.writeUnsignedVarint32(a); else {
          for (var b = 0; 9 > b; b++) this.buffer_.push(127 & a | 128), a >>= 7;
          this.buffer_.push(1);
        }
      };
      jspb.BinaryEncoder.prototype.writeUnsignedVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_64);
        jspb.utils.splitInt64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeSignedVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitInt64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.writeUnsignedVarint32((a << 1 ^ a >> 31) >>> 0);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitZigzag64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeZigzagVarint64String = function(a) {
        this.writeZigzagVarint64(parseInt(a, 10));
      };
      jspb.BinaryEncoder.prototype.writeUint8 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && 256 > a);
        this.buffer_.push(a >>> 0 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint16 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && 65536 > a);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_32);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
        this.buffer_.push(a >>> 16 & 255);
        this.buffer_.push(a >>> 24 & 255);
      };
      jspb.BinaryEncoder.prototype.writeUint64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(0 <= a && a < jspb.BinaryConstants.TWO_TO_64);
        jspb.utils.splitUint64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeInt8 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(-128 <= a && 128 > a);
        this.buffer_.push(a >>> 0 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt16 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(-32768 <= a && 32768 > a);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt32 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.buffer_.push(a >>> 0 & 255);
        this.buffer_.push(a >>> 8 & 255);
        this.buffer_.push(a >>> 16 & 255);
        this.buffer_.push(a >>> 24 & 255);
      };
      jspb.BinaryEncoder.prototype.writeInt64 = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_63 && a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitInt64(a);
        this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeInt64String = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(+a >= -jspb.BinaryConstants.TWO_TO_63 && +a < jspb.BinaryConstants.TWO_TO_63);
        jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a));
        this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeFloat = function(a) {
        goog.asserts.assert(a >= -jspb.BinaryConstants.FLOAT32_MAX && a <= jspb.BinaryConstants.FLOAT32_MAX);
        jspb.utils.splitFloat32(a);
        this.writeUint32(jspb.utils.split64Low);
      };
      jspb.BinaryEncoder.prototype.writeDouble = function(a) {
        goog.asserts.assert(a >= -jspb.BinaryConstants.FLOAT64_MAX && a <= jspb.BinaryConstants.FLOAT64_MAX);
        jspb.utils.splitFloat64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeBool = function(a) {
        goog.asserts.assert(goog.isBoolean(a) || goog.isNumber(a));
        this.buffer_.push(a ? 1 : 0);
      };
      jspb.BinaryEncoder.prototype.writeEnum = function(a) {
        goog.asserts.assert(a == Math.floor(a));
        goog.asserts.assert(a >= -jspb.BinaryConstants.TWO_TO_31 && a < jspb.BinaryConstants.TWO_TO_31);
        this.writeSignedVarint32(a);
      };
      jspb.BinaryEncoder.prototype.writeBytes = function(a) {
        this.buffer_.push.apply(this.buffer_, a);
      };
      jspb.BinaryEncoder.prototype.writeVarintHash64 = function(a) {
        jspb.utils.splitHash64(a);
        this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeFixedHash64 = function(a) {
        jspb.utils.splitHash64(a);
        this.writeUint32(jspb.utils.split64Low);
        this.writeUint32(jspb.utils.split64High);
      };
      jspb.BinaryEncoder.prototype.writeString = function(a) {
        for (var b = this.buffer_.length, c = 0; c < a.length; c++) {
          var d = a.charCodeAt(c);
          if (128 > d) this.buffer_.push(d); else if (2048 > d) this.buffer_.push(d >> 6 | 192), 
          this.buffer_.push(63 & d | 128); else if (65536 > d) if (55296 <= d && 56319 >= d && c + 1 < a.length) {
            var e = a.charCodeAt(c + 1);
            56320 <= e && 57343 >= e && (d = 1024 * (d - 55296) + e - 56320 + 65536, this.buffer_.push(d >> 18 | 240), 
            this.buffer_.push(d >> 12 & 63 | 128), this.buffer_.push(d >> 6 & 63 | 128), this.buffer_.push(63 & d | 128), 
            c++);
          } else this.buffer_.push(d >> 12 | 224), this.buffer_.push(d >> 6 & 63 | 128), this.buffer_.push(63 & d | 128);
        }
        return this.buffer_.length - b;
      };
      jspb.BinaryWriter = function() {
        this.blocks_ = [];
        this.totalLength_ = 0;
        this.encoder_ = new jspb.BinaryEncoder();
        this.bookmarks_ = [];
      };
      jspb.BinaryWriter.prototype.appendUint8Array_ = function(a) {
        var b = this.encoder_.end();
        this.blocks_.push(b);
        this.blocks_.push(a);
        this.totalLength_ += b.length + a.length;
      };
      jspb.BinaryWriter.prototype.beginDelimited_ = function(a) {
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
        a = this.encoder_.end();
        this.blocks_.push(a);
        this.totalLength_ += a.length;
        a.push(this.totalLength_);
        return a;
      };
      jspb.BinaryWriter.prototype.endDelimited_ = function(a) {
        var b = a.pop(), b = this.totalLength_ + this.encoder_.length() - b;
        for (goog.asserts.assert(0 <= b); 127 < b; ) a.push(127 & b | 128), b >>>= 7, this.totalLength_++;
        a.push(b);
        this.totalLength_++;
      };
      jspb.BinaryWriter.prototype.writeSerializedMessage = function(a, b, c) {
        this.appendUint8Array_(a.subarray(b, c));
      };
      jspb.BinaryWriter.prototype.maybeWriteSerializedMessage = function(a, b, c) {
        null != a && null != b && null != c && this.writeSerializedMessage(a, b, c);
      };
      jspb.BinaryWriter.prototype.reset = function() {
        this.blocks_ = [];
        this.encoder_.end();
        this.totalLength_ = 0;
        this.bookmarks_ = [];
      };
      jspb.BinaryWriter.prototype.getResultBuffer = function() {
        goog.asserts.assert(0 == this.bookmarks_.length);
        for (var a = new Uint8Array(this.totalLength_ + this.encoder_.length()), b = this.blocks_, c = b.length, d = 0, e = 0; e < c; e++) {
          var f = b[e];
          a.set(f, d);
          d += f.length;
        }
        b = this.encoder_.end();
        a.set(b, d);
        d += b.length;
        goog.asserts.assert(d == a.length);
        this.blocks_ = [ a ];
        return a;
      };
      jspb.BinaryWriter.prototype.getResultBase64String = function(a) {
        return goog.crypt.base64.encodeByteArray(this.getResultBuffer(), a);
      };
      jspb.BinaryWriter.prototype.beginSubMessage = function(a) {
        this.bookmarks_.push(this.beginDelimited_(a));
      };
      jspb.BinaryWriter.prototype.endSubMessage = function() {
        goog.asserts.assert(0 <= this.bookmarks_.length);
        this.endDelimited_(this.bookmarks_.pop());
      };
      jspb.BinaryWriter.prototype.writeFieldHeader_ = function(a, b) {
        goog.asserts.assert(1 <= a && a == Math.floor(a));
        this.encoder_.writeUnsignedVarint32(8 * a + b);
      };
      jspb.BinaryWriter.prototype.writeAny = function(a, b, c) {
        var d = jspb.BinaryConstants.FieldType;
        switch (a) {
         case d.DOUBLE:
          this.writeDouble(b, c);
          break;

         case d.FLOAT:
          this.writeFloat(b, c);
          break;

         case d.INT64:
          this.writeInt64(b, c);
          break;

         case d.UINT64:
          this.writeUint64(b, c);
          break;

         case d.INT32:
          this.writeInt32(b, c);
          break;

         case d.FIXED64:
          this.writeFixed64(b, c);
          break;

         case d.FIXED32:
          this.writeFixed32(b, c);
          break;

         case d.BOOL:
          this.writeBool(b, c);
          break;

         case d.STRING:
          this.writeString(b, c);
          break;

         case d.GROUP:
          goog.asserts.fail("Group field type not supported in writeAny()");
          break;

         case d.MESSAGE:
          goog.asserts.fail("Message field type not supported in writeAny()");
          break;

         case d.BYTES:
          this.writeBytes(b, c);
          break;

         case d.UINT32:
          this.writeUint32(b, c);
          break;

         case d.ENUM:
          this.writeEnum(b, c);
          break;

         case d.SFIXED32:
          this.writeSfixed32(b, c);
          break;

         case d.SFIXED64:
          this.writeSfixed64(b, c);
          break;

         case d.SINT32:
          this.writeSint32(b, c);
          break;

         case d.SINT64:
          this.writeSint64(b, c);
          break;

         case d.FHASH64:
          this.writeFixedHash64(b, c);
          break;

         case d.VHASH64:
          this.writeVarintHash64(b, c);
          break;

         default:
          goog.asserts.fail("Invalid field type in writeAny()");
        }
      };
      jspb.BinaryWriter.prototype.writeUnsignedVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeSignedVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeUnsignedVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeSignedVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint32_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint64_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64(b));
      };
      jspb.BinaryWriter.prototype.writeZigzagVarint64String_ = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64String(b));
      };
      jspb.BinaryWriter.prototype.writeInt32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeSignedVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeInt32String = function(a, b) {
        if (null != b) {
          var c = parseInt(b, 10);
          goog.asserts.assert(c >= -jspb.BinaryConstants.TWO_TO_31 && c < jspb.BinaryConstants.TWO_TO_31);
          this.writeSignedVarint32_(a, c);
        }
      };
      jspb.BinaryWriter.prototype.writeInt64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeSignedVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeInt64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.Int64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT);
          this.encoder_.writeSplitVarint64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeUint32 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32), 
        this.writeUnsignedVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeUint32String = function(a, b) {
        if (null != b) {
          var c = parseInt(b, 10);
          goog.asserts.assert(0 <= c && c < jspb.BinaryConstants.TWO_TO_32);
          this.writeUnsignedVarint32_(a, c);
        }
      };
      jspb.BinaryWriter.prototype.writeUint64 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_64), 
        this.writeUnsignedVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeUint64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.UInt64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT);
          this.encoder_.writeSplitVarint64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeSint32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeZigzagVarint32_(a, b));
      };
      jspb.BinaryWriter.prototype.writeSint64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeZigzagVarint64_(a, b));
      };
      jspb.BinaryWriter.prototype.writeSint64String = function(a, b) {
        null != b && (goog.asserts.assert(+b >= -jspb.BinaryConstants.TWO_TO_63 && +b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeZigzagVarint64String_(a, b));
      };
      jspb.BinaryWriter.prototype.writeFixed32 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_32), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeUint32(b));
      };
      jspb.BinaryWriter.prototype.writeFixed64 = function(a, b) {
        null != b && (goog.asserts.assert(0 <= b && b < jspb.BinaryConstants.TWO_TO_64), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeUint64(b));
      };
      jspb.BinaryWriter.prototype.writeFixed64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.UInt64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64);
          this.encoder_.writeSplitFixed64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeSfixed32 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeInt32(b));
      };
      jspb.BinaryWriter.prototype.writeSfixed64 = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_63 && b < jspb.BinaryConstants.TWO_TO_63), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeInt64(b));
      };
      jspb.BinaryWriter.prototype.writeSfixed64String = function(a, b) {
        if (null != b) {
          var c = jspb.arith.Int64.fromString(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64);
          this.encoder_.writeSplitFixed64(c.lo, c.hi);
        }
      };
      jspb.BinaryWriter.prototype.writeFloat = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED32), 
        this.encoder_.writeFloat(b));
      };
      jspb.BinaryWriter.prototype.writeDouble = function(a, b) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), 
        this.encoder_.writeDouble(b));
      };
      jspb.BinaryWriter.prototype.writeBool = function(a, b) {
        null != b && (goog.asserts.assert(goog.isBoolean(b) || goog.isNumber(b)), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), 
        this.encoder_.writeBool(b));
      };
      jspb.BinaryWriter.prototype.writeEnum = function(a, b) {
        null != b && (goog.asserts.assert(b >= -jspb.BinaryConstants.TWO_TO_31 && b < jspb.BinaryConstants.TWO_TO_31), 
        this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(b));
      };
      jspb.BinaryWriter.prototype.writeString = function(a, b) {
        if (null != b) {
          var c = this.beginDelimited_(a);
          this.encoder_.writeString(b);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writeBytes = function(a, b) {
        if (null != b) {
          var c = jspb.utils.byteSourceToUint8Array(b);
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(c.length);
          this.appendUint8Array_(c);
        }
      };
      jspb.BinaryWriter.prototype.writeMessage = function(a, b, c) {
        null != b && (a = this.beginDelimited_(a), c(b, this), this.endDelimited_(a));
      };
      jspb.BinaryWriter.prototype.writeGroup = function(a, b, c) {
        null != b && (this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.START_GROUP), 
        c(b, this), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.END_GROUP));
      };
      jspb.BinaryWriter.prototype.writeFixedHash64 = function(a, b) {
        null != b && (goog.asserts.assert(8 == b.length), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.FIXED64), 
        this.encoder_.writeFixedHash64(b));
      };
      jspb.BinaryWriter.prototype.writeVarintHash64 = function(a, b) {
        null != b && (goog.asserts.assert(8 == b.length), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.VARINT), 
        this.encoder_.writeVarintHash64(b));
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSignedVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt32String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeInt32String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSignedVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedInt64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeInt64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUnsignedVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint32String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUint32String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUnsignedVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedUint64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeUint64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint32_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint64_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSint64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeZigzagVarint64String_(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed32(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixed64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixed64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed32 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed32(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedSfixed64String = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeSfixed64String(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFloat = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFloat(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedDouble = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeDouble(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedBool = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeBool(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedEnum = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeEnum(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedString = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeString(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedBytes = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeBytes(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedMessage = function(a, b, c) {
        if (null != b) for (var d = 0; d < b.length; d++) {
          var e = this.beginDelimited_(a);
          c(b[d], this);
          this.endDelimited_(e);
        }
      };
      jspb.BinaryWriter.prototype.writeRepeatedGroup = function(a, b, c) {
        if (null != b) for (var d = 0; d < b.length; d++) this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.START_GROUP), 
        c(b[d], this), this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.END_GROUP);
      };
      jspb.BinaryWriter.prototype.writeRepeatedFixedHash64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeFixedHash64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writeRepeatedVarintHash64 = function(a, b) {
        if (null != b) for (var c = 0; c < b.length; c++) this.writeVarintHash64(a, b[c]);
      };
      jspb.BinaryWriter.prototype.writePackedInt32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt32String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint32(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeSignedVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedInt64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) {
            var e = jspb.arith.Int64.fromString(b[d]);
            this.encoder_.writeSplitVarint64(e.lo, e.hi);
          }
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint32String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint32(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeUnsignedVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedUint64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) {
            var e = jspb.arith.UInt64.fromString(b[d]);
            this.encoder_.writeSplitVarint64(e.lo, e.hi);
          }
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint32 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint32(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSint64String = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeZigzagVarint64(parseInt(b[d], 10));
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed32 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeUint32(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeUint64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixed64String = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) {
            var d = jspb.arith.UInt64.fromString(b[c]);
            this.encoder_.writeSplitFixed64(d.lo, d.hi);
          }
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed32 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt32(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedSfixed64String = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeInt64String(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFloat = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(4 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeFloat(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedDouble = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeDouble(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedBool = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeBool(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedEnum = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeEnum(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryWriter.prototype.writePackedFixedHash64 = function(a, b) {
        if (null != b && b.length) {
          this.writeFieldHeader_(a, jspb.BinaryConstants.WireType.DELIMITED);
          this.encoder_.writeUnsignedVarint32(8 * b.length);
          for (var c = 0; c < b.length; c++) this.encoder_.writeFixedHash64(b[c]);
        }
      };
      jspb.BinaryWriter.prototype.writePackedVarintHash64 = function(a, b) {
        if (null != b && b.length) {
          for (var c = this.beginDelimited_(a), d = 0; d < b.length; d++) this.encoder_.writeVarintHash64(b[d]);
          this.endDelimited_(c);
        }
      };
      jspb.BinaryIterator = function(a, b, c) {
        this.elements_ = this.nextMethod_ = this.decoder_ = null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !0;
        this.init_(a, b, c);
      };
      jspb.BinaryIterator.prototype.init_ = function(a, b, c) {
        a && b && (this.decoder_ = a, this.nextMethod_ = b);
        this.elements_ = c || null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !this.decoder_ && !this.elements_;
        this.next();
      };
      jspb.BinaryIterator.instanceCache_ = [];
      jspb.BinaryIterator.alloc = function(a, b, c) {
        if (jspb.BinaryIterator.instanceCache_.length) {
          var d = jspb.BinaryIterator.instanceCache_.pop();
          d.init_(a, b, c);
          return d;
        }
        return new jspb.BinaryIterator(a, b, c);
      };
      jspb.BinaryIterator.prototype.free = function() {
        this.clear();
        100 > jspb.BinaryIterator.instanceCache_.length && jspb.BinaryIterator.instanceCache_.push(this);
      };
      jspb.BinaryIterator.prototype.clear = function() {
        this.decoder_ && this.decoder_.free();
        this.elements_ = this.nextMethod_ = this.decoder_ = null;
        this.cursor_ = 0;
        this.nextValue_ = null;
        this.atEnd_ = !0;
      };
      jspb.BinaryIterator.prototype.get = function() {
        return this.nextValue_;
      };
      jspb.BinaryIterator.prototype.atEnd = function() {
        return this.atEnd_;
      };
      jspb.BinaryIterator.prototype.next = function() {
        var a = this.nextValue_;
        this.decoder_ ? this.decoder_.atEnd() ? (this.nextValue_ = null, this.atEnd_ = !0) : this.nextValue_ = this.nextMethod_.call(this.decoder_) : this.elements_ && (this.cursor_ == this.elements_.length ? (this.nextValue_ = null, 
        this.atEnd_ = !0) : this.nextValue_ = this.elements_[this.cursor_++]);
        return a;
      };
      jspb.BinaryDecoder = function(a, b, c) {
        this.bytes_ = null;
        this.tempHigh_ = this.tempLow_ = this.cursor_ = this.end_ = this.start_ = 0;
        this.error_ = !1;
        a && this.setBlock(a, b, c);
      };
      jspb.BinaryDecoder.instanceCache_ = [];
      jspb.BinaryDecoder.alloc = function(a, b, c) {
        if (jspb.BinaryDecoder.instanceCache_.length) {
          var d = jspb.BinaryDecoder.instanceCache_.pop();
          a && d.setBlock(a, b, c);
          return d;
        }
        return new jspb.BinaryDecoder(a, b, c);
      };
      jspb.BinaryDecoder.prototype.free = function() {
        this.clear();
        100 > jspb.BinaryDecoder.instanceCache_.length && jspb.BinaryDecoder.instanceCache_.push(this);
      };
      jspb.BinaryDecoder.prototype.clone = function() {
        return jspb.BinaryDecoder.alloc(this.bytes_, this.start_, this.end_ - this.start_);
      };
      jspb.BinaryDecoder.prototype.clear = function() {
        this.bytes_ = null;
        this.cursor_ = this.end_ = this.start_ = 0;
        this.error_ = !1;
      };
      jspb.BinaryDecoder.prototype.getBuffer = function() {
        return this.bytes_;
      };
      jspb.BinaryDecoder.prototype.setBlock = function(a, b, c) {
        this.bytes_ = jspb.utils.byteSourceToUint8Array(a);
        this.start_ = goog.isDef(b) ? b : 0;
        this.end_ = goog.isDef(c) ? this.start_ + c : this.bytes_.length;
        this.cursor_ = this.start_;
      };
      jspb.BinaryDecoder.prototype.getEnd = function() {
        return this.end_;
      };
      jspb.BinaryDecoder.prototype.setEnd = function(a) {
        this.end_ = a;
      };
      jspb.BinaryDecoder.prototype.reset = function() {
        this.cursor_ = this.start_;
      };
      jspb.BinaryDecoder.prototype.getCursor = function() {
        return this.cursor_;
      };
      jspb.BinaryDecoder.prototype.setCursor = function(a) {
        this.cursor_ = a;
      };
      jspb.BinaryDecoder.prototype.advance = function(a) {
        this.cursor_ += a;
        goog.asserts.assert(this.cursor_ <= this.end_);
      };
      jspb.BinaryDecoder.prototype.atEnd = function() {
        return this.cursor_ == this.end_;
      };
      jspb.BinaryDecoder.prototype.pastEnd = function() {
        return this.cursor_ > this.end_;
      };
      jspb.BinaryDecoder.prototype.getError = function() {
        return this.error_ || 0 > this.cursor_ || this.cursor_ > this.end_;
      };
      jspb.BinaryDecoder.prototype.readSplitVarint64_ = function() {
        for (var a, b = 0, c, d = 0; 4 > d; d++) if (a = this.bytes_[this.cursor_++], b |= (127 & a) << 7 * d, 
        128 > a) {
          this.tempLow_ = b >>> 0;
          this.tempHigh_ = 0;
          return;
        }
        a = this.bytes_[this.cursor_++];
        b |= (127 & a) << 28;
        c = 0 | (127 & a) >> 4;
        if (128 > a) this.tempLow_ = b >>> 0, this.tempHigh_ = c >>> 0; else {
          for (d = 0; 5 > d; d++) if (a = this.bytes_[this.cursor_++], c |= (127 & a) << 7 * d + 3, 
          128 > a) {
            this.tempLow_ = b >>> 0;
            this.tempHigh_ = c >>> 0;
            return;
          }
          goog.asserts.fail("Failed to read varint, encoding is invalid.");
          this.error_ = !0;
        }
      };
      jspb.BinaryDecoder.prototype.skipVarint = function() {
        for (;128 & this.bytes_[this.cursor_]; ) this.cursor_++;
        this.cursor_++;
      };
      jspb.BinaryDecoder.prototype.unskipVarint = function(a) {
        for (;128 < a; ) this.cursor_--, a >>>= 7;
        this.cursor_--;
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint32 = function() {
        var a, b = this.bytes_;
        a = b[this.cursor_ + 0];
        var c = 127 & a;
        if (128 > a) return this.cursor_ += 1, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 1];
        c |= (127 & a) << 7;
        if (128 > a) return this.cursor_ += 2, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 2];
        c |= (127 & a) << 14;
        if (128 > a) return this.cursor_ += 3, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 3];
        c |= (127 & a) << 21;
        if (128 > a) return this.cursor_ += 4, goog.asserts.assert(this.cursor_ <= this.end_), 
        c;
        a = b[this.cursor_ + 4];
        c |= (15 & a) << 28;
        if (128 > a) return this.cursor_ += 5, goog.asserts.assert(this.cursor_ <= this.end_), 
        c >>> 0;
        this.cursor_ += 5;
        128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && 128 <= b[this.cursor_++] && goog.asserts.assert(!1);
        goog.asserts.assert(this.cursor_ <= this.end_);
        return c;
      };
      jspb.BinaryDecoder.prototype.readSignedVarint32 = jspb.BinaryDecoder.prototype.readUnsignedVarint32;
      jspb.BinaryDecoder.prototype.readUnsignedVarint32String = function() {
        return this.readUnsignedVarint32().toString();
      };
      jspb.BinaryDecoder.prototype.readSignedVarint32String = function() {
        return this.readSignedVarint32().toString();
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint32 = function() {
        var a = this.readUnsignedVarint32();
        return a >>> 1 ^ -(1 & a);
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinUint64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readUnsignedVarint64String = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinUnsignedDecimalString(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readSignedVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinInt64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readSignedVarint64String = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinSignedDecimalString(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinZigzag64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readZigzagVarint64String = function() {
        return this.readZigzagVarint64().toString();
      };
      jspb.BinaryDecoder.prototype.readUint8 = function() {
        var a = this.bytes_[this.cursor_ + 0];
        this.cursor_ += 1;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a;
      };
      jspb.BinaryDecoder.prototype.readUint16 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1];
        this.cursor_ += 2;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 0 | b << 8;
      };
      jspb.BinaryDecoder.prototype.readUint32 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1], c = this.bytes_[this.cursor_ + 2], d = this.bytes_[this.cursor_ + 3];
        this.cursor_ += 4;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return (a << 0 | b << 8 | c << 16 | d << 24) >>> 0;
      };
      jspb.BinaryDecoder.prototype.readUint64 = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinUint64(a, b);
      };
      jspb.BinaryDecoder.prototype.readUint64String = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinUnsignedDecimalString(a, b);
      };
      jspb.BinaryDecoder.prototype.readInt8 = function() {
        var a = this.bytes_[this.cursor_ + 0];
        this.cursor_ += 1;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 24 >> 24;
      };
      jspb.BinaryDecoder.prototype.readInt16 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1];
        this.cursor_ += 2;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return (a << 0 | b << 8) << 16 >> 16;
      };
      jspb.BinaryDecoder.prototype.readInt32 = function() {
        var a = this.bytes_[this.cursor_ + 0], b = this.bytes_[this.cursor_ + 1], c = this.bytes_[this.cursor_ + 2], d = this.bytes_[this.cursor_ + 3];
        this.cursor_ += 4;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return a << 0 | b << 8 | c << 16 | d << 24;
      };
      jspb.BinaryDecoder.prototype.readInt64 = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinInt64(a, b);
      };
      jspb.BinaryDecoder.prototype.readInt64String = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinSignedDecimalString(a, b);
      };
      jspb.BinaryDecoder.prototype.readFloat = function() {
        var a = this.readUint32();
        return jspb.utils.joinFloat32(a, 0);
      };
      jspb.BinaryDecoder.prototype.readDouble = function() {
        var a = this.readUint32(), b = this.readUint32();
        return jspb.utils.joinFloat64(a, b);
      };
      jspb.BinaryDecoder.prototype.readBool = function() {
        return !!this.bytes_[this.cursor_++];
      };
      jspb.BinaryDecoder.prototype.readEnum = function() {
        return this.readSignedVarint32();
      };
      jspb.BinaryDecoder.prototype.readString = function(a) {
        var b = this.bytes_, c = this.cursor_;
        a = c + a;
        for (var d = [], e = ""; c < a; ) {
          var f = b[c++];
          if (128 > f) d.push(f); else {
            if (192 > f) continue;
            if (224 > f) {
              var g = b[c++];
              d.push((31 & f) << 6 | 63 & g);
            } else if (240 > f) {
              var g = b[c++], h = b[c++];
              d.push((15 & f) << 12 | (63 & g) << 6 | 63 & h);
            } else if (248 > f) {
              var g = b[c++], h = b[c++], k = b[c++], f = (7 & f) << 18 | (63 & g) << 12 | (63 & h) << 6 | 63 & k, f = f - 65536;
              d.push(55296 + (f >> 10 & 1023), 56320 + (1023 & f));
            }
          }
          8192 <= d.length && (e += String.fromCharCode.apply(null, d), d.length = 0);
        }
        e += goog.crypt.byteArrayToString(d);
        this.cursor_ = c;
        return e;
      };
      jspb.BinaryDecoder.prototype.readStringWithLength = function() {
        var a = this.readUnsignedVarint32();
        return this.readString(a);
      };
      jspb.BinaryDecoder.prototype.readBytes = function(a) {
        if (0 > a || this.cursor_ + a > this.bytes_.length) return this.error_ = !0, goog.asserts.fail("Invalid byte length!"), 
        new Uint8Array(0);
        var b = this.bytes_.subarray(this.cursor_, this.cursor_ + a);
        this.cursor_ += a;
        goog.asserts.assert(this.cursor_ <= this.end_);
        return b;
      };
      jspb.BinaryDecoder.prototype.readVarintHash64 = function() {
        this.readSplitVarint64_();
        return jspb.utils.joinHash64(this.tempLow_, this.tempHigh_);
      };
      jspb.BinaryDecoder.prototype.readFixedHash64 = function() {
        var a = this.bytes_, b = this.cursor_, c = a[b + 0], d = a[b + 1], e = a[b + 2], f = a[b + 3], g = a[b + 4], h = a[b + 5], k = a[b + 6], a = a[b + 7];
        this.cursor_ += 8;
        return String.fromCharCode(c, d, e, f, g, h, k, a);
      };
      jspb.BinaryReader = function(a, b, c) {
        this.decoder_ = jspb.BinaryDecoder.alloc(a, b, c);
        this.fieldCursor_ = this.decoder_.getCursor();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
        this.error_ = !1;
        this.readCallbacks_ = null;
      };
      jspb.BinaryReader.instanceCache_ = [];
      jspb.BinaryReader.alloc = function(a, b, c) {
        if (jspb.BinaryReader.instanceCache_.length) {
          var d = jspb.BinaryReader.instanceCache_.pop();
          a && d.decoder_.setBlock(a, b, c);
          return d;
        }
        return new jspb.BinaryReader(a, b, c);
      };
      jspb.BinaryReader.prototype.alloc = jspb.BinaryReader.alloc;
      jspb.BinaryReader.prototype.free = function() {
        this.decoder_.clear();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
        this.error_ = !1;
        this.readCallbacks_ = null;
        100 > jspb.BinaryReader.instanceCache_.length && jspb.BinaryReader.instanceCache_.push(this);
      };
      jspb.BinaryReader.prototype.getFieldCursor = function() {
        return this.fieldCursor_;
      };
      jspb.BinaryReader.prototype.getCursor = function() {
        return this.decoder_.getCursor();
      };
      jspb.BinaryReader.prototype.getBuffer = function() {
        return this.decoder_.getBuffer();
      };
      jspb.BinaryReader.prototype.getFieldNumber = function() {
        return this.nextField_;
      };
      jspb.BinaryReader.prototype.getWireType = function() {
        return this.nextWireType_;
      };
      jspb.BinaryReader.prototype.isEndGroup = function() {
        return this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP;
      };
      jspb.BinaryReader.prototype.getError = function() {
        return this.error_ || this.decoder_.getError();
      };
      jspb.BinaryReader.prototype.setBlock = function(a, b, c) {
        this.decoder_.setBlock(a, b, c);
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
      };
      jspb.BinaryReader.prototype.reset = function() {
        this.decoder_.reset();
        this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
        this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
      };
      jspb.BinaryReader.prototype.advance = function(a) {
        this.decoder_.advance(a);
      };
      jspb.BinaryReader.prototype.nextField = function() {
        if (this.decoder_.atEnd()) return !1;
        if (this.getError()) return goog.asserts.fail("Decoder hit an error"), !1;
        this.fieldCursor_ = this.decoder_.getCursor();
        var a = this.decoder_.readUnsignedVarint32(), b = a >>> 3, a = 7 & a;
        if (a != jspb.BinaryConstants.WireType.VARINT && a != jspb.BinaryConstants.WireType.FIXED32 && a != jspb.BinaryConstants.WireType.FIXED64 && a != jspb.BinaryConstants.WireType.DELIMITED && a != jspb.BinaryConstants.WireType.START_GROUP && a != jspb.BinaryConstants.WireType.END_GROUP) return goog.asserts.fail("Invalid wire type"), 
        this.error_ = !0, !1;
        this.nextField_ = b;
        this.nextWireType_ = a;
        return !0;
      };
      jspb.BinaryReader.prototype.unskipHeader = function() {
        this.decoder_.unskipVarint(this.nextField_ << 3 | this.nextWireType_);
      };
      jspb.BinaryReader.prototype.skipMatchingFields = function() {
        var a = this.nextField_;
        for (this.unskipHeader(); this.nextField() && this.getFieldNumber() == a; ) this.skipField();
        this.decoder_.atEnd() || this.unskipHeader();
      };
      jspb.BinaryReader.prototype.skipVarintField = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.VARINT ? (goog.asserts.fail("Invalid wire type for skipVarintField"), 
        this.skipField()) : this.decoder_.skipVarint();
      };
      jspb.BinaryReader.prototype.skipDelimitedField = function() {
        if (this.nextWireType_ != jspb.BinaryConstants.WireType.DELIMITED) goog.asserts.fail("Invalid wire type for skipDelimitedField"), 
        this.skipField(); else {
          var a = this.decoder_.readUnsignedVarint32();
          this.decoder_.advance(a);
        }
      };
      jspb.BinaryReader.prototype.skipFixed32Field = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED32 ? (goog.asserts.fail("Invalid wire type for skipFixed32Field"), 
        this.skipField()) : this.decoder_.advance(4);
      };
      jspb.BinaryReader.prototype.skipFixed64Field = function() {
        this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED64 ? (goog.asserts.fail("Invalid wire type for skipFixed64Field"), 
        this.skipField()) : this.decoder_.advance(8);
      };
      jspb.BinaryReader.prototype.skipGroup = function() {
        var a = [ this.nextField_ ];
        do {
          if (!this.nextField()) {
            goog.asserts.fail("Unmatched start-group tag: stream EOF");
            this.error_ = !0;
            break;
          }
          if (this.nextWireType_ == jspb.BinaryConstants.WireType.START_GROUP) a.push(this.nextField_); else if (this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP && this.nextField_ != a.pop()) {
            goog.asserts.fail("Unmatched end-group tag");
            this.error_ = !0;
            break;
          }
        } while (0 < a.length);
      };
      jspb.BinaryReader.prototype.skipField = function() {
        switch (this.nextWireType_) {
         case jspb.BinaryConstants.WireType.VARINT:
          this.skipVarintField();
          break;

         case jspb.BinaryConstants.WireType.FIXED64:
          this.skipFixed64Field();
          break;

         case jspb.BinaryConstants.WireType.DELIMITED:
          this.skipDelimitedField();
          break;

         case jspb.BinaryConstants.WireType.FIXED32:
          this.skipFixed32Field();
          break;

         case jspb.BinaryConstants.WireType.START_GROUP:
          this.skipGroup();
          break;

         default:
          goog.asserts.fail("Invalid wire encoding for field.");
        }
      };
      jspb.BinaryReader.prototype.registerReadCallback = function(a, b) {
        goog.isNull(this.readCallbacks_) && (this.readCallbacks_ = {});
        goog.asserts.assert(!this.readCallbacks_[a]);
        this.readCallbacks_[a] = b;
      };
      jspb.BinaryReader.prototype.runReadCallback = function(a) {
        goog.asserts.assert(!goog.isNull(this.readCallbacks_));
        a = this.readCallbacks_[a];
        goog.asserts.assert(a);
        return a(this);
      };
      jspb.BinaryReader.prototype.readAny = function(a) {
        this.nextWireType_ = jspb.BinaryConstants.FieldTypeToWireType(a);
        var b = jspb.BinaryConstants.FieldType;
        switch (a) {
         case b.DOUBLE:
          return this.readDouble();

         case b.FLOAT:
          return this.readFloat();

         case b.INT64:
          return this.readInt64();

         case b.UINT64:
          return this.readUint64();

         case b.INT32:
          return this.readInt32();

         case b.FIXED64:
          return this.readFixed64();

         case b.FIXED32:
          return this.readFixed32();

         case b.BOOL:
          return this.readBool();

         case b.STRING:
          return this.readString();

         case b.GROUP:
          goog.asserts.fail("Group field type not supported in readAny()");

         case b.MESSAGE:
          goog.asserts.fail("Message field type not supported in readAny()");

         case b.BYTES:
          return this.readBytes();

         case b.UINT32:
          return this.readUint32();

         case b.ENUM:
          return this.readEnum();

         case b.SFIXED32:
          return this.readSfixed32();

         case b.SFIXED64:
          return this.readSfixed64();

         case b.SINT32:
          return this.readSint32();

         case b.SINT64:
          return this.readSint64();

         case b.FHASH64:
          return this.readFixedHash64();

         case b.VHASH64:
          return this.readVarintHash64();

         default:
          goog.asserts.fail("Invalid field type in readAny()");
        }
        return 0;
      };
      jspb.BinaryReader.prototype.readMessage = function(a, b) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var c = this.decoder_.getEnd(), d = this.decoder_.readUnsignedVarint32(), d = this.decoder_.getCursor() + d;
        this.decoder_.setEnd(d);
        b(a, this);
        this.decoder_.setCursor(d);
        this.decoder_.setEnd(c);
      };
      jspb.BinaryReader.prototype.readGroup = function(a, b, c) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.START_GROUP);
        goog.asserts.assert(this.nextField_ == a);
        c(b, this);
        this.error_ || this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP || (goog.asserts.fail("Group submessage did not end with an END_GROUP tag"), 
        this.error_ = !0);
      };
      jspb.BinaryReader.prototype.getFieldDecoder = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32(), b = this.decoder_.getCursor(), c = b + a, a = jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(), b, a);
        this.decoder_.setCursor(c);
        return a;
      };
      jspb.BinaryReader.prototype.readInt32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint32();
      };
      jspb.BinaryReader.prototype.readInt32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint32String();
      };
      jspb.BinaryReader.prototype.readInt64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64();
      };
      jspb.BinaryReader.prototype.readInt64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64String();
      };
      jspb.BinaryReader.prototype.readUint32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint32();
      };
      jspb.BinaryReader.prototype.readUint32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint32String();
      };
      jspb.BinaryReader.prototype.readUint64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint64();
      };
      jspb.BinaryReader.prototype.readUint64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readUnsignedVarint64String();
      };
      jspb.BinaryReader.prototype.readSint32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint32();
      };
      jspb.BinaryReader.prototype.readSint64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint64();
      };
      jspb.BinaryReader.prototype.readSint64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readZigzagVarint64String();
      };
      jspb.BinaryReader.prototype.readFixed32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readUint32();
      };
      jspb.BinaryReader.prototype.readFixed64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readUint64();
      };
      jspb.BinaryReader.prototype.readFixed64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readUint64String();
      };
      jspb.BinaryReader.prototype.readSfixed32 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readInt32();
      };
      jspb.BinaryReader.prototype.readSfixed32String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readInt32().toString();
      };
      jspb.BinaryReader.prototype.readSfixed64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readInt64();
      };
      jspb.BinaryReader.prototype.readSfixed64String = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readInt64String();
      };
      jspb.BinaryReader.prototype.readFloat = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
        return this.decoder_.readFloat();
      };
      jspb.BinaryReader.prototype.readDouble = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readDouble();
      };
      jspb.BinaryReader.prototype.readBool = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return !!this.decoder_.readUnsignedVarint32();
      };
      jspb.BinaryReader.prototype.readEnum = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readSignedVarint64();
      };
      jspb.BinaryReader.prototype.readString = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32();
        return this.decoder_.readString(a);
      };
      jspb.BinaryReader.prototype.readBytes = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        var a = this.decoder_.readUnsignedVarint32();
        return this.decoder_.readBytes(a);
      };
      jspb.BinaryReader.prototype.readVarintHash64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
        return this.decoder_.readVarintHash64();
      };
      jspb.BinaryReader.prototype.readFixedHash64 = function() {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
        return this.decoder_.readFixedHash64();
      };
      jspb.BinaryReader.prototype.readPackedField_ = function(a) {
        goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
        for (var b = this.decoder_.readUnsignedVarint32(), b = this.decoder_.getCursor() + b, c = []; this.decoder_.getCursor() < b; ) c.push(a.call(this.decoder_));
        return c;
      };
      jspb.BinaryReader.prototype.readPackedInt32 = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint32);
      };
      jspb.BinaryReader.prototype.readPackedInt32String = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint32String);
      };
      jspb.BinaryReader.prototype.readPackedInt64 = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint64);
      };
      jspb.BinaryReader.prototype.readPackedInt64String = function() {
        return this.readPackedField_(this.decoder_.readSignedVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedUint32 = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint32);
      };
      jspb.BinaryReader.prototype.readPackedUint32String = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint32String);
      };
      jspb.BinaryReader.prototype.readPackedUint64 = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint64);
      };
      jspb.BinaryReader.prototype.readPackedUint64String = function() {
        return this.readPackedField_(this.decoder_.readUnsignedVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedSint32 = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint32);
      };
      jspb.BinaryReader.prototype.readPackedSint64 = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint64);
      };
      jspb.BinaryReader.prototype.readPackedSint64String = function() {
        return this.readPackedField_(this.decoder_.readZigzagVarint64String);
      };
      jspb.BinaryReader.prototype.readPackedFixed32 = function() {
        return this.readPackedField_(this.decoder_.readUint32);
      };
      jspb.BinaryReader.prototype.readPackedFixed64 = function() {
        return this.readPackedField_(this.decoder_.readUint64);
      };
      jspb.BinaryReader.prototype.readPackedFixed64String = function() {
        return this.readPackedField_(this.decoder_.readUint64String);
      };
      jspb.BinaryReader.prototype.readPackedSfixed32 = function() {
        return this.readPackedField_(this.decoder_.readInt32);
      };
      jspb.BinaryReader.prototype.readPackedSfixed64 = function() {
        return this.readPackedField_(this.decoder_.readInt64);
      };
      jspb.BinaryReader.prototype.readPackedSfixed64String = function() {
        return this.readPackedField_(this.decoder_.readInt64String);
      };
      jspb.BinaryReader.prototype.readPackedFloat = function() {
        return this.readPackedField_(this.decoder_.readFloat);
      };
      jspb.BinaryReader.prototype.readPackedDouble = function() {
        return this.readPackedField_(this.decoder_.readDouble);
      };
      jspb.BinaryReader.prototype.readPackedBool = function() {
        return this.readPackedField_(this.decoder_.readBool);
      };
      jspb.BinaryReader.prototype.readPackedEnum = function() {
        return this.readPackedField_(this.decoder_.readEnum);
      };
      jspb.BinaryReader.prototype.readPackedVarintHash64 = function() {
        return this.readPackedField_(this.decoder_.readVarintHash64);
      };
      jspb.BinaryReader.prototype.readPackedFixedHash64 = function() {
        return this.readPackedField_(this.decoder_.readFixedHash64);
      };
      jspb.Export = {};
      exports.Map = jspb.Map;
      exports.Message = jspb.Message;
      exports.BinaryReader = jspb.BinaryReader;
      exports.BinaryWriter = jspb.BinaryWriter;
      exports.ExtensionFieldInfo = jspb.ExtensionFieldInfo;
      exports.ExtensionFieldBinaryInfo = jspb.ExtensionFieldBinaryInfo;
      exports.exportSymbol = goog.exportSymbol;
      exports.inherits = goog.inherits;
      exports.object = {
        extend: goog.object.extend
      };
      exports.typeOf = goog.typeOf;
      module.exports.goog = goog;
      module.exports.jspb = jspb;
      module.exports.COMPILED = COMPILED;
    }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {}, require("buffer").Buffer);
  }, {
    buffer: 2
  } ],
  28: [ function(require, module, exports) {
    var jspb = require("google-protobuf");
    var goog = jspb;
    var global = Function("return this")();
    goog.exportSymbol("proto.google.protobuf.Any", null, global);
    proto.google.protobuf.Any = function(opt_data) {
      jspb.Message.initialize(this, opt_data, 0, -1, null, null);
    };
    goog.inherits(proto.google.protobuf.Any, jspb.Message);
    goog.DEBUG && !COMPILED && (proto.google.protobuf.Any.displayName = "proto.google.protobuf.Any");
    if (jspb.Message.GENERATE_TO_OBJECT) {
      proto.google.protobuf.Any.prototype.toObject = function(opt_includeInstance) {
        return proto.google.protobuf.Any.toObject(opt_includeInstance, this);
      };
      proto.google.protobuf.Any.toObject = function(includeInstance, msg) {
        var f, obj = {
          typeUrl: jspb.Message.getFieldWithDefault(msg, 1, ""),
          value: msg.getValue_asB64()
        };
        includeInstance && (obj.$jspbMessageInstance = msg);
        return obj;
      };
    }
    proto.google.protobuf.Any.deserializeBinary = function(bytes) {
      var reader = new jspb.BinaryReader(bytes);
      var msg = new proto.google.protobuf.Any();
      return proto.google.protobuf.Any.deserializeBinaryFromReader(msg, reader);
    };
    proto.google.protobuf.Any.deserializeBinaryFromReader = function(msg, reader) {
      while (reader.nextField()) {
        if (reader.isEndGroup()) break;
        var field = reader.getFieldNumber();
        switch (field) {
         case 1:
          var value = reader.readString();
          msg.setTypeUrl(value);
          break;

         case 2:
          var value = reader.readBytes();
          msg.setValue(value);
          break;

         default:
          reader.skipField();
        }
      }
      return msg;
    };
    proto.google.protobuf.Any.prototype.serializeBinary = function() {
      var writer = new jspb.BinaryWriter();
      proto.google.protobuf.Any.serializeBinaryToWriter(this, writer);
      return writer.getResultBuffer();
    };
    proto.google.protobuf.Any.serializeBinaryToWriter = function(message, writer) {
      var f = void 0;
      f = message.getTypeUrl();
      f.length > 0 && writer.writeString(1, f);
      f = message.getValue_asU8();
      f.length > 0 && writer.writeBytes(2, f);
    };
    proto.google.protobuf.Any.prototype.getTypeUrl = function() {
      return jspb.Message.getFieldWithDefault(this, 1, "");
    };
    proto.google.protobuf.Any.prototype.setTypeUrl = function(value) {
      jspb.Message.setProto3StringField(this, 1, value);
    };
    proto.google.protobuf.Any.prototype.getValue = function() {
      return jspb.Message.getFieldWithDefault(this, 2, "");
    };
    proto.google.protobuf.Any.prototype.getValue_asB64 = function() {
      return jspb.Message.bytesAsB64(this.getValue());
    };
    proto.google.protobuf.Any.prototype.getValue_asU8 = function() {
      return jspb.Message.bytesAsU8(this.getValue());
    };
    proto.google.protobuf.Any.prototype.setValue = function(value) {
      jspb.Message.setProto3BytesField(this, 2, value);
    };
    goog.object.extend(exports, proto.google.protobuf);
    proto.google.protobuf.Any.prototype.getTypeName = function() {
      return this.getTypeUrl().split("/").pop();
    };
    proto.google.protobuf.Any.prototype.pack = function(serialized, name, opt_typeUrlPrefix) {
      opt_typeUrlPrefix || (opt_typeUrlPrefix = "type.googleapis.com/");
      "/" != opt_typeUrlPrefix.substr(-1) ? this.setTypeUrl(opt_typeUrlPrefix + "/" + name) : this.setTypeUrl(opt_typeUrlPrefix + name);
      this.setValue(serialized);
    };
    proto.google.protobuf.Any.prototype.unpack = function(deserialize, name) {
      return this.getTypeName() == name ? deserialize(this.getValue_asU8()) : null;
    };
  }, {
    "google-protobuf": 27
  } ],
  29: [ function(require, module, exports) {
    "use strict";
    var bind = require("function-bind");
    module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
  }, {
    "function-bind": 22
  } ],
  30: [ function(require, module, exports) {
    "use strict";
    var fnToStr = Function.prototype.toString;
    var constructorRegex = /^\s*class\b/;
    var isES6ClassFn = function isES6ClassFunction(value) {
      try {
        var fnStr = fnToStr.call(value);
        return constructorRegex.test(fnStr);
      } catch (e) {
        return false;
      }
    };
    var tryFunctionObject = function tryFunctionToStr(value) {
      try {
        if (isES6ClassFn(value)) return false;
        fnToStr.call(value);
        return true;
      } catch (e) {
        return false;
      }
    };
    var toStr = Object.prototype.toString;
    var fnClass = "[object Function]";
    var genClass = "[object GeneratorFunction]";
    var hasToStringTag = "function" === typeof Symbol && "symbol" === typeof Symbol.toStringTag;
    module.exports = function isCallable(value) {
      if (!value) return false;
      if ("function" !== typeof value && "object" !== typeof value) return false;
      if ("function" === typeof value && !value.prototype) return true;
      if (hasToStringTag) return tryFunctionObject(value);
      if (isES6ClassFn(value)) return false;
      var strClass = toStr.call(value);
      return strClass === fnClass || strClass === genClass;
    };
  }, {} ],
  31: [ function(require, module, exports) {
    "use strict";
    var forEach = require("for-each");
    var warning = require("warning");
    var has = require("has");
    var trim = require("string.prototype.trim");
    var warn = function warn(message) {
      warning(false, message);
    };
    var replace = String.prototype.replace;
    var split = String.prototype.split;
    var delimiter = "||||";
    var russianPluralGroups = function(n) {
      var end = n % 10;
      if (11 !== n && 1 === end) return 0;
      if (2 <= end && end <= 4 && !(n >= 12 && n <= 14)) return 1;
      return 2;
    };
    var pluralTypes = {
      arabic: function(n) {
        if (n < 3) return n;
        var lastTwo = n % 100;
        if (lastTwo >= 3 && lastTwo <= 10) return 3;
        return lastTwo >= 11 ? 4 : 5;
      },
      bosnian_serbian: russianPluralGroups,
      chinese: function() {
        return 0;
      },
      croatian: russianPluralGroups,
      french: function(n) {
        return n > 1 ? 1 : 0;
      },
      german: function(n) {
        return 1 !== n ? 1 : 0;
      },
      russian: russianPluralGroups,
      lithuanian: function(n) {
        if (n % 10 === 1 && n % 100 !== 11) return 0;
        return n % 10 >= 2 && n % 10 <= 9 && (n % 100 < 11 || n % 100 > 19) ? 1 : 2;
      },
      czech: function(n) {
        if (1 === n) return 0;
        return n >= 2 && n <= 4 ? 1 : 2;
      },
      polish: function(n) {
        if (1 === n) return 0;
        var end = n % 10;
        return 2 <= end && end <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
      },
      icelandic: function(n) {
        return n % 10 !== 1 || n % 100 === 11 ? 1 : 0;
      },
      slovenian: function(n) {
        var lastTwo = n % 100;
        if (1 === lastTwo) return 0;
        if (2 === lastTwo) return 1;
        if (3 === lastTwo || 4 === lastTwo) return 2;
        return 3;
      }
    };
    var pluralTypeToLanguages = {
      arabic: [ "ar" ],
      bosnian_serbian: [ "bs-Latn-BA", "bs-Cyrl-BA", "srl-RS", "sr-RS" ],
      chinese: [ "id", "id-ID", "ja", "ko", "ko-KR", "lo", "ms", "th", "th-TH", "zh" ],
      croatian: [ "hr", "hr-HR" ],
      german: [ "fa", "da", "de", "en", "es", "fi", "el", "he", "hi-IN", "hu", "hu-HU", "it", "nl", "no", "pt", "sv", "tr" ],
      french: [ "fr", "tl", "pt-br" ],
      russian: [ "ru", "ru-RU" ],
      lithuanian: [ "lt" ],
      czech: [ "cs", "cs-CZ", "sk" ],
      polish: [ "pl" ],
      icelandic: [ "is" ],
      slovenian: [ "sl-SL" ]
    };
    function langToTypeMap(mapping) {
      var ret = {};
      forEach(mapping, function(langs, type) {
        forEach(langs, function(lang) {
          ret[lang] = type;
        });
      });
      return ret;
    }
    function pluralTypeName(locale) {
      var langToPluralType = langToTypeMap(pluralTypeToLanguages);
      return langToPluralType[locale] || langToPluralType[split.call(locale, /-/, 1)[0]] || langToPluralType.en;
    }
    function pluralTypeIndex(locale, count) {
      return pluralTypes[pluralTypeName(locale)](count);
    }
    function escape(token) {
      return token.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    }
    function constructTokenRegex(opts) {
      var prefix = opts && opts.prefix || "%{";
      var suffix = opts && opts.suffix || "}";
      if (prefix === delimiter || suffix === delimiter) throw new RangeError('"' + delimiter + '" token is reserved for pluralization');
      return new RegExp(escape(prefix) + "(.*?)" + escape(suffix), "g");
    }
    var dollarRegex = /\$/g;
    var dollarBillsYall = "$$";
    var defaultTokenRegex = /%\{(.*?)\}/g;
    function transformPhrase(phrase, substitutions, locale, tokenRegex) {
      if ("string" !== typeof phrase) throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");
      if (null == substitutions) return phrase;
      var result = phrase;
      var interpolationRegex = tokenRegex || defaultTokenRegex;
      var options = "number" === typeof substitutions ? {
        smart_count: substitutions
      } : substitutions;
      if (null != options.smart_count && result) {
        var texts = split.call(result, delimiter);
        result = trim(texts[pluralTypeIndex(locale || "en", options.smart_count)] || texts[0]);
      }
      result = replace.call(result, interpolationRegex, function(expression, argument) {
        if (!has(options, argument) || null == options[argument]) return expression;
        return replace.call(options[argument], dollarRegex, dollarBillsYall);
      });
      return result;
    }
    function Polyglot(options) {
      var opts = options || {};
      this.phrases = {};
      this.extend(opts.phrases || {});
      this.currentLocale = opts.locale || "en";
      var allowMissing = opts.allowMissing ? transformPhrase : null;
      this.onMissingKey = "function" === typeof opts.onMissingKey ? opts.onMissingKey : allowMissing;
      this.warn = opts.warn || warn;
      this.tokenRegex = constructTokenRegex(opts.interpolation);
    }
    Polyglot.prototype.locale = function(newLocale) {
      newLocale && (this.currentLocale = newLocale);
      return this.currentLocale;
    };
    Polyglot.prototype.extend = function(morePhrases, prefix) {
      forEach(morePhrases, function(phrase, key) {
        var prefixedKey = prefix ? prefix + "." + key : key;
        "object" === typeof phrase ? this.extend(phrase, prefixedKey) : this.phrases[prefixedKey] = phrase;
      }, this);
    };
    Polyglot.prototype.unset = function(morePhrases, prefix) {
      "string" === typeof morePhrases ? delete this.phrases[morePhrases] : forEach(morePhrases, function(phrase, key) {
        var prefixedKey = prefix ? prefix + "." + key : key;
        "object" === typeof phrase ? this.unset(phrase, prefixedKey) : delete this.phrases[prefixedKey];
      }, this);
    };
    Polyglot.prototype.clear = function() {
      this.phrases = {};
    };
    Polyglot.prototype.replace = function(newPhrases) {
      this.clear();
      this.extend(newPhrases);
    };
    Polyglot.prototype.t = function(key, options) {
      var phrase, result;
      var opts = null == options ? {} : options;
      if ("string" === typeof this.phrases[key]) phrase = this.phrases[key]; else if ("string" === typeof opts._) phrase = opts._; else if (this.onMissingKey) {
        var onMissingKey = this.onMissingKey;
        result = onMissingKey(key, opts, this.currentLocale, this.tokenRegex);
      } else {
        this.warn('Missing translation for key: "' + key + '"');
        result = key;
      }
      "string" === typeof phrase && (result = transformPhrase(phrase, opts, this.currentLocale, this.tokenRegex));
      return result;
    };
    Polyglot.prototype.has = function(key) {
      return has(this.phrases, key);
    };
    Polyglot.transformPhrase = function transform(phrase, substitutions, locale) {
      return transformPhrase(phrase, substitutions, locale);
    };
    module.exports = Polyglot;
  }, {
    "for-each": 20,
    has: 29,
    "string.prototype.trim": 234,
    warning: 237
  } ],
  32: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function strip(num, precision) {
      void 0 === precision && (precision = 12);
      return +parseFloat(num.toPrecision(precision));
    }
    function digitLength(num) {
      var eSplit = num.toString().split(/[eE]/);
      var len = (eSplit[0].split(".")[1] || "").length - +(eSplit[1] || 0);
      return len > 0 ? len : 0;
    }
    function float2Fixed(num) {
      if (-1 === num.toString().indexOf("e")) return Number(num.toString().replace(".", ""));
      var dLen = digitLength(num);
      return dLen > 0 ? strip(num * Math.pow(10, dLen)) : num;
    }
    function checkBoundary(num) {
      _boundaryCheckingState && (num > Number.MAX_SAFE_INTEGER || num < Number.MIN_SAFE_INTEGER) && console.warn(num + " is beyond boundary when transfer to integer, the results may not be accurate");
    }
    function times(num1, num2) {
      var others = [];
      for (var _i = 2; _i < arguments.length; _i++) others[_i - 2] = arguments[_i];
      if (others.length > 0) return times.apply(void 0, [ times(num1, num2), others[0] ].concat(others.slice(1)));
      var num1Changed = float2Fixed(num1);
      var num2Changed = float2Fixed(num2);
      var baseNum = digitLength(num1) + digitLength(num2);
      var leftValue = num1Changed * num2Changed;
      checkBoundary(leftValue);
      return leftValue / Math.pow(10, baseNum);
    }
    function plus(num1, num2) {
      var others = [];
      for (var _i = 2; _i < arguments.length; _i++) others[_i - 2] = arguments[_i];
      if (others.length > 0) return plus.apply(void 0, [ plus(num1, num2), others[0] ].concat(others.slice(1)));
      var baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));
      return (times(num1, baseNum) + times(num2, baseNum)) / baseNum;
    }
    function minus(num1, num2) {
      var others = [];
      for (var _i = 2; _i < arguments.length; _i++) others[_i - 2] = arguments[_i];
      if (others.length > 0) return minus.apply(void 0, [ minus(num1, num2), others[0] ].concat(others.slice(1)));
      var baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));
      return (times(num1, baseNum) - times(num2, baseNum)) / baseNum;
    }
    function divide(num1, num2) {
      var others = [];
      for (var _i = 2; _i < arguments.length; _i++) others[_i - 2] = arguments[_i];
      if (others.length > 0) return divide.apply(void 0, [ divide(num1, num2), others[0] ].concat(others.slice(1)));
      var num1Changed = float2Fixed(num1);
      var num2Changed = float2Fixed(num2);
      checkBoundary(num1Changed);
      checkBoundary(num2Changed);
      return times(num1Changed / num2Changed, Math.pow(10, digitLength(num2) - digitLength(num1)));
    }
    function round(num, ratio) {
      var base = Math.pow(10, ratio);
      return divide(Math.round(times(num, base)), base);
    }
    var _boundaryCheckingState = true;
    function enableBoundaryChecking(flag) {
      void 0 === flag && (flag = true);
      _boundaryCheckingState = flag;
    }
    var index = {
      strip: strip,
      plus: plus,
      minus: minus,
      times: times,
      divide: divide,
      round: round,
      digitLength: digitLength,
      float2Fixed: float2Fixed,
      enableBoundaryChecking: enableBoundaryChecking
    };
    exports.strip = strip;
    exports.plus = plus;
    exports.minus = minus;
    exports.times = times;
    exports.divide = divide;
    exports.round = round;
    exports.digitLength = digitLength;
    exports.float2Fixed = float2Fixed;
    exports.enableBoundaryChecking = enableBoundaryChecking;
    exports["default"] = index;
  }, {} ],
  33: [ function(require, module, exports) {
    "use strict";
    var keysShim;
    if (!Object.keys) {
      var has = Object.prototype.hasOwnProperty;
      var toStr = Object.prototype.toString;
      var isArgs = require("./isArguments");
      var isEnumerable = Object.prototype.propertyIsEnumerable;
      var hasDontEnumBug = !isEnumerable.call({
        toString: null
      }, "toString");
      var hasProtoEnumBug = isEnumerable.call(function() {}, "prototype");
      var dontEnums = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ];
      var equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      var excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      var hasAutomationEqualityBug = function() {
        if ("undefined" === typeof window) return false;
        for (var k in window) try {
          if (!excludedKeys["$" + k] && has.call(window, k) && null !== window[k] && "object" === typeof window[k]) try {
            equalsConstructorPrototype(window[k]);
          } catch (e) {
            return true;
          }
        } catch (e) {
          return true;
        }
        return false;
      }();
      var equalsConstructorPrototypeIfNotBuggy = function(o) {
        if ("undefined" === typeof window || !hasAutomationEqualityBug) return equalsConstructorPrototype(o);
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = null !== object && "object" === typeof object;
        var isFunction = "[object Function]" === toStr.call(object);
        var isArguments = isArgs(object);
        var isString = isObject && "[object String]" === toStr.call(object);
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) throw new TypeError("Object.keys called on a non-object");
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) for (var i = 0; i < object.length; ++i) theKeys.push(String(i));
        if (isArguments && object.length > 0) for (var j = 0; j < object.length; ++j) theKeys.push(String(j)); else for (var name in object) skipProto && "prototype" === name || !has.call(object, name) || theKeys.push(String(name));
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) skipConstructor && "constructor" === dontEnums[k] || !has.call(object, dontEnums[k]) || theKeys.push(dontEnums[k]);
        }
        return theKeys;
      };
    }
    module.exports = keysShim;
  }, {
    "./isArguments": 35
  } ],
  34: [ function(require, module, exports) {
    "use strict";
    var slice = Array.prototype.slice;
    var isArgs = require("./isArguments");
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require("./implementation");
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        keysWorksWithArguments || (Object.keys = function keys(object) {
          if (isArgs(object)) return originalKeys(slice.call(object));
          return originalKeys(object);
        });
      } else Object.keys = keysShim;
      return Object.keys || keysShim;
    };
    module.exports = keysShim;
  }, {
    "./implementation": 33,
    "./isArguments": 35
  } ],
  35: [ function(require, module, exports) {
    "use strict";
    var toStr = Object.prototype.toString;
    module.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = "[object Arguments]" === str;
      isArgs || (isArgs = "[object Array]" !== str && null !== value && "object" === typeof value && "number" === typeof value.length && value.length >= 0 && "[object Function]" === toStr.call(value.callee));
      return isArgs;
    };
  }, {} ],
  36: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("./internal/Observable");
    exports.Observable = Observable_1.Observable;
    var ConnectableObservable_1 = require("./internal/observable/ConnectableObservable");
    exports.ConnectableObservable = ConnectableObservable_1.ConnectableObservable;
    var groupBy_1 = require("./internal/operators/groupBy");
    exports.GroupedObservable = groupBy_1.GroupedObservable;
    var observable_1 = require("./internal/symbol/observable");
    exports.observable = observable_1.observable;
    var Subject_1 = require("./internal/Subject");
    exports.Subject = Subject_1.Subject;
    var BehaviorSubject_1 = require("./internal/BehaviorSubject");
    exports.BehaviorSubject = BehaviorSubject_1.BehaviorSubject;
    var ReplaySubject_1 = require("./internal/ReplaySubject");
    exports.ReplaySubject = ReplaySubject_1.ReplaySubject;
    var AsyncSubject_1 = require("./internal/AsyncSubject");
    exports.AsyncSubject = AsyncSubject_1.AsyncSubject;
    var asap_1 = require("./internal/scheduler/asap");
    exports.asapScheduler = asap_1.asap;
    var async_1 = require("./internal/scheduler/async");
    exports.asyncScheduler = async_1.async;
    var queue_1 = require("./internal/scheduler/queue");
    exports.queueScheduler = queue_1.queue;
    var animationFrame_1 = require("./internal/scheduler/animationFrame");
    exports.animationFrameScheduler = animationFrame_1.animationFrame;
    var VirtualTimeScheduler_1 = require("./internal/scheduler/VirtualTimeScheduler");
    exports.VirtualTimeScheduler = VirtualTimeScheduler_1.VirtualTimeScheduler;
    exports.VirtualAction = VirtualTimeScheduler_1.VirtualAction;
    var Scheduler_1 = require("./internal/Scheduler");
    exports.Scheduler = Scheduler_1.Scheduler;
    var Subscription_1 = require("./internal/Subscription");
    exports.Subscription = Subscription_1.Subscription;
    var Subscriber_1 = require("./internal/Subscriber");
    exports.Subscriber = Subscriber_1.Subscriber;
    var Notification_1 = require("./internal/Notification");
    exports.Notification = Notification_1.Notification;
    var pipe_1 = require("./internal/util/pipe");
    exports.pipe = pipe_1.pipe;
    var noop_1 = require("./internal/util/noop");
    exports.noop = noop_1.noop;
    var identity_1 = require("./internal/util/identity");
    exports.identity = identity_1.identity;
    var isObservable_1 = require("./internal/util/isObservable");
    exports.isObservable = isObservable_1.isObservable;
    var ArgumentOutOfRangeError_1 = require("./internal/util/ArgumentOutOfRangeError");
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;
    var EmptyError_1 = require("./internal/util/EmptyError");
    exports.EmptyError = EmptyError_1.EmptyError;
    var ObjectUnsubscribedError_1 = require("./internal/util/ObjectUnsubscribedError");
    exports.ObjectUnsubscribedError = ObjectUnsubscribedError_1.ObjectUnsubscribedError;
    var UnsubscriptionError_1 = require("./internal/util/UnsubscriptionError");
    exports.UnsubscriptionError = UnsubscriptionError_1.UnsubscriptionError;
    var TimeoutError_1 = require("./internal/util/TimeoutError");
    exports.TimeoutError = TimeoutError_1.TimeoutError;
    var bindCallback_1 = require("./internal/observable/bindCallback");
    exports.bindCallback = bindCallback_1.bindCallback;
    var bindNodeCallback_1 = require("./internal/observable/bindNodeCallback");
    exports.bindNodeCallback = bindNodeCallback_1.bindNodeCallback;
    var combineLatest_1 = require("./internal/observable/combineLatest");
    exports.combineLatest = combineLatest_1.combineLatest;
    var concat_1 = require("./internal/observable/concat");
    exports.concat = concat_1.concat;
    var defer_1 = require("./internal/observable/defer");
    exports.defer = defer_1.defer;
    var empty_1 = require("./internal/observable/empty");
    exports.empty = empty_1.empty;
    var forkJoin_1 = require("./internal/observable/forkJoin");
    exports.forkJoin = forkJoin_1.forkJoin;
    var from_1 = require("./internal/observable/from");
    exports.from = from_1.from;
    var fromEvent_1 = require("./internal/observable/fromEvent");
    exports.fromEvent = fromEvent_1.fromEvent;
    var fromEventPattern_1 = require("./internal/observable/fromEventPattern");
    exports.fromEventPattern = fromEventPattern_1.fromEventPattern;
    var generate_1 = require("./internal/observable/generate");
    exports.generate = generate_1.generate;
    var iif_1 = require("./internal/observable/iif");
    exports.iif = iif_1.iif;
    var interval_1 = require("./internal/observable/interval");
    exports.interval = interval_1.interval;
    var merge_1 = require("./internal/observable/merge");
    exports.merge = merge_1.merge;
    var never_1 = require("./internal/observable/never");
    exports.never = never_1.never;
    var of_1 = require("./internal/observable/of");
    exports.of = of_1.of;
    var onErrorResumeNext_1 = require("./internal/observable/onErrorResumeNext");
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
    var pairs_1 = require("./internal/observable/pairs");
    exports.pairs = pairs_1.pairs;
    var race_1 = require("./internal/observable/race");
    exports.race = race_1.race;
    var range_1 = require("./internal/observable/range");
    exports.range = range_1.range;
    var throwError_1 = require("./internal/observable/throwError");
    exports.throwError = throwError_1.throwError;
    var timer_1 = require("./internal/observable/timer");
    exports.timer = timer_1.timer;
    var using_1 = require("./internal/observable/using");
    exports.using = using_1.using;
    var zip_1 = require("./internal/observable/zip");
    exports.zip = zip_1.zip;
    var empty_2 = require("./internal/observable/empty");
    exports.EMPTY = empty_2.EMPTY;
    var never_2 = require("./internal/observable/never");
    exports.NEVER = never_2.NEVER;
    var config_1 = require("./internal/config");
    exports.config = config_1.config;
  }, {
    "./internal/AsyncSubject": 37,
    "./internal/BehaviorSubject": 38,
    "./internal/Notification": 40,
    "./internal/Observable": 41,
    "./internal/ReplaySubject": 44,
    "./internal/Scheduler": 45,
    "./internal/Subject": 46,
    "./internal/Subscriber": 48,
    "./internal/Subscription": 49,
    "./internal/config": 50,
    "./internal/observable/ConnectableObservable": 51,
    "./internal/observable/bindCallback": 53,
    "./internal/observable/bindNodeCallback": 54,
    "./internal/observable/combineLatest": 55,
    "./internal/observable/concat": 56,
    "./internal/observable/defer": 57,
    "./internal/observable/empty": 58,
    "./internal/observable/forkJoin": 59,
    "./internal/observable/from": 60,
    "./internal/observable/fromEvent": 62,
    "./internal/observable/fromEventPattern": 63,
    "./internal/observable/generate": 67,
    "./internal/observable/iif": 68,
    "./internal/observable/interval": 69,
    "./internal/observable/merge": 70,
    "./internal/observable/never": 71,
    "./internal/observable/of": 72,
    "./internal/observable/onErrorResumeNext": 73,
    "./internal/observable/pairs": 74,
    "./internal/observable/race": 75,
    "./internal/observable/range": 76,
    "./internal/observable/throwError": 78,
    "./internal/observable/timer": 79,
    "./internal/observable/using": 80,
    "./internal/observable/zip": 81,
    "./internal/operators/groupBy": 117,
    "./internal/scheduler/VirtualTimeScheduler": 194,
    "./internal/scheduler/animationFrame": 195,
    "./internal/scheduler/asap": 196,
    "./internal/scheduler/async": 197,
    "./internal/scheduler/queue": 198,
    "./internal/symbol/observable": 200,
    "./internal/util/ArgumentOutOfRangeError": 202,
    "./internal/util/EmptyError": 203,
    "./internal/util/ObjectUnsubscribedError": 205,
    "./internal/util/TimeoutError": 206,
    "./internal/util/UnsubscriptionError": 207,
    "./internal/util/identity": 210,
    "./internal/util/isObservable": 219,
    "./internal/util/noop": 222,
    "./internal/util/pipe": 224
  } ],
  37: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var Subscription_1 = require("./Subscription");
    var AsyncSubject = function(_super) {
      __extends(AsyncSubject, _super);
      function AsyncSubject() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.value = null;
        _this.hasNext = false;
        _this.hasCompleted = false;
        return _this;
      }
      AsyncSubject.prototype._subscribe = function(subscriber) {
        if (this.hasError) {
          subscriber.error(this.thrownError);
          return Subscription_1.Subscription.EMPTY;
        }
        if (this.hasCompleted && this.hasNext) {
          subscriber.next(this.value);
          subscriber.complete();
          return Subscription_1.Subscription.EMPTY;
        }
        return _super.prototype._subscribe.call(this, subscriber);
      };
      AsyncSubject.prototype.next = function(value) {
        if (!this.hasCompleted) {
          this.value = value;
          this.hasNext = true;
        }
      };
      AsyncSubject.prototype.error = function(error) {
        this.hasCompleted || _super.prototype.error.call(this, error);
      };
      AsyncSubject.prototype.complete = function() {
        this.hasCompleted = true;
        this.hasNext && _super.prototype.next.call(this, this.value);
        _super.prototype.complete.call(this);
      };
      return AsyncSubject;
    }(Subject_1.Subject);
    exports.AsyncSubject = AsyncSubject;
  }, {
    "./Subject": 46,
    "./Subscription": 49
  } ],
  38: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var BehaviorSubject = function(_super) {
      __extends(BehaviorSubject, _super);
      function BehaviorSubject(_value) {
        var _this = _super.call(this) || this;
        _this._value = _value;
        return _this;
      }
      Object.defineProperty(BehaviorSubject.prototype, "value", {
        get: function() {
          return this.getValue();
        },
        enumerable: true,
        configurable: true
      });
      BehaviorSubject.prototype._subscribe = function(subscriber) {
        var subscription = _super.prototype._subscribe.call(this, subscriber);
        subscription && !subscription.closed && subscriber.next(this._value);
        return subscription;
      };
      BehaviorSubject.prototype.getValue = function() {
        if (this.hasError) throw this.thrownError;
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        return this._value;
      };
      BehaviorSubject.prototype.next = function(value) {
        _super.prototype.next.call(this, this._value = value);
      };
      return BehaviorSubject;
    }(Subject_1.Subject);
    exports.BehaviorSubject = BehaviorSubject;
  }, {
    "./Subject": 46,
    "./util/ObjectUnsubscribedError": 205
  } ],
  39: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("./Subscriber");
    var InnerSubscriber = function(_super) {
      __extends(InnerSubscriber, _super);
      function InnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        _this.index = 0;
        return _this;
      }
      InnerSubscriber.prototype._next = function(value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
      };
      InnerSubscriber.prototype._error = function(error) {
        this.parent.notifyError(error, this);
        this.unsubscribe();
      };
      InnerSubscriber.prototype._complete = function() {
        this.parent.notifyComplete(this);
        this.unsubscribe();
      };
      return InnerSubscriber;
    }(Subscriber_1.Subscriber);
    exports.InnerSubscriber = InnerSubscriber;
  }, {
    "./Subscriber": 48
  } ],
  40: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var empty_1 = require("./observable/empty");
    var of_1 = require("./observable/of");
    var throwError_1 = require("./observable/throwError");
    var NotificationKind;
    (function(NotificationKind) {
      NotificationKind["NEXT"] = "N";
      NotificationKind["ERROR"] = "E";
      NotificationKind["COMPLETE"] = "C";
    })(NotificationKind = exports.NotificationKind || (exports.NotificationKind = {}));
    var Notification = function() {
      function Notification(kind, value, error) {
        this.kind = kind;
        this.value = value;
        this.error = error;
        this.hasValue = "N" === kind;
      }
      Notification.prototype.observe = function(observer) {
        switch (this.kind) {
         case "N":
          return observer.next && observer.next(this.value);

         case "E":
          return observer.error && observer.error(this.error);

         case "C":
          return observer.complete && observer.complete();
        }
      };
      Notification.prototype.do = function(next, error, complete) {
        var kind = this.kind;
        switch (kind) {
         case "N":
          return next && next(this.value);

         case "E":
          return error && error(this.error);

         case "C":
          return complete && complete();
        }
      };
      Notification.prototype.accept = function(nextOrObserver, error, complete) {
        return nextOrObserver && "function" === typeof nextOrObserver.next ? this.observe(nextOrObserver) : this.do(nextOrObserver, error, complete);
      };
      Notification.prototype.toObservable = function() {
        var kind = this.kind;
        switch (kind) {
         case "N":
          return of_1.of(this.value);

         case "E":
          return throwError_1.throwError(this.error);

         case "C":
          return empty_1.empty();
        }
        throw new Error("unexpected notification kind value");
      };
      Notification.createNext = function(value) {
        if ("undefined" !== typeof value) return new Notification("N", value);
        return Notification.undefinedValueNotification;
      };
      Notification.createError = function(err) {
        return new Notification("E", void 0, err);
      };
      Notification.createComplete = function() {
        return Notification.completeNotification;
      };
      Notification.completeNotification = new Notification("C");
      Notification.undefinedValueNotification = new Notification("N", void 0);
      return Notification;
    }();
    exports.Notification = Notification;
  }, {
    "./observable/empty": 58,
    "./observable/of": 72,
    "./observable/throwError": 78
  } ],
  41: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var canReportError_1 = require("./util/canReportError");
    var toSubscriber_1 = require("./util/toSubscriber");
    var observable_1 = require("../internal/symbol/observable");
    var pipe_1 = require("./util/pipe");
    var config_1 = require("./config");
    var Observable = function() {
      function Observable(subscribe) {
        this._isScalar = false;
        subscribe && (this._subscribe = subscribe);
      }
      Observable.prototype.lift = function(operator) {
        var observable = new Observable();
        observable.source = this;
        observable.operator = operator;
        return observable;
      };
      Observable.prototype.subscribe = function(observerOrNext, error, complete) {
        var operator = this.operator;
        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);
        operator ? sink.add(operator.call(sink, this.source)) : sink.add(this.source || config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));
        if (config_1.config.useDeprecatedSynchronousErrorHandling && sink.syncErrorThrowable) {
          sink.syncErrorThrowable = false;
          if (sink.syncErrorThrown) throw sink.syncErrorValue;
        }
        return sink;
      };
      Observable.prototype._trySubscribe = function(sink) {
        try {
          return this._subscribe(sink);
        } catch (err) {
          if (config_1.config.useDeprecatedSynchronousErrorHandling) {
            sink.syncErrorThrown = true;
            sink.syncErrorValue = err;
          }
          canReportError_1.canReportError(sink) ? sink.error(err) : console.warn(err);
        }
      };
      Observable.prototype.forEach = function(next, promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function(resolve, reject) {
          var subscription;
          subscription = _this.subscribe(function(value) {
            try {
              next(value);
            } catch (err) {
              reject(err);
              subscription && subscription.unsubscribe();
            }
          }, reject, resolve);
        });
      };
      Observable.prototype._subscribe = function(subscriber) {
        var source = this.source;
        return source && source.subscribe(subscriber);
      };
      Observable.prototype[observable_1.observable] = function() {
        return this;
      };
      Observable.prototype.pipe = function() {
        var operations = [];
        for (var _i = 0; _i < arguments.length; _i++) operations[_i] = arguments[_i];
        if (0 === operations.length) return this;
        return pipe_1.pipeFromArray(operations)(this);
      };
      Observable.prototype.toPromise = function(promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function(resolve, reject) {
          var value;
          _this.subscribe(function(x) {
            return value = x;
          }, function(err) {
            return reject(err);
          }, function() {
            return resolve(value);
          });
        });
      };
      Observable.create = function(subscribe) {
        return new Observable(subscribe);
      };
      return Observable;
    }();
    exports.Observable = Observable;
    function getPromiseCtor(promiseCtor) {
      promiseCtor || (promiseCtor = config_1.config.Promise || Promise);
      if (!promiseCtor) throw new Error("no Promise impl found");
      return promiseCtor;
    }
  }, {
    "../internal/symbol/observable": 200,
    "./config": 50,
    "./util/canReportError": 208,
    "./util/pipe": 224,
    "./util/toSubscriber": 231
  } ],
  42: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var config_1 = require("./config");
    var hostReportError_1 = require("./util/hostReportError");
    exports.empty = {
      closed: true,
      next: function(value) {},
      error: function(err) {
        if (config_1.config.useDeprecatedSynchronousErrorHandling) throw err;
        hostReportError_1.hostReportError(err);
      },
      complete: function() {}
    };
  }, {
    "./config": 50,
    "./util/hostReportError": 209
  } ],
  43: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("./Subscriber");
    var OuterSubscriber = function(_super) {
      __extends(OuterSubscriber, _super);
      function OuterSubscriber() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      OuterSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      OuterSubscriber.prototype.notifyError = function(error, innerSub) {
        this.destination.error(error);
      };
      OuterSubscriber.prototype.notifyComplete = function(innerSub) {
        this.destination.complete();
      };
      return OuterSubscriber;
    }(Subscriber_1.Subscriber);
    exports.OuterSubscriber = OuterSubscriber;
  }, {
    "./Subscriber": 48
  } ],
  44: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("./Subject");
    var queue_1 = require("./scheduler/queue");
    var Subscription_1 = require("./Subscription");
    var observeOn_1 = require("./operators/observeOn");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var SubjectSubscription_1 = require("./SubjectSubscription");
    var ReplaySubject = function(_super) {
      __extends(ReplaySubject, _super);
      function ReplaySubject(bufferSize, windowTime, scheduler) {
        void 0 === bufferSize && (bufferSize = Number.POSITIVE_INFINITY);
        void 0 === windowTime && (windowTime = Number.POSITIVE_INFINITY);
        var _this = _super.call(this) || this;
        _this.scheduler = scheduler;
        _this._events = [];
        _this._infiniteTimeWindow = false;
        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;
        _this._windowTime = windowTime < 1 ? 1 : windowTime;
        if (windowTime === Number.POSITIVE_INFINITY) {
          _this._infiniteTimeWindow = true;
          _this.next = _this.nextInfiniteTimeWindow;
        } else _this.next = _this.nextTimeWindow;
        return _this;
      }
      ReplaySubject.prototype.nextInfiniteTimeWindow = function(value) {
        var _events = this._events;
        _events.push(value);
        _events.length > this._bufferSize && _events.shift();
        _super.prototype.next.call(this, value);
      };
      ReplaySubject.prototype.nextTimeWindow = function(value) {
        this._events.push(new ReplayEvent(this._getNow(), value));
        this._trimBufferThenGetEvents();
        _super.prototype.next.call(this, value);
      };
      ReplaySubject.prototype._subscribe = function(subscriber) {
        var _infiniteTimeWindow = this._infiniteTimeWindow;
        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();
        var scheduler = this.scheduler;
        var len = _events.length;
        var subscription;
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (this.isStopped || this.hasError) subscription = Subscription_1.Subscription.EMPTY; else {
          this.observers.push(subscriber);
          subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);
        }
        scheduler && subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));
        if (_infiniteTimeWindow) for (var i = 0; i < len && !subscriber.closed; i++) subscriber.next(_events[i]); else for (var i = 0; i < len && !subscriber.closed; i++) subscriber.next(_events[i].value);
        this.hasError ? subscriber.error(this.thrownError) : this.isStopped && subscriber.complete();
        return subscription;
      };
      ReplaySubject.prototype._getNow = function() {
        return (this.scheduler || queue_1.queue).now();
      };
      ReplaySubject.prototype._trimBufferThenGetEvents = function() {
        var now = this._getNow();
        var _bufferSize = this._bufferSize;
        var _windowTime = this._windowTime;
        var _events = this._events;
        var eventsCount = _events.length;
        var spliceCount = 0;
        while (spliceCount < eventsCount) {
          if (now - _events[spliceCount].time < _windowTime) break;
          spliceCount++;
        }
        eventsCount > _bufferSize && (spliceCount = Math.max(spliceCount, eventsCount - _bufferSize));
        spliceCount > 0 && _events.splice(0, spliceCount);
        return _events;
      };
      return ReplaySubject;
    }(Subject_1.Subject);
    exports.ReplaySubject = ReplaySubject;
    var ReplayEvent = function() {
      function ReplayEvent(time, value) {
        this.time = time;
        this.value = value;
      }
      return ReplayEvent;
    }();
  }, {
    "./Subject": 46,
    "./SubjectSubscription": 47,
    "./Subscription": 49,
    "./operators/observeOn": 132,
    "./scheduler/queue": 198,
    "./util/ObjectUnsubscribedError": 205
  } ],
  45: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Scheduler = function() {
      function Scheduler(SchedulerAction, now) {
        void 0 === now && (now = Scheduler.now);
        this.SchedulerAction = SchedulerAction;
        this.now = now;
      }
      Scheduler.prototype.schedule = function(work, delay, state) {
        void 0 === delay && (delay = 0);
        return new this.SchedulerAction(this, work).schedule(state, delay);
      };
      Scheduler.now = function() {
        return Date.now();
      };
      return Scheduler;
    }();
    exports.Scheduler = Scheduler;
  }, {} ],
  46: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("./Observable");
    var Subscriber_1 = require("./Subscriber");
    var Subscription_1 = require("./Subscription");
    var ObjectUnsubscribedError_1 = require("./util/ObjectUnsubscribedError");
    var SubjectSubscription_1 = require("./SubjectSubscription");
    var rxSubscriber_1 = require("../internal/symbol/rxSubscriber");
    var SubjectSubscriber = function(_super) {
      __extends(SubjectSubscriber, _super);
      function SubjectSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        return _this;
      }
      return SubjectSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SubjectSubscriber = SubjectSubscriber;
    var Subject = function(_super) {
      __extends(Subject, _super);
      function Subject() {
        var _this = _super.call(this) || this;
        _this.observers = [];
        _this.closed = false;
        _this.isStopped = false;
        _this.hasError = false;
        _this.thrownError = null;
        return _this;
      }
      Subject.prototype[rxSubscriber_1.rxSubscriber] = function() {
        return new SubjectSubscriber(this);
      };
      Subject.prototype.lift = function(operator) {
        var subject = new AnonymousSubject(this, this);
        subject.operator = operator;
        return subject;
      };
      Subject.prototype.next = function(value) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (!this.isStopped) {
          var observers = this.observers;
          var len = observers.length;
          var copy = observers.slice();
          for (var i = 0; i < len; i++) copy[i].next(value);
        }
      };
      Subject.prototype.error = function(err) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        this.hasError = true;
        this.thrownError = err;
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) copy[i].error(err);
        this.observers.length = 0;
      };
      Subject.prototype.complete = function() {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) copy[i].complete();
        this.observers.length = 0;
      };
      Subject.prototype.unsubscribe = function() {
        this.isStopped = true;
        this.closed = true;
        this.observers = null;
      };
      Subject.prototype._trySubscribe = function(subscriber) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        return _super.prototype._trySubscribe.call(this, subscriber);
      };
      Subject.prototype._subscribe = function(subscriber) {
        if (this.closed) throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
        if (this.hasError) {
          subscriber.error(this.thrownError);
          return Subscription_1.Subscription.EMPTY;
        }
        if (this.isStopped) {
          subscriber.complete();
          return Subscription_1.Subscription.EMPTY;
        }
        this.observers.push(subscriber);
        return new SubjectSubscription_1.SubjectSubscription(this, subscriber);
      };
      Subject.prototype.asObservable = function() {
        var observable = new Observable_1.Observable();
        observable.source = this;
        return observable;
      };
      Subject.create = function(destination, source) {
        return new AnonymousSubject(destination, source);
      };
      return Subject;
    }(Observable_1.Observable);
    exports.Subject = Subject;
    var AnonymousSubject = function(_super) {
      __extends(AnonymousSubject, _super);
      function AnonymousSubject(destination, source) {
        var _this = _super.call(this) || this;
        _this.destination = destination;
        _this.source = source;
        return _this;
      }
      AnonymousSubject.prototype.next = function(value) {
        var destination = this.destination;
        destination && destination.next && destination.next(value);
      };
      AnonymousSubject.prototype.error = function(err) {
        var destination = this.destination;
        destination && destination.error && this.destination.error(err);
      };
      AnonymousSubject.prototype.complete = function() {
        var destination = this.destination;
        destination && destination.complete && this.destination.complete();
      };
      AnonymousSubject.prototype._subscribe = function(subscriber) {
        var source = this.source;
        return source ? this.source.subscribe(subscriber) : Subscription_1.Subscription.EMPTY;
      };
      return AnonymousSubject;
    }(Subject);
    exports.AnonymousSubject = AnonymousSubject;
  }, {
    "../internal/symbol/rxSubscriber": 201,
    "./Observable": 41,
    "./SubjectSubscription": 47,
    "./Subscriber": 48,
    "./Subscription": 49,
    "./util/ObjectUnsubscribedError": 205
  } ],
  47: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("./Subscription");
    var SubjectSubscription = function(_super) {
      __extends(SubjectSubscription, _super);
      function SubjectSubscription(subject, subscriber) {
        var _this = _super.call(this) || this;
        _this.subject = subject;
        _this.subscriber = subscriber;
        _this.closed = false;
        return _this;
      }
      SubjectSubscription.prototype.unsubscribe = function() {
        if (this.closed) return;
        this.closed = true;
        var subject = this.subject;
        var observers = subject.observers;
        this.subject = null;
        if (!observers || 0 === observers.length || subject.isStopped || subject.closed) return;
        var subscriberIndex = observers.indexOf(this.subscriber);
        -1 !== subscriberIndex && observers.splice(subscriberIndex, 1);
      };
      return SubjectSubscription;
    }(Subscription_1.Subscription);
    exports.SubjectSubscription = SubjectSubscription;
  }, {
    "./Subscription": 49
  } ],
  48: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isFunction_1 = require("./util/isFunction");
    var Observer_1 = require("./Observer");
    var Subscription_1 = require("./Subscription");
    var rxSubscriber_1 = require("../internal/symbol/rxSubscriber");
    var config_1 = require("./config");
    var hostReportError_1 = require("./util/hostReportError");
    var Subscriber = function(_super) {
      __extends(Subscriber, _super);
      function Subscriber(destinationOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this.syncErrorValue = null;
        _this.syncErrorThrown = false;
        _this.syncErrorThrowable = false;
        _this.isStopped = false;
        switch (arguments.length) {
         case 0:
          _this.destination = Observer_1.empty;
          break;

         case 1:
          if (!destinationOrNext) {
            _this.destination = Observer_1.empty;
            break;
          }
          if ("object" === typeof destinationOrNext) {
            if (destinationOrNext instanceof Subscriber) {
              _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;
              _this.destination = destinationOrNext;
              destinationOrNext.add(_this);
            } else {
              _this.syncErrorThrowable = true;
              _this.destination = new SafeSubscriber(_this, destinationOrNext);
            }
            break;
          }

         default:
          _this.syncErrorThrowable = true;
          _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);
        }
        return _this;
      }
      Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function() {
        return this;
      };
      Subscriber.create = function(next, error, complete) {
        var subscriber = new Subscriber(next, error, complete);
        subscriber.syncErrorThrowable = false;
        return subscriber;
      };
      Subscriber.prototype.next = function(value) {
        this.isStopped || this._next(value);
      };
      Subscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          this.isStopped = true;
          this._error(err);
        }
      };
      Subscriber.prototype.complete = function() {
        if (!this.isStopped) {
          this.isStopped = true;
          this._complete();
        }
      };
      Subscriber.prototype.unsubscribe = function() {
        if (this.closed) return;
        this.isStopped = true;
        _super.prototype.unsubscribe.call(this);
      };
      Subscriber.prototype._next = function(value) {
        this.destination.next(value);
      };
      Subscriber.prototype._error = function(err) {
        this.destination.error(err);
        this.unsubscribe();
      };
      Subscriber.prototype._complete = function() {
        this.destination.complete();
        this.unsubscribe();
      };
      Subscriber.prototype._unsubscribeAndRecycle = function() {
        var _a = this, _parent = _a._parent, _parents = _a._parents;
        this._parent = null;
        this._parents = null;
        this.unsubscribe();
        this.closed = false;
        this.isStopped = false;
        this._parent = _parent;
        this._parents = _parents;
        return this;
      };
      return Subscriber;
    }(Subscription_1.Subscription);
    exports.Subscriber = Subscriber;
    var SafeSubscriber = function(_super) {
      __extends(SafeSubscriber, _super);
      function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this._parentSubscriber = _parentSubscriber;
        var next;
        var context = _this;
        if (isFunction_1.isFunction(observerOrNext)) next = observerOrNext; else if (observerOrNext) {
          next = observerOrNext.next;
          error = observerOrNext.error;
          complete = observerOrNext.complete;
          if (observerOrNext !== Observer_1.empty) {
            context = Object.create(observerOrNext);
            isFunction_1.isFunction(context.unsubscribe) && _this.add(context.unsubscribe.bind(context));
            context.unsubscribe = _this.unsubscribe.bind(_this);
          }
        }
        _this._context = context;
        _this._next = next;
        _this._error = error;
        _this._complete = complete;
        return _this;
      }
      SafeSubscriber.prototype.next = function(value) {
        if (!this.isStopped && this._next) {
          var _parentSubscriber = this._parentSubscriber;
          config_1.config.useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable ? this.__tryOrSetError(_parentSubscriber, this._next, value) && this.unsubscribe() : this.__tryOrUnsub(this._next, value);
        }
      };
      SafeSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var _parentSubscriber = this._parentSubscriber;
          var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;
          if (this._error) if (useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable) {
            this.__tryOrSetError(_parentSubscriber, this._error, err);
            this.unsubscribe();
          } else {
            this.__tryOrUnsub(this._error, err);
            this.unsubscribe();
          } else if (_parentSubscriber.syncErrorThrowable) {
            if (useDeprecatedSynchronousErrorHandling) {
              _parentSubscriber.syncErrorValue = err;
              _parentSubscriber.syncErrorThrown = true;
            } else hostReportError_1.hostReportError(err);
            this.unsubscribe();
          } else {
            this.unsubscribe();
            if (useDeprecatedSynchronousErrorHandling) throw err;
            hostReportError_1.hostReportError(err);
          }
        }
      };
      SafeSubscriber.prototype.complete = function() {
        var _this = this;
        if (!this.isStopped) {
          var _parentSubscriber = this._parentSubscriber;
          if (this._complete) {
            var wrappedComplete = function() {
              return _this._complete.call(_this._context);
            };
            if (config_1.config.useDeprecatedSynchronousErrorHandling && _parentSubscriber.syncErrorThrowable) {
              this.__tryOrSetError(_parentSubscriber, wrappedComplete);
              this.unsubscribe();
            } else {
              this.__tryOrUnsub(wrappedComplete);
              this.unsubscribe();
            }
          } else this.unsubscribe();
        }
      };
      SafeSubscriber.prototype.__tryOrUnsub = function(fn, value) {
        try {
          fn.call(this._context, value);
        } catch (err) {
          this.unsubscribe();
          if (config_1.config.useDeprecatedSynchronousErrorHandling) throw err;
          hostReportError_1.hostReportError(err);
        }
      };
      SafeSubscriber.prototype.__tryOrSetError = function(parent, fn, value) {
        if (!config_1.config.useDeprecatedSynchronousErrorHandling) throw new Error("bad call");
        try {
          fn.call(this._context, value);
        } catch (err) {
          if (config_1.config.useDeprecatedSynchronousErrorHandling) {
            parent.syncErrorValue = err;
            parent.syncErrorThrown = true;
            return true;
          }
          hostReportError_1.hostReportError(err);
          return true;
        }
        return false;
      };
      SafeSubscriber.prototype._unsubscribe = function() {
        var _parentSubscriber = this._parentSubscriber;
        this._context = null;
        this._parentSubscriber = null;
        _parentSubscriber.unsubscribe();
      };
      return SafeSubscriber;
    }(Subscriber);
    exports.SafeSubscriber = SafeSubscriber;
  }, {
    "../internal/symbol/rxSubscriber": 201,
    "./Observer": 42,
    "./Subscription": 49,
    "./config": 50,
    "./util/hostReportError": 209,
    "./util/isFunction": 214
  } ],
  49: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("./util/isArray");
    var isObject_1 = require("./util/isObject");
    var isFunction_1 = require("./util/isFunction");
    var UnsubscriptionError_1 = require("./util/UnsubscriptionError");
    var Subscription = function() {
      function Subscription(unsubscribe) {
        this.closed = false;
        this._parent = null;
        this._parents = null;
        this._subscriptions = null;
        unsubscribe && (this._unsubscribe = unsubscribe);
      }
      Subscription.prototype.unsubscribe = function() {
        var hasErrors = false;
        var errors;
        if (this.closed) return;
        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;
        this.closed = true;
        this._parent = null;
        this._parents = null;
        this._subscriptions = null;
        var index = -1;
        var len = _parents ? _parents.length : 0;
        while (_parent) {
          _parent.remove(this);
          _parent = ++index < len && _parents[index] || null;
        }
        if (isFunction_1.isFunction(_unsubscribe)) try {
          _unsubscribe.call(this);
        } catch (e) {
          hasErrors = true;
          errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [ e ];
        }
        if (isArray_1.isArray(_subscriptions)) {
          index = -1;
          len = _subscriptions.length;
          while (++index < len) {
            var sub = _subscriptions[index];
            if (isObject_1.isObject(sub)) try {
              sub.unsubscribe();
            } catch (e) {
              hasErrors = true;
              errors = errors || [];
              e instanceof UnsubscriptionError_1.UnsubscriptionError ? errors = errors.concat(flattenUnsubscriptionErrors(e.errors)) : errors.push(e);
            }
          }
        }
        if (hasErrors) throw new UnsubscriptionError_1.UnsubscriptionError(errors);
      };
      Subscription.prototype.add = function(teardown) {
        var subscription = teardown;
        switch (typeof teardown) {
         case "function":
          subscription = new Subscription(teardown);

         case "object":
          if (subscription === this || subscription.closed || "function" !== typeof subscription.unsubscribe) return subscription;
          if (this.closed) {
            subscription.unsubscribe();
            return subscription;
          }
          if (!(subscription instanceof Subscription)) {
            var tmp = subscription;
            subscription = new Subscription();
            subscription._subscriptions = [ tmp ];
          }
          break;

         default:
          if (!teardown) return Subscription.EMPTY;
          throw new Error("unrecognized teardown " + teardown + " added to Subscription.");
        }
        if (subscription._addParent(this)) {
          var subscriptions = this._subscriptions;
          subscriptions ? subscriptions.push(subscription) : this._subscriptions = [ subscription ];
        }
        return subscription;
      };
      Subscription.prototype.remove = function(subscription) {
        var subscriptions = this._subscriptions;
        if (subscriptions) {
          var subscriptionIndex = subscriptions.indexOf(subscription);
          -1 !== subscriptionIndex && subscriptions.splice(subscriptionIndex, 1);
        }
      };
      Subscription.prototype._addParent = function(parent) {
        var _a = this, _parent = _a._parent, _parents = _a._parents;
        if (_parent === parent) return false;
        if (!_parent) {
          this._parent = parent;
          return true;
        }
        if (!_parents) {
          this._parents = [ parent ];
          return true;
        }
        if (-1 === _parents.indexOf(parent)) {
          _parents.push(parent);
          return true;
        }
        return false;
      };
      Subscription.EMPTY = function(empty) {
        empty.closed = true;
        return empty;
      }(new Subscription());
      return Subscription;
    }();
    exports.Subscription = Subscription;
    function flattenUnsubscriptionErrors(errors) {
      return errors.reduce(function(errs, err) {
        return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError ? err.errors : err);
      }, []);
    }
  }, {
    "./util/UnsubscriptionError": 207,
    "./util/isArray": 211,
    "./util/isFunction": 214,
    "./util/isObject": 218
  } ],
  50: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _enable_super_gross_mode_that_will_cause_bad_things = false;
    exports.config = {
      Promise: void 0,
      set useDeprecatedSynchronousErrorHandling(value) {
        if (value) {
          var error = new Error();
          console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n" + error.stack);
        } else _enable_super_gross_mode_that_will_cause_bad_things && console.log("RxJS: Back to a better error behavior. Thank you. <3");
        _enable_super_gross_mode_that_will_cause_bad_things = value;
      },
      get useDeprecatedSynchronousErrorHandling() {
        return _enable_super_gross_mode_that_will_cause_bad_things;
      }
    };
  }, {} ],
  51: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var Observable_1 = require("../Observable");
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    var refCount_1 = require("../operators/refCount");
    var ConnectableObservable = function(_super) {
      __extends(ConnectableObservable, _super);
      function ConnectableObservable(source, subjectFactory) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subjectFactory = subjectFactory;
        _this._refCount = 0;
        _this._isComplete = false;
        return _this;
      }
      ConnectableObservable.prototype._subscribe = function(subscriber) {
        return this.getSubject().subscribe(subscriber);
      };
      ConnectableObservable.prototype.getSubject = function() {
        var subject = this._subject;
        subject && !subject.isStopped || (this._subject = this.subjectFactory());
        return this._subject;
      };
      ConnectableObservable.prototype.connect = function() {
        var connection = this._connection;
        if (!connection) {
          this._isComplete = false;
          connection = this._connection = new Subscription_1.Subscription();
          connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(), this)));
          if (connection.closed) {
            this._connection = null;
            connection = Subscription_1.Subscription.EMPTY;
          } else this._connection = connection;
        }
        return connection;
      };
      ConnectableObservable.prototype.refCount = function() {
        return refCount_1.refCount()(this);
      };
      return ConnectableObservable;
    }(Observable_1.Observable);
    exports.ConnectableObservable = ConnectableObservable;
    var connectableProto = ConnectableObservable.prototype;
    exports.connectableObservableDescriptor = {
      operator: {
        value: null
      },
      _refCount: {
        value: 0,
        writable: true
      },
      _subject: {
        value: null,
        writable: true
      },
      _connection: {
        value: null,
        writable: true
      },
      _subscribe: {
        value: connectableProto._subscribe
      },
      _isComplete: {
        value: connectableProto._isComplete,
        writable: true
      },
      getSubject: {
        value: connectableProto.getSubject
      },
      connect: {
        value: connectableProto.connect
      },
      refCount: {
        value: connectableProto.refCount
      }
    };
    var ConnectableSubscriber = function(_super) {
      __extends(ConnectableSubscriber, _super);
      function ConnectableSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      ConnectableSubscriber.prototype._error = function(err) {
        this._unsubscribe();
        _super.prototype._error.call(this, err);
      };
      ConnectableSubscriber.prototype._complete = function() {
        this.connectable._isComplete = true;
        this._unsubscribe();
        _super.prototype._complete.call(this);
      };
      ConnectableSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (connectable) {
          this.connectable = null;
          var connection = connectable._connection;
          connectable._refCount = 0;
          connectable._subject = null;
          connectable._connection = null;
          connection && connection.unsubscribe();
        }
      };
      return ConnectableSubscriber;
    }(Subject_1.SubjectSubscriber);
    var RefCountOperator = function() {
      function RefCountOperator(connectable) {
        this.connectable = connectable;
      }
      RefCountOperator.prototype.call = function(subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        refCounter.closed || (refCounter.connection = connectable.connect());
        return subscription;
      };
      return RefCountOperator;
    }();
    var RefCountSubscriber = function(_super) {
      __extends(RefCountSubscriber, _super);
      function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      RefCountSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (!connectable) {
          this.connection = null;
          return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
          this.connection = null;
          return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
          this.connection = null;
          return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
      };
      return RefCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Observable": 41,
    "../Subject": 46,
    "../Subscriber": 48,
    "../Subscription": 49,
    "../operators/refCount": 143
  } ],
  52: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var asap_1 = require("../scheduler/asap");
    var isNumeric_1 = require("../util/isNumeric");
    var SubscribeOnObservable = function(_super) {
      __extends(SubscribeOnObservable, _super);
      function SubscribeOnObservable(source, delayTime, scheduler) {
        void 0 === delayTime && (delayTime = 0);
        void 0 === scheduler && (scheduler = asap_1.asap);
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.delayTime = delayTime;
        _this.scheduler = scheduler;
        (!isNumeric_1.isNumeric(delayTime) || delayTime < 0) && (_this.delayTime = 0);
        scheduler && "function" === typeof scheduler.schedule || (_this.scheduler = asap_1.asap);
        return _this;
      }
      SubscribeOnObservable.create = function(source, delay, scheduler) {
        void 0 === delay && (delay = 0);
        void 0 === scheduler && (scheduler = asap_1.asap);
        return new SubscribeOnObservable(source, delay, scheduler);
      };
      SubscribeOnObservable.dispatch = function(arg) {
        var source = arg.source, subscriber = arg.subscriber;
        return this.add(source.subscribe(subscriber));
      };
      SubscribeOnObservable.prototype._subscribe = function(subscriber) {
        var delay = this.delayTime;
        var source = this.source;
        var scheduler = this.scheduler;
        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {
          source: source,
          subscriber: subscriber
        });
      };
      return SubscribeOnObservable;
    }(Observable_1.Observable);
    exports.SubscribeOnObservable = SubscribeOnObservable;
  }, {
    "../Observable": 41,
    "../scheduler/asap": 196,
    "../util/isNumeric": 217
  } ],
  53: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var AsyncSubject_1 = require("../AsyncSubject");
    var map_1 = require("../operators/map");
    var canReportError_1 = require("../util/canReportError");
    var isArray_1 = require("../util/isArray");
    var isScheduler_1 = require("../util/isScheduler");
    function bindCallback(callbackFunc, resultSelector, scheduler) {
      if (resultSelector) {
        if (!isScheduler_1.isScheduler(resultSelector)) return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
          return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map_1.map(function(args) {
            return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
          }));
        };
        scheduler = resultSelector;
      }
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        var context = this;
        var subject;
        var params = {
          context: context,
          subject: subject,
          callbackFunc: callbackFunc,
          scheduler: scheduler
        };
        return new Observable_1.Observable(function(subscriber) {
          if (scheduler) {
            var state = {
              args: args,
              subscriber: subscriber,
              params: params
            };
            return scheduler.schedule(dispatch, 0, state);
          }
          if (!subject) {
            subject = new AsyncSubject_1.AsyncSubject();
            var handler = function() {
              var innerArgs = [];
              for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
              subject.complete();
            };
            try {
              callbackFunc.apply(context, args.concat([ handler ]));
            } catch (err) {
              canReportError_1.canReportError(subject) ? subject.error(err) : console.warn(err);
            }
          }
          return subject.subscribe(subscriber);
        });
      };
    }
    exports.bindCallback = bindCallback;
    function dispatch(state) {
      var _this = this;
      var self = this;
      var args = state.args, subscriber = state.subscriber, params = state.params;
      var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;
      var subject = params.subject;
      if (!subject) {
        subject = params.subject = new AsyncSubject_1.AsyncSubject();
        var handler = function() {
          var innerArgs = [];
          for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
          var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
          _this.add(scheduler.schedule(dispatchNext, 0, {
            value: value,
            subject: subject
          }));
        };
        try {
          callbackFunc.apply(context, args.concat([ handler ]));
        } catch (err) {
          subject.error(err);
        }
      }
      this.add(subject.subscribe(subscriber));
    }
    function dispatchNext(state) {
      var value = state.value, subject = state.subject;
      subject.next(value);
      subject.complete();
    }
    function dispatchError(state) {
      var err = state.err, subject = state.subject;
      subject.error(err);
    }
  }, {
    "../AsyncSubject": 37,
    "../Observable": 41,
    "../operators/map": 121,
    "../util/canReportError": 208,
    "../util/isArray": 211,
    "../util/isScheduler": 221
  } ],
  54: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var AsyncSubject_1 = require("../AsyncSubject");
    var map_1 = require("../operators/map");
    var canReportError_1 = require("../util/canReportError");
    var isScheduler_1 = require("../util/isScheduler");
    var isArray_1 = require("../util/isArray");
    function bindNodeCallback(callbackFunc, resultSelector, scheduler) {
      if (resultSelector) {
        if (!isScheduler_1.isScheduler(resultSelector)) return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
          return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(map_1.map(function(args) {
            return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
          }));
        };
        scheduler = resultSelector;
      }
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        var params = {
          subject: void 0,
          args: args,
          callbackFunc: callbackFunc,
          scheduler: scheduler,
          context: this
        };
        return new Observable_1.Observable(function(subscriber) {
          var context = params.context;
          var subject = params.subject;
          if (scheduler) return scheduler.schedule(dispatch, 0, {
            params: params,
            subscriber: subscriber,
            context: context
          });
          if (!subject) {
            subject = params.subject = new AsyncSubject_1.AsyncSubject();
            var handler = function() {
              var innerArgs = [];
              for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
              var err = innerArgs.shift();
              if (err) {
                subject.error(err);
                return;
              }
              subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
              subject.complete();
            };
            try {
              callbackFunc.apply(context, args.concat([ handler ]));
            } catch (err) {
              canReportError_1.canReportError(subject) ? subject.error(err) : console.warn(err);
            }
          }
          return subject.subscribe(subscriber);
        });
      };
    }
    exports.bindNodeCallback = bindNodeCallback;
    function dispatch(state) {
      var _this = this;
      var params = state.params, subscriber = state.subscriber, context = state.context;
      var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;
      var subject = params.subject;
      if (!subject) {
        subject = params.subject = new AsyncSubject_1.AsyncSubject();
        var handler = function() {
          var innerArgs = [];
          for (var _i = 0; _i < arguments.length; _i++) innerArgs[_i] = arguments[_i];
          var err = innerArgs.shift();
          if (err) _this.add(scheduler.schedule(dispatchError, 0, {
            err: err,
            subject: subject
          })); else {
            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
            _this.add(scheduler.schedule(dispatchNext, 0, {
              value: value,
              subject: subject
            }));
          }
        };
        try {
          callbackFunc.apply(context, args.concat([ handler ]));
        } catch (err) {
          this.add(scheduler.schedule(dispatchError, 0, {
            err: err,
            subject: subject
          }));
        }
      }
      this.add(subject.subscribe(subscriber));
    }
    function dispatchNext(arg) {
      var value = arg.value, subject = arg.subject;
      subject.next(value);
      subject.complete();
    }
    function dispatchError(arg) {
      var err = arg.err, subject = arg.subject;
      subject.error(err);
    }
  }, {
    "../AsyncSubject": 37,
    "../Observable": 41,
    "../operators/map": 121,
    "../util/canReportError": 208,
    "../util/isArray": 211,
    "../util/isScheduler": 221
  } ],
  55: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isScheduler_1 = require("../util/isScheduler");
    var isArray_1 = require("../util/isArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var fromArray_1 = require("./fromArray");
    var NONE = {};
    function combineLatest() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var resultSelector = null;
      var scheduler = null;
      isScheduler_1.isScheduler(observables[observables.length - 1]) && (scheduler = observables.pop());
      "function" === typeof observables[observables.length - 1] && (resultSelector = observables.pop());
      1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]);
      return fromArray_1.fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));
    }
    exports.combineLatest = combineLatest;
    var CombineLatestOperator = function() {
      function CombineLatestOperator(resultSelector) {
        this.resultSelector = resultSelector;
      }
      CombineLatestOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));
      };
      return CombineLatestOperator;
    }();
    exports.CombineLatestOperator = CombineLatestOperator;
    var CombineLatestSubscriber = function(_super) {
      __extends(CombineLatestSubscriber, _super);
      function CombineLatestSubscriber(destination, resultSelector) {
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.active = 0;
        _this.values = [];
        _this.observables = [];
        return _this;
      }
      CombineLatestSubscriber.prototype._next = function(observable) {
        this.values.push(NONE);
        this.observables.push(observable);
      };
      CombineLatestSubscriber.prototype._complete = function() {
        var observables = this.observables;
        var len = observables.length;
        if (0 === len) this.destination.complete(); else {
          this.active = len;
          this.toRespond = len;
          for (var i = 0; i < len; i++) {
            var observable = observables[i];
            this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));
          }
        }
      };
      CombineLatestSubscriber.prototype.notifyComplete = function(unused) {
        0 === (this.active -= 1) && this.destination.complete();
      };
      CombineLatestSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var values = this.values;
        var oldVal = values[outerIndex];
        var toRespond = this.toRespond ? oldVal === NONE ? --this.toRespond : this.toRespond : 0;
        values[outerIndex] = innerValue;
        0 === toRespond && (this.resultSelector ? this._tryResultSelector(values) : this.destination.next(values.slice()));
      };
      CombineLatestSubscriber.prototype._tryResultSelector = function(values) {
        var result;
        try {
          result = this.resultSelector.apply(this, values);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return CombineLatestSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.CombineLatestSubscriber = CombineLatestSubscriber;
  }, {
    "../OuterSubscriber": 43,
    "../util/isArray": 211,
    "../util/isScheduler": 221,
    "../util/subscribeToResult": 230,
    "./fromArray": 61
  } ],
  56: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var of_1 = require("./of");
    var concatAll_1 = require("../operators/concatAll");
    function concat() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));
    }
    exports.concat = concat;
  }, {
    "../operators/concatAll": 93,
    "./of": 72
  } ],
  57: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var empty_1 = require("./empty");
    function defer(observableFactory) {
      return new Observable_1.Observable(function(subscriber) {
        var input;
        try {
          input = observableFactory();
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var source = input ? from_1.from(input) : empty_1.empty();
        return source.subscribe(subscriber);
      });
    }
    exports.defer = defer;
  }, {
    "../Observable": 41,
    "./empty": 58,
    "./from": 60
  } ],
  58: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    exports.EMPTY = new Observable_1.Observable(function(subscriber) {
      return subscriber.complete();
    });
    function empty(scheduler) {
      return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;
    }
    exports.empty = empty;
    function emptyScheduled(scheduler) {
      return new Observable_1.Observable(function(subscriber) {
        return scheduler.schedule(function() {
          return subscriber.complete();
        });
      });
    }
    exports.emptyScheduled = emptyScheduled;
  }, {
    "../Observable": 41
  } ],
  59: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var empty_1 = require("./empty");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var map_1 = require("../operators/map");
    function forkJoin() {
      var sources = [];
      for (var _i = 0; _i < arguments.length; _i++) sources[_i] = arguments[_i];
      var resultSelector;
      "function" === typeof sources[sources.length - 1] && (resultSelector = sources.pop());
      1 === sources.length && isArray_1.isArray(sources[0]) && (sources = sources[0]);
      if (0 === sources.length) return empty_1.EMPTY;
      if (resultSelector) return forkJoin(sources).pipe(map_1.map(function(args) {
        return resultSelector.apply(void 0, args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        return new ForkJoinSubscriber(subscriber, sources);
      });
    }
    exports.forkJoin = forkJoin;
    var ForkJoinSubscriber = function(_super) {
      __extends(ForkJoinSubscriber, _super);
      function ForkJoinSubscriber(destination, sources) {
        var _this = _super.call(this, destination) || this;
        _this.sources = sources;
        _this.completed = 0;
        _this.haveValues = 0;
        var len = sources.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) {
          var source = sources[i];
          var innerSubscription = subscribeToResult_1.subscribeToResult(_this, source, null, i);
          innerSubscription && _this.add(innerSubscription);
        }
        return _this;
      }
      ForkJoinSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values[outerIndex] = innerValue;
        if (!innerSub._hasValue) {
          innerSub._hasValue = true;
          this.haveValues++;
        }
      };
      ForkJoinSubscriber.prototype.notifyComplete = function(innerSub) {
        var _a = this, destination = _a.destination, haveValues = _a.haveValues, values = _a.values;
        var len = values.length;
        if (!innerSub._hasValue) {
          destination.complete();
          return;
        }
        this.completed++;
        if (this.completed !== len) return;
        haveValues === len && destination.next(values);
        destination.complete();
      };
      return ForkJoinSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../Observable": 41,
    "../OuterSubscriber": 43,
    "../operators/map": 121,
    "../util/isArray": 211,
    "../util/subscribeToResult": 230,
    "./empty": 58
  } ],
  60: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isPromise_1 = require("../util/isPromise");
    var isArrayLike_1 = require("../util/isArrayLike");
    var isInteropObservable_1 = require("../util/isInteropObservable");
    var isIterable_1 = require("../util/isIterable");
    var fromArray_1 = require("./fromArray");
    var fromPromise_1 = require("./fromPromise");
    var fromIterable_1 = require("./fromIterable");
    var fromObservable_1 = require("./fromObservable");
    var subscribeTo_1 = require("../util/subscribeTo");
    function from(input, scheduler) {
      if (!scheduler) {
        if (input instanceof Observable_1.Observable) return input;
        return new Observable_1.Observable(subscribeTo_1.subscribeTo(input));
      }
      if (null != input) {
        if (isInteropObservable_1.isInteropObservable(input)) return fromObservable_1.fromObservable(input, scheduler);
        if (isPromise_1.isPromise(input)) return fromPromise_1.fromPromise(input, scheduler);
        if (isArrayLike_1.isArrayLike(input)) return fromArray_1.fromArray(input, scheduler);
        if (isIterable_1.isIterable(input) || "string" === typeof input) return fromIterable_1.fromIterable(input, scheduler);
      }
      throw new TypeError((null !== input && typeof input || input) + " is not observable");
    }
    exports.from = from;
  }, {
    "../Observable": 41,
    "../util/isArrayLike": 212,
    "../util/isInteropObservable": 215,
    "../util/isIterable": 216,
    "../util/isPromise": 220,
    "../util/subscribeTo": 225,
    "./fromArray": 61,
    "./fromIterable": 64,
    "./fromObservable": 65,
    "./fromPromise": 66
  } ],
  61: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var subscribeToArray_1 = require("../util/subscribeToArray");
    function fromArray(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        var i = 0;
        sub.add(scheduler.schedule(function() {
          if (i === input.length) {
            subscriber.complete();
            return;
          }
          subscriber.next(input[i++]);
          subscriber.closed || sub.add(this.schedule());
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToArray_1.subscribeToArray(input));
    }
    exports.fromArray = fromArray;
  }, {
    "../Observable": 41,
    "../Subscription": 49,
    "../util/subscribeToArray": 226
  } ],
  62: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var isFunction_1 = require("../util/isFunction");
    var map_1 = require("../operators/map");
    var toString = Object.prototype.toString;
    function fromEvent(target, eventName, options, resultSelector) {
      if (isFunction_1.isFunction(options)) {
        resultSelector = options;
        options = void 0;
      }
      if (resultSelector) return fromEvent(target, eventName, options).pipe(map_1.map(function(args) {
        return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        function handler(e) {
          arguments.length > 1 ? subscriber.next(Array.prototype.slice.call(arguments)) : subscriber.next(e);
        }
        setupSubscription(target, eventName, handler, subscriber, options);
      });
    }
    exports.fromEvent = fromEvent;
    function setupSubscription(sourceObj, eventName, handler, subscriber, options) {
      var unsubscribe;
      if (isEventTarget(sourceObj)) {
        var source_1 = sourceObj;
        sourceObj.addEventListener(eventName, handler, options);
        unsubscribe = function() {
          return source_1.removeEventListener(eventName, handler, options);
        };
      } else if (isJQueryStyleEventEmitter(sourceObj)) {
        var source_2 = sourceObj;
        sourceObj.on(eventName, handler);
        unsubscribe = function() {
          return source_2.off(eventName, handler);
        };
      } else if (isNodeStyleEventEmitter(sourceObj)) {
        var source_3 = sourceObj;
        sourceObj.addListener(eventName, handler);
        unsubscribe = function() {
          return source_3.removeListener(eventName, handler);
        };
      } else {
        if (!sourceObj || !sourceObj.length) throw new TypeError("Invalid event target");
        for (var i = 0, len = sourceObj.length; i < len; i++) setupSubscription(sourceObj[i], eventName, handler, subscriber, options);
      }
      subscriber.add(unsubscribe);
    }
    function isNodeStyleEventEmitter(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.addListener && "function" === typeof sourceObj.removeListener;
    }
    function isJQueryStyleEventEmitter(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.on && "function" === typeof sourceObj.off;
    }
    function isEventTarget(sourceObj) {
      return sourceObj && "function" === typeof sourceObj.addEventListener && "function" === typeof sourceObj.removeEventListener;
    }
  }, {
    "../Observable": 41,
    "../operators/map": 121,
    "../util/isArray": 211,
    "../util/isFunction": 214
  } ],
  63: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isArray_1 = require("../util/isArray");
    var isFunction_1 = require("../util/isFunction");
    var map_1 = require("../operators/map");
    function fromEventPattern(addHandler, removeHandler, resultSelector) {
      if (resultSelector) return fromEventPattern(addHandler, removeHandler).pipe(map_1.map(function(args) {
        return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args);
      }));
      return new Observable_1.Observable(function(subscriber) {
        var handler = function() {
          var e = [];
          for (var _i = 0; _i < arguments.length; _i++) e[_i] = arguments[_i];
          return subscriber.next(1 === e.length ? e[0] : e);
        };
        var retValue;
        try {
          retValue = addHandler(handler);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        if (!isFunction_1.isFunction(removeHandler)) return;
        return function() {
          return removeHandler(handler, retValue);
        };
      });
    }
    exports.fromEventPattern = fromEventPattern;
  }, {
    "../Observable": 41,
    "../operators/map": 121,
    "../util/isArray": 211,
    "../util/isFunction": 214
  } ],
  64: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var iterator_1 = require("../symbol/iterator");
    var subscribeToIterable_1 = require("../util/subscribeToIterable");
    function fromIterable(input, scheduler) {
      if (!input) throw new Error("Iterable cannot be null");
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        var iterator;
        sub.add(function() {
          iterator && "function" === typeof iterator.return && iterator.return();
        });
        sub.add(scheduler.schedule(function() {
          iterator = input[iterator_1.iterator]();
          sub.add(scheduler.schedule(function() {
            if (subscriber.closed) return;
            var value;
            var done;
            try {
              var result = iterator.next();
              value = result.value;
              done = result.done;
            } catch (err) {
              subscriber.error(err);
              return;
            }
            if (done) subscriber.complete(); else {
              subscriber.next(value);
              this.schedule();
            }
          }));
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToIterable_1.subscribeToIterable(input));
    }
    exports.fromIterable = fromIterable;
  }, {
    "../Observable": 41,
    "../Subscription": 49,
    "../symbol/iterator": 199,
    "../util/subscribeToIterable": 227
  } ],
  65: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var observable_1 = require("../symbol/observable");
    var subscribeToObservable_1 = require("../util/subscribeToObservable");
    function fromObservable(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        sub.add(scheduler.schedule(function() {
          var observable = input[observable_1.observable]();
          sub.add(observable.subscribe({
            next: function(value) {
              sub.add(scheduler.schedule(function() {
                return subscriber.next(value);
              }));
            },
            error: function(err) {
              sub.add(scheduler.schedule(function() {
                return subscriber.error(err);
              }));
            },
            complete: function() {
              sub.add(scheduler.schedule(function() {
                return subscriber.complete();
              }));
            }
          }));
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToObservable_1.subscribeToObservable(input));
    }
    exports.fromObservable = fromObservable;
  }, {
    "../Observable": 41,
    "../Subscription": 49,
    "../symbol/observable": 200,
    "../util/subscribeToObservable": 228
  } ],
  66: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    var subscribeToPromise_1 = require("../util/subscribeToPromise");
    function fromPromise(input, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var sub = new Subscription_1.Subscription();
        sub.add(scheduler.schedule(function() {
          return input.then(function(value) {
            sub.add(scheduler.schedule(function() {
              subscriber.next(value);
              sub.add(scheduler.schedule(function() {
                return subscriber.complete();
              }));
            }));
          }, function(err) {
            sub.add(scheduler.schedule(function() {
              return subscriber.error(err);
            }));
          });
        }));
        return sub;
      }) : new Observable_1.Observable(subscribeToPromise_1.subscribeToPromise(input));
    }
    exports.fromPromise = fromPromise;
  }, {
    "../Observable": 41,
    "../Subscription": 49,
    "../util/subscribeToPromise": 229
  } ],
  67: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var identity_1 = require("../util/identity");
    var isScheduler_1 = require("../util/isScheduler");
    function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {
      var resultSelector;
      var initialState;
      if (1 == arguments.length) {
        var options = initialStateOrOptions;
        initialState = options.initialState;
        condition = options.condition;
        iterate = options.iterate;
        resultSelector = options.resultSelector || identity_1.identity;
        scheduler = options.scheduler;
      } else if (void 0 === resultSelectorOrObservable || isScheduler_1.isScheduler(resultSelectorOrObservable)) {
        initialState = initialStateOrOptions;
        resultSelector = identity_1.identity;
        scheduler = resultSelectorOrObservable;
      } else {
        initialState = initialStateOrOptions;
        resultSelector = resultSelectorOrObservable;
      }
      return new Observable_1.Observable(function(subscriber) {
        var state = initialState;
        if (scheduler) return scheduler.schedule(dispatch, 0, {
          subscriber: subscriber,
          iterate: iterate,
          condition: condition,
          resultSelector: resultSelector,
          state: state
        });
        do {
          if (condition) {
            var conditionResult = void 0;
            try {
              conditionResult = condition(state);
            } catch (err) {
              subscriber.error(err);
              return;
            }
            if (!conditionResult) {
              subscriber.complete();
              break;
            }
          }
          var value = void 0;
          try {
            value = resultSelector(state);
          } catch (err) {
            subscriber.error(err);
            return;
          }
          subscriber.next(value);
          if (subscriber.closed) break;
          try {
            state = iterate(state);
          } catch (err) {
            subscriber.error(err);
            return;
          }
        } while (true);
        return;
      });
    }
    exports.generate = generate;
    function dispatch(state) {
      var subscriber = state.subscriber, condition = state.condition;
      if (subscriber.closed) return;
      if (state.needIterate) try {
        state.state = state.iterate(state.state);
      } catch (err) {
        subscriber.error(err);
        return;
      } else state.needIterate = true;
      if (condition) {
        var conditionResult = void 0;
        try {
          conditionResult = condition(state.state);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        if (!conditionResult) {
          subscriber.complete();
          return;
        }
        if (subscriber.closed) return;
      }
      var value;
      try {
        value = state.resultSelector(state.state);
      } catch (err) {
        subscriber.error(err);
        return;
      }
      if (subscriber.closed) return;
      subscriber.next(value);
      if (subscriber.closed) return;
      return this.schedule(state);
    }
  }, {
    "../Observable": 41,
    "../util/identity": 210,
    "../util/isScheduler": 221
  } ],
  68: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var defer_1 = require("./defer");
    var empty_1 = require("./empty");
    function iif(condition, trueResult, falseResult) {
      void 0 === trueResult && (trueResult = empty_1.EMPTY);
      void 0 === falseResult && (falseResult = empty_1.EMPTY);
      return defer_1.defer(function() {
        return condition() ? trueResult : falseResult;
      });
    }
    exports.iif = iif;
  }, {
    "./defer": 57,
    "./empty": 58
  } ],
  69: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var async_1 = require("../scheduler/async");
    var isNumeric_1 = require("../util/isNumeric");
    function interval(period, scheduler) {
      void 0 === period && (period = 0);
      void 0 === scheduler && (scheduler = async_1.async);
      (!isNumeric_1.isNumeric(period) || period < 0) && (period = 0);
      scheduler && "function" === typeof scheduler.schedule || (scheduler = async_1.async);
      return new Observable_1.Observable(function(subscriber) {
        subscriber.add(scheduler.schedule(dispatch, period, {
          subscriber: subscriber,
          counter: 0,
          period: period
        }));
        return subscriber;
      });
    }
    exports.interval = interval;
    function dispatch(state) {
      var subscriber = state.subscriber, counter = state.counter, period = state.period;
      subscriber.next(counter);
      this.schedule({
        subscriber: subscriber,
        counter: counter + 1,
        period: period
      }, period);
    }
  }, {
    "../Observable": 41,
    "../scheduler/async": 197,
    "../util/isNumeric": 217
  } ],
  70: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var isScheduler_1 = require("../util/isScheduler");
    var mergeAll_1 = require("../operators/mergeAll");
    var fromArray_1 = require("./fromArray");
    function merge() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var concurrent = Number.POSITIVE_INFINITY;
      var scheduler = null;
      var last = observables[observables.length - 1];
      if (isScheduler_1.isScheduler(last)) {
        scheduler = observables.pop();
        observables.length > 1 && "number" === typeof observables[observables.length - 1] && (concurrent = observables.pop());
      } else "number" === typeof last && (concurrent = observables.pop());
      if (null === scheduler && 1 === observables.length && observables[0] instanceof Observable_1.Observable) return observables[0];
      return mergeAll_1.mergeAll(concurrent)(fromArray_1.fromArray(observables, scheduler));
    }
    exports.merge = merge;
  }, {
    "../Observable": 41,
    "../operators/mergeAll": 126,
    "../util/isScheduler": 221,
    "./fromArray": 61
  } ],
  71: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var noop_1 = require("../util/noop");
    exports.NEVER = new Observable_1.Observable(noop_1.noop);
    function never() {
      return exports.NEVER;
    }
    exports.never = never;
  }, {
    "../Observable": 41,
    "../util/noop": 222
  } ],
  72: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isScheduler_1 = require("../util/isScheduler");
    var fromArray_1 = require("./fromArray");
    var empty_1 = require("./empty");
    var scalar_1 = require("./scalar");
    function of() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
      var scheduler = args[args.length - 1];
      isScheduler_1.isScheduler(scheduler) ? args.pop() : scheduler = void 0;
      switch (args.length) {
       case 0:
        return empty_1.empty(scheduler);

       case 1:
        return scheduler ? fromArray_1.fromArray(args, scheduler) : scalar_1.scalar(args[0]);

       default:
        return fromArray_1.fromArray(args, scheduler);
      }
    }
    exports.of = of;
  }, {
    "../util/isScheduler": 221,
    "./empty": 58,
    "./fromArray": 61,
    "./scalar": 77
  } ],
  73: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var isArray_1 = require("../util/isArray");
    var empty_1 = require("./empty");
    function onErrorResumeNext() {
      var sources = [];
      for (var _i = 0; _i < arguments.length; _i++) sources[_i] = arguments[_i];
      if (0 === sources.length) return empty_1.EMPTY;
      var first = sources[0], remainder = sources.slice(1);
      if (1 === sources.length && isArray_1.isArray(first)) return onErrorResumeNext.apply(void 0, first);
      return new Observable_1.Observable(function(subscriber) {
        var subNext = function() {
          return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber));
        };
        return from_1.from(first).subscribe({
          next: function(value) {
            subscriber.next(value);
          },
          error: subNext,
          complete: subNext
        });
      });
    }
    exports.onErrorResumeNext = onErrorResumeNext;
  }, {
    "../Observable": 41,
    "../util/isArray": 211,
    "./empty": 58,
    "./from": 60
  } ],
  74: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var Subscription_1 = require("../Subscription");
    function pairs(obj, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        var keys = Object.keys(obj);
        var subscription = new Subscription_1.Subscription();
        subscription.add(scheduler.schedule(dispatch, 0, {
          keys: keys,
          index: 0,
          subscriber: subscriber,
          subscription: subscription,
          obj: obj
        }));
        return subscription;
      }) : new Observable_1.Observable(function(subscriber) {
        var keys = Object.keys(obj);
        for (var i = 0; i < keys.length && !subscriber.closed; i++) {
          var key = keys[i];
          obj.hasOwnProperty(key) && subscriber.next([ key, obj[key] ]);
        }
        subscriber.complete();
      });
    }
    exports.pairs = pairs;
    function dispatch(state) {
      var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;
      if (!subscriber.closed) if (index < keys.length) {
        var key = keys[index];
        subscriber.next([ key, obj[key] ]);
        subscription.add(this.schedule({
          keys: keys,
          index: index + 1,
          subscriber: subscriber,
          subscription: subscription,
          obj: obj
        }));
      } else subscriber.complete();
    }
    exports.dispatch = dispatch;
  }, {
    "../Observable": 41,
    "../Subscription": 49
  } ],
  75: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var fromArray_1 = require("./fromArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function race() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      if (1 === observables.length) {
        if (!isArray_1.isArray(observables[0])) return observables[0];
        observables = observables[0];
      }
      return fromArray_1.fromArray(observables, void 0).lift(new RaceOperator());
    }
    exports.race = race;
    var RaceOperator = function() {
      function RaceOperator() {}
      RaceOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RaceSubscriber(subscriber));
      };
      return RaceOperator;
    }();
    exports.RaceOperator = RaceOperator;
    var RaceSubscriber = function(_super) {
      __extends(RaceSubscriber, _super);
      function RaceSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasFirst = false;
        _this.observables = [];
        _this.subscriptions = [];
        return _this;
      }
      RaceSubscriber.prototype._next = function(observable) {
        this.observables.push(observable);
      };
      RaceSubscriber.prototype._complete = function() {
        var observables = this.observables;
        var len = observables.length;
        if (0 === len) this.destination.complete(); else {
          for (var i = 0; i < len && !this.hasFirst; i++) {
            var observable = observables[i];
            var subscription = subscribeToResult_1.subscribeToResult(this, observable, observable, i);
            this.subscriptions && this.subscriptions.push(subscription);
            this.add(subscription);
          }
          this.observables = null;
        }
      };
      RaceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (!this.hasFirst) {
          this.hasFirst = true;
          for (var i = 0; i < this.subscriptions.length; i++) if (i !== outerIndex) {
            var subscription = this.subscriptions[i];
            subscription.unsubscribe();
            this.remove(subscription);
          }
          this.subscriptions = null;
        }
        this.destination.next(innerValue);
      };
      return RaceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.RaceSubscriber = RaceSubscriber;
  }, {
    "../OuterSubscriber": 43,
    "../util/isArray": 211,
    "../util/subscribeToResult": 230,
    "./fromArray": 61
  } ],
  76: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function range(start, count, scheduler) {
      void 0 === start && (start = 0);
      return new Observable_1.Observable(function(subscriber) {
        if (void 0 === count) {
          count = start;
          start = 0;
        }
        var index = 0;
        var current = start;
        if (scheduler) return scheduler.schedule(dispatch, 0, {
          index: index,
          count: count,
          start: start,
          subscriber: subscriber
        });
        do {
          if (index++ >= count) {
            subscriber.complete();
            break;
          }
          subscriber.next(current++);
          if (subscriber.closed) break;
        } while (true);
        return;
      });
    }
    exports.range = range;
    function dispatch(state) {
      var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;
      if (index >= count) {
        subscriber.complete();
        return;
      }
      subscriber.next(start);
      if (subscriber.closed) return;
      state.index = index + 1;
      state.start = start + 1;
      this.schedule(state);
    }
    exports.dispatch = dispatch;
  }, {
    "../Observable": 41
  } ],
  77: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function scalar(value) {
      var result = new Observable_1.Observable(function(subscriber) {
        subscriber.next(value);
        subscriber.complete();
      });
      result._isScalar = true;
      result.value = value;
      return result;
    }
    exports.scalar = scalar;
  }, {
    "../Observable": 41
  } ],
  78: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function throwError(error, scheduler) {
      return scheduler ? new Observable_1.Observable(function(subscriber) {
        return scheduler.schedule(dispatch, 0, {
          error: error,
          subscriber: subscriber
        });
      }) : new Observable_1.Observable(function(subscriber) {
        return subscriber.error(error);
      });
    }
    exports.throwError = throwError;
    function dispatch(_a) {
      var error = _a.error, subscriber = _a.subscriber;
      subscriber.error(error);
    }
  }, {
    "../Observable": 41
  } ],
  79: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var async_1 = require("../scheduler/async");
    var isNumeric_1 = require("../util/isNumeric");
    var isScheduler_1 = require("../util/isScheduler");
    function timer(dueTime, periodOrScheduler, scheduler) {
      void 0 === dueTime && (dueTime = 0);
      var period = -1;
      isNumeric_1.isNumeric(periodOrScheduler) ? period = Number(periodOrScheduler) < 1 ? 1 : Number(periodOrScheduler) : isScheduler_1.isScheduler(periodOrScheduler) && (scheduler = periodOrScheduler);
      isScheduler_1.isScheduler(scheduler) || (scheduler = async_1.async);
      return new Observable_1.Observable(function(subscriber) {
        var due = isNumeric_1.isNumeric(dueTime) ? dueTime : +dueTime - scheduler.now();
        return scheduler.schedule(dispatch, due, {
          index: 0,
          period: period,
          subscriber: subscriber
        });
      });
    }
    exports.timer = timer;
    function dispatch(state) {
      var index = state.index, period = state.period, subscriber = state.subscriber;
      subscriber.next(index);
      if (subscriber.closed) return;
      if (-1 === period) return subscriber.complete();
      state.index = index + 1;
      this.schedule(state, period);
    }
  }, {
    "../Observable": 41,
    "../scheduler/async": 197,
    "../util/isNumeric": 217,
    "../util/isScheduler": 221
  } ],
  80: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var from_1 = require("./from");
    var empty_1 = require("./empty");
    function using(resourceFactory, observableFactory) {
      return new Observable_1.Observable(function(subscriber) {
        var resource;
        try {
          resource = resourceFactory();
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var result;
        try {
          result = observableFactory(resource);
        } catch (err) {
          subscriber.error(err);
          return;
        }
        var source = result ? from_1.from(result) : empty_1.EMPTY;
        var subscription = source.subscribe(subscriber);
        return function() {
          subscription.unsubscribe();
          resource && resource.unsubscribe();
        };
      });
    }
    exports.using = using;
  }, {
    "../Observable": 41,
    "./empty": 58,
    "./from": 60
  } ],
  81: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("./fromArray");
    var isArray_1 = require("../util/isArray");
    var Subscriber_1 = require("../Subscriber");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var iterator_1 = require("../../internal/symbol/iterator");
    function zip() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var resultSelector = observables[observables.length - 1];
      "function" === typeof resultSelector && observables.pop();
      return fromArray_1.fromArray(observables, void 0).lift(new ZipOperator(resultSelector));
    }
    exports.zip = zip;
    var ZipOperator = function() {
      function ZipOperator(resultSelector) {
        this.resultSelector = resultSelector;
      }
      ZipOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));
      };
      return ZipOperator;
    }();
    exports.ZipOperator = ZipOperator;
    var ZipSubscriber = function(_super) {
      __extends(ZipSubscriber, _super);
      function ZipSubscriber(destination, resultSelector, values) {
        void 0 === values && (values = Object.create(null));
        var _this = _super.call(this, destination) || this;
        _this.iterators = [];
        _this.active = 0;
        _this.resultSelector = "function" === typeof resultSelector ? resultSelector : null;
        _this.values = values;
        return _this;
      }
      ZipSubscriber.prototype._next = function(value) {
        var iterators = this.iterators;
        isArray_1.isArray(value) ? iterators.push(new StaticArrayIterator(value)) : "function" === typeof value[iterator_1.iterator] ? iterators.push(new StaticIterator(value[iterator_1.iterator]())) : iterators.push(new ZipBufferIterator(this.destination, this, value));
      };
      ZipSubscriber.prototype._complete = function() {
        var iterators = this.iterators;
        var len = iterators.length;
        this.unsubscribe();
        if (0 === len) {
          this.destination.complete();
          return;
        }
        this.active = len;
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          if (iterator.stillUnsubscribed) {
            var destination = this.destination;
            destination.add(iterator.subscribe(iterator, i));
          } else this.active--;
        }
      };
      ZipSubscriber.prototype.notifyInactive = function() {
        this.active--;
        0 === this.active && this.destination.complete();
      };
      ZipSubscriber.prototype.checkIterators = function() {
        var iterators = this.iterators;
        var len = iterators.length;
        var destination = this.destination;
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          if ("function" === typeof iterator.hasValue && !iterator.hasValue()) return;
        }
        var shouldComplete = false;
        var args = [];
        for (var i = 0; i < len; i++) {
          var iterator = iterators[i];
          var result = iterator.next();
          iterator.hasCompleted() && (shouldComplete = true);
          if (result.done) {
            destination.complete();
            return;
          }
          args.push(result.value);
        }
        this.resultSelector ? this._tryresultSelector(args) : destination.next(args);
        shouldComplete && destination.complete();
      };
      ZipSubscriber.prototype._tryresultSelector = function(args) {
        var result;
        try {
          result = this.resultSelector.apply(this, args);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return ZipSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ZipSubscriber = ZipSubscriber;
    var StaticIterator = function() {
      function StaticIterator(iterator) {
        this.iterator = iterator;
        this.nextResult = iterator.next();
      }
      StaticIterator.prototype.hasValue = function() {
        return true;
      };
      StaticIterator.prototype.next = function() {
        var result = this.nextResult;
        this.nextResult = this.iterator.next();
        return result;
      };
      StaticIterator.prototype.hasCompleted = function() {
        var nextResult = this.nextResult;
        return nextResult && nextResult.done;
      };
      return StaticIterator;
    }();
    var StaticArrayIterator = function() {
      function StaticArrayIterator(array) {
        this.array = array;
        this.index = 0;
        this.length = 0;
        this.length = array.length;
      }
      StaticArrayIterator.prototype[iterator_1.iterator] = function() {
        return this;
      };
      StaticArrayIterator.prototype.next = function(value) {
        var i = this.index++;
        var array = this.array;
        return i < this.length ? {
          value: array[i],
          done: false
        } : {
          value: null,
          done: true
        };
      };
      StaticArrayIterator.prototype.hasValue = function() {
        return this.array.length > this.index;
      };
      StaticArrayIterator.prototype.hasCompleted = function() {
        return this.array.length === this.index;
      };
      return StaticArrayIterator;
    }();
    var ZipBufferIterator = function(_super) {
      __extends(ZipBufferIterator, _super);
      function ZipBufferIterator(destination, parent, observable) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        _this.observable = observable;
        _this.stillUnsubscribed = true;
        _this.buffer = [];
        _this.isComplete = false;
        return _this;
      }
      ZipBufferIterator.prototype[iterator_1.iterator] = function() {
        return this;
      };
      ZipBufferIterator.prototype.next = function() {
        var buffer = this.buffer;
        return 0 === buffer.length && this.isComplete ? {
          value: null,
          done: true
        } : {
          value: buffer.shift(),
          done: false
        };
      };
      ZipBufferIterator.prototype.hasValue = function() {
        return this.buffer.length > 0;
      };
      ZipBufferIterator.prototype.hasCompleted = function() {
        return 0 === this.buffer.length && this.isComplete;
      };
      ZipBufferIterator.prototype.notifyComplete = function() {
        if (this.buffer.length > 0) {
          this.isComplete = true;
          this.parent.notifyInactive();
        } else this.destination.complete();
      };
      ZipBufferIterator.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.buffer.push(innerValue);
        this.parent.checkIterators();
      };
      ZipBufferIterator.prototype.subscribe = function(value, index) {
        return subscribeToResult_1.subscribeToResult(this, this.observable, this, index);
      };
      return ZipBufferIterator;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../../internal/symbol/iterator": 199,
    "../OuterSubscriber": 43,
    "../Subscriber": 48,
    "../util/isArray": 211,
    "../util/subscribeToResult": 230,
    "./fromArray": 61
  } ],
  82: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function audit(durationSelector) {
      return function auditOperatorFunction(source) {
        return source.lift(new AuditOperator(durationSelector));
      };
    }
    exports.audit = audit;
    var AuditOperator = function() {
      function AuditOperator(durationSelector) {
        this.durationSelector = durationSelector;
      }
      AuditOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));
      };
      return AuditOperator;
    }();
    var AuditSubscriber = function(_super) {
      __extends(AuditSubscriber, _super);
      function AuditSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
      }
      AuditSubscriber.prototype._next = function(value) {
        this.value = value;
        this.hasValue = true;
        if (!this.throttled) {
          var duration = void 0;
          try {
            var durationSelector = this.durationSelector;
            duration = durationSelector(value);
          } catch (err) {
            return this.destination.error(err);
          }
          var innerSubscription = subscribeToResult_1.subscribeToResult(this, duration);
          !innerSubscription || innerSubscription.closed ? this.clearThrottle() : this.add(this.throttled = innerSubscription);
        }
      };
      AuditSubscriber.prototype.clearThrottle = function() {
        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;
        if (throttled) {
          this.remove(throttled);
          this.throttled = null;
          throttled.unsubscribe();
        }
        if (hasValue) {
          this.value = null;
          this.hasValue = false;
          this.destination.next(value);
        }
      };
      AuditSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex) {
        this.clearThrottle();
      };
      AuditSubscriber.prototype.notifyComplete = function() {
        this.clearThrottle();
      };
      return AuditSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  83: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var audit_1 = require("./audit");
    var timer_1 = require("../observable/timer");
    function auditTime(duration, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return audit_1.audit(function() {
        return timer_1.timer(duration, scheduler);
      });
    }
    exports.auditTime = auditTime;
  }, {
    "../observable/timer": 79,
    "../scheduler/async": 197,
    "./audit": 82
  } ],
  84: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function buffer(closingNotifier) {
      return function bufferOperatorFunction(source) {
        return source.lift(new BufferOperator(closingNotifier));
      };
    }
    exports.buffer = buffer;
    var BufferOperator = function() {
      function BufferOperator(closingNotifier) {
        this.closingNotifier = closingNotifier;
      }
      BufferOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));
      };
      return BufferOperator;
    }();
    var BufferSubscriber = function(_super) {
      __extends(BufferSubscriber, _super);
      function BufferSubscriber(destination, closingNotifier) {
        var _this = _super.call(this, destination) || this;
        _this.buffer = [];
        _this.add(subscribeToResult_1.subscribeToResult(_this, closingNotifier));
        return _this;
      }
      BufferSubscriber.prototype._next = function(value) {
        this.buffer.push(value);
      };
      BufferSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var buffer = this.buffer;
        this.buffer = [];
        this.destination.next(buffer);
      };
      return BufferSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  85: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function bufferCount(bufferSize, startBufferEvery) {
      void 0 === startBufferEvery && (startBufferEvery = null);
      return function bufferCountOperatorFunction(source) {
        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));
      };
    }
    exports.bufferCount = bufferCount;
    var BufferCountOperator = function() {
      function BufferCountOperator(bufferSize, startBufferEvery) {
        this.bufferSize = bufferSize;
        this.startBufferEvery = startBufferEvery;
        this.subscriberClass = startBufferEvery && bufferSize !== startBufferEvery ? BufferSkipCountSubscriber : BufferCountSubscriber;
      }
      BufferCountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));
      };
      return BufferCountOperator;
    }();
    var BufferCountSubscriber = function(_super) {
      __extends(BufferCountSubscriber, _super);
      function BufferCountSubscriber(destination, bufferSize) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.buffer = [];
        return _this;
      }
      BufferCountSubscriber.prototype._next = function(value) {
        var buffer = this.buffer;
        buffer.push(value);
        if (buffer.length == this.bufferSize) {
          this.destination.next(buffer);
          this.buffer = [];
        }
      };
      BufferCountSubscriber.prototype._complete = function() {
        var buffer = this.buffer;
        buffer.length > 0 && this.destination.next(buffer);
        _super.prototype._complete.call(this);
      };
      return BufferCountSubscriber;
    }(Subscriber_1.Subscriber);
    var BufferSkipCountSubscriber = function(_super) {
      __extends(BufferSkipCountSubscriber, _super);
      function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.startBufferEvery = startBufferEvery;
        _this.buffers = [];
        _this.count = 0;
        return _this;
      }
      BufferSkipCountSubscriber.prototype._next = function(value) {
        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;
        this.count++;
        count % startBufferEvery === 0 && buffers.push([]);
        for (var i = buffers.length; i--; ) {
          var buffer = buffers[i];
          buffer.push(value);
          if (buffer.length === bufferSize) {
            buffers.splice(i, 1);
            this.destination.next(buffer);
          }
        }
      };
      BufferSkipCountSubscriber.prototype._complete = function() {
        var _a = this, buffers = _a.buffers, destination = _a.destination;
        while (buffers.length > 0) {
          var buffer = buffers.shift();
          buffer.length > 0 && destination.next(buffer);
        }
        _super.prototype._complete.call(this);
      };
      return BufferSkipCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  86: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var Subscriber_1 = require("../Subscriber");
    var isScheduler_1 = require("../util/isScheduler");
    function bufferTime(bufferTimeSpan) {
      var length = arguments.length;
      var scheduler = async_1.async;
      if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {
        scheduler = arguments[arguments.length - 1];
        length--;
      }
      var bufferCreationInterval = null;
      length >= 2 && (bufferCreationInterval = arguments[1]);
      var maxBufferSize = Number.POSITIVE_INFINITY;
      length >= 3 && (maxBufferSize = arguments[2]);
      return function bufferTimeOperatorFunction(source) {
        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));
      };
    }
    exports.bufferTime = bufferTime;
    var BufferTimeOperator = function() {
      function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        this.bufferTimeSpan = bufferTimeSpan;
        this.bufferCreationInterval = bufferCreationInterval;
        this.maxBufferSize = maxBufferSize;
        this.scheduler = scheduler;
      }
      BufferTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));
      };
      return BufferTimeOperator;
    }();
    var Context = function() {
      function Context() {
        this.buffer = [];
      }
      return Context;
    }();
    var BufferTimeSubscriber = function(_super) {
      __extends(BufferTimeSubscriber, _super);
      function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.bufferTimeSpan = bufferTimeSpan;
        _this.bufferCreationInterval = bufferCreationInterval;
        _this.maxBufferSize = maxBufferSize;
        _this.scheduler = scheduler;
        _this.contexts = [];
        var context = _this.openContext();
        _this.timespanOnly = null == bufferCreationInterval || bufferCreationInterval < 0;
        if (_this.timespanOnly) {
          var timeSpanOnlyState = {
            subscriber: _this,
            context: context,
            bufferTimeSpan: bufferTimeSpan
          };
          _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        } else {
          var closeState = {
            subscriber: _this,
            context: context
          };
          var creationState = {
            bufferTimeSpan: bufferTimeSpan,
            bufferCreationInterval: bufferCreationInterval,
            subscriber: _this,
            scheduler: scheduler
          };
          _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));
          _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));
        }
        return _this;
      }
      BufferTimeSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        var len = contexts.length;
        var filledBufferContext;
        for (var i = 0; i < len; i++) {
          var context_1 = contexts[i];
          var buffer = context_1.buffer;
          buffer.push(value);
          buffer.length == this.maxBufferSize && (filledBufferContext = context_1);
        }
        filledBufferContext && this.onBufferFull(filledBufferContext);
      };
      BufferTimeSubscriber.prototype._error = function(err) {
        this.contexts.length = 0;
        _super.prototype._error.call(this, err);
      };
      BufferTimeSubscriber.prototype._complete = function() {
        var _a = this, contexts = _a.contexts, destination = _a.destination;
        while (contexts.length > 0) {
          var context_2 = contexts.shift();
          destination.next(context_2.buffer);
        }
        _super.prototype._complete.call(this);
      };
      BufferTimeSubscriber.prototype._unsubscribe = function() {
        this.contexts = null;
      };
      BufferTimeSubscriber.prototype.onBufferFull = function(context) {
        this.closeContext(context);
        var closeAction = context.closeAction;
        closeAction.unsubscribe();
        this.remove(closeAction);
        if (!this.closed && this.timespanOnly) {
          context = this.openContext();
          var bufferTimeSpan = this.bufferTimeSpan;
          var timeSpanOnlyState = {
            subscriber: this,
            context: context,
            bufferTimeSpan: bufferTimeSpan
          };
          this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
      };
      BufferTimeSubscriber.prototype.openContext = function() {
        var context = new Context();
        this.contexts.push(context);
        return context;
      };
      BufferTimeSubscriber.prototype.closeContext = function(context) {
        this.destination.next(context.buffer);
        var contexts = this.contexts;
        var spliceIndex = contexts ? contexts.indexOf(context) : -1;
        spliceIndex >= 0 && contexts.splice(contexts.indexOf(context), 1);
      };
      return BufferTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchBufferTimeSpanOnly(state) {
      var subscriber = state.subscriber;
      var prevContext = state.context;
      prevContext && subscriber.closeContext(prevContext);
      if (!subscriber.closed) {
        state.context = subscriber.openContext();
        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);
      }
    }
    function dispatchBufferCreation(state) {
      var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;
      var context = subscriber.openContext();
      var action = this;
      if (!subscriber.closed) {
        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, {
          subscriber: subscriber,
          context: context
        }));
        action.schedule(state, bufferCreationInterval);
      }
    }
    function dispatchBufferClose(arg) {
      var subscriber = arg.subscriber, context = arg.context;
      subscriber.closeContext(context);
    }
  }, {
    "../Subscriber": 48,
    "../scheduler/async": 197,
    "../util/isScheduler": 221
  } ],
  87: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    function bufferToggle(openings, closingSelector) {
      return function bufferToggleOperatorFunction(source) {
        return source.lift(new BufferToggleOperator(openings, closingSelector));
      };
    }
    exports.bufferToggle = bufferToggle;
    var BufferToggleOperator = function() {
      function BufferToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
      }
      BufferToggleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));
      };
      return BufferToggleOperator;
    }();
    var BufferToggleSubscriber = function(_super) {
      __extends(BufferToggleSubscriber, _super);
      function BufferToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(subscribeToResult_1.subscribeToResult(_this, openings));
        return _this;
      }
      BufferToggleSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        var len = contexts.length;
        for (var i = 0; i < len; i++) contexts[i].buffer.push(value);
      };
      BufferToggleSubscriber.prototype._error = function(err) {
        var contexts = this.contexts;
        while (contexts.length > 0) {
          var context_1 = contexts.shift();
          context_1.subscription.unsubscribe();
          context_1.buffer = null;
          context_1.subscription = null;
        }
        this.contexts = null;
        _super.prototype._error.call(this, err);
      };
      BufferToggleSubscriber.prototype._complete = function() {
        var contexts = this.contexts;
        while (contexts.length > 0) {
          var context_2 = contexts.shift();
          this.destination.next(context_2.buffer);
          context_2.subscription.unsubscribe();
          context_2.buffer = null;
          context_2.subscription = null;
        }
        this.contexts = null;
        _super.prototype._complete.call(this);
      };
      BufferToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);
      };
      BufferToggleSubscriber.prototype.notifyComplete = function(innerSub) {
        this.closeBuffer(innerSub.context);
      };
      BufferToggleSubscriber.prototype.openBuffer = function(value) {
        try {
          var closingSelector = this.closingSelector;
          var closingNotifier = closingSelector.call(this, value);
          closingNotifier && this.trySubscribe(closingNotifier);
        } catch (err) {
          this._error(err);
        }
      };
      BufferToggleSubscriber.prototype.closeBuffer = function(context) {
        var contexts = this.contexts;
        if (contexts && context) {
          var buffer = context.buffer, subscription = context.subscription;
          this.destination.next(buffer);
          contexts.splice(contexts.indexOf(context), 1);
          this.remove(subscription);
          subscription.unsubscribe();
        }
      };
      BufferToggleSubscriber.prototype.trySubscribe = function(closingNotifier) {
        var contexts = this.contexts;
        var buffer = [];
        var subscription = new Subscription_1.Subscription();
        var context = {
          buffer: buffer,
          subscription: subscription
        };
        contexts.push(context);
        var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);
        if (!innerSubscription || innerSubscription.closed) this.closeBuffer(context); else {
          innerSubscription.context = context;
          this.add(innerSubscription);
          subscription.add(innerSubscription);
        }
      };
      return BufferToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subscription": 49,
    "../util/subscribeToResult": 230
  } ],
  88: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function bufferWhen(closingSelector) {
      return function(source) {
        return source.lift(new BufferWhenOperator(closingSelector));
      };
    }
    exports.bufferWhen = bufferWhen;
    var BufferWhenOperator = function() {
      function BufferWhenOperator(closingSelector) {
        this.closingSelector = closingSelector;
      }
      BufferWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));
      };
      return BufferWhenOperator;
    }();
    var BufferWhenSubscriber = function(_super) {
      __extends(BufferWhenSubscriber, _super);
      function BufferWhenSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.subscribing = false;
        _this.openBuffer();
        return _this;
      }
      BufferWhenSubscriber.prototype._next = function(value) {
        this.buffer.push(value);
      };
      BufferWhenSubscriber.prototype._complete = function() {
        var buffer = this.buffer;
        buffer && this.destination.next(buffer);
        _super.prototype._complete.call(this);
      };
      BufferWhenSubscriber.prototype._unsubscribe = function() {
        this.buffer = null;
        this.subscribing = false;
      };
      BufferWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openBuffer();
      };
      BufferWhenSubscriber.prototype.notifyComplete = function() {
        this.subscribing ? this.complete() : this.openBuffer();
      };
      BufferWhenSubscriber.prototype.openBuffer = function() {
        var closingSubscription = this.closingSubscription;
        if (closingSubscription) {
          this.remove(closingSubscription);
          closingSubscription.unsubscribe();
        }
        var buffer = this.buffer;
        this.buffer && this.destination.next(buffer);
        this.buffer = [];
        var closingNotifier;
        try {
          var closingSelector = this.closingSelector;
          closingNotifier = closingSelector();
        } catch (err) {
          return this.error(err);
        }
        closingSubscription = new Subscription_1.Subscription();
        this.closingSubscription = closingSubscription;
        this.add(closingSubscription);
        this.subscribing = true;
        closingSubscription.add(subscribeToResult_1.subscribeToResult(this, closingNotifier));
        this.subscribing = false;
      };
      return BufferWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subscription": 49,
    "../util/subscribeToResult": 230
  } ],
  89: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function catchError(selector) {
      return function catchErrorOperatorFunction(source) {
        var operator = new CatchOperator(selector);
        var caught = source.lift(operator);
        return operator.caught = caught;
      };
    }
    exports.catchError = catchError;
    var CatchOperator = function() {
      function CatchOperator(selector) {
        this.selector = selector;
      }
      CatchOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
      };
      return CatchOperator;
    }();
    var CatchSubscriber = function(_super) {
      __extends(CatchSubscriber, _super);
      function CatchSubscriber(destination, selector, caught) {
        var _this = _super.call(this, destination) || this;
        _this.selector = selector;
        _this.caught = caught;
        return _this;
      }
      CatchSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var result = void 0;
          try {
            result = this.selector(err, this.caught);
          } catch (err2) {
            _super.prototype.error.call(this, err2);
            return;
          }
          this._unsubscribeAndRecycle();
          var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
          this.add(innerSubscriber);
          subscribeToResult_1.subscribeToResult(this, result, void 0, void 0, innerSubscriber);
        }
      };
      return CatchSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  90: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var combineLatest_1 = require("../observable/combineLatest");
    function combineAll(project) {
      return function(source) {
        return source.lift(new combineLatest_1.CombineLatestOperator(project));
      };
    }
    exports.combineAll = combineAll;
  }, {
    "../observable/combineLatest": 55
  } ],
  91: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var combineLatest_1 = require("../observable/combineLatest");
    var from_1 = require("../observable/from");
    var none = {};
    function combineLatest() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      var project = null;
      "function" === typeof observables[observables.length - 1] && (project = observables.pop());
      1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0].slice());
      return function(source) {
        return source.lift.call(from_1.from([ source ].concat(observables)), new combineLatest_1.CombineLatestOperator(project));
      };
    }
    exports.combineLatest = combineLatest;
  }, {
    "../observable/combineLatest": 55,
    "../observable/from": 60,
    "../util/isArray": 211
  } ],
  92: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var concat_1 = require("../observable/concat");
    function concat() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function(source) {
        return source.lift.call(concat_1.concat.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.concat = concat;
  }, {
    "../observable/concat": 56
  } ],
  93: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeAll_1 = require("./mergeAll");
    function concatAll() {
      return mergeAll_1.mergeAll(1);
    }
    exports.concatAll = concatAll;
  }, {
    "./mergeAll": 126
  } ],
  94: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    function concatMap(project, resultSelector) {
      return mergeMap_1.mergeMap(project, resultSelector, 1);
    }
    exports.concatMap = concatMap;
  }, {
    "./mergeMap": 127
  } ],
  95: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var concatMap_1 = require("./concatMap");
    function concatMapTo(innerObservable, resultSelector) {
      return concatMap_1.concatMap(function() {
        return innerObservable;
      }, resultSelector);
    }
    exports.concatMapTo = concatMapTo;
  }, {
    "./concatMap": 94
  } ],
  96: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function count(predicate) {
      return function(source) {
        return source.lift(new CountOperator(predicate, source));
      };
    }
    exports.count = count;
    var CountOperator = function() {
      function CountOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
      }
      CountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));
      };
      return CountOperator;
    }();
    var CountSubscriber = function(_super) {
      __extends(CountSubscriber, _super);
      function CountSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.count = 0;
        _this.index = 0;
        return _this;
      }
      CountSubscriber.prototype._next = function(value) {
        this.predicate ? this._tryPredicate(value) : this.count++;
      };
      CountSubscriber.prototype._tryPredicate = function(value) {
        var result;
        try {
          result = this.predicate(value, this.index++, this.source);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result && this.count++;
      };
      CountSubscriber.prototype._complete = function() {
        this.destination.next(this.count);
        this.destination.complete();
      };
      return CountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  97: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function debounce(durationSelector) {
      return function(source) {
        return source.lift(new DebounceOperator(durationSelector));
      };
    }
    exports.debounce = debounce;
    var DebounceOperator = function() {
      function DebounceOperator(durationSelector) {
        this.durationSelector = durationSelector;
      }
      DebounceOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
      };
      return DebounceOperator;
    }();
    var DebounceSubscriber = function(_super) {
      __extends(DebounceSubscriber, _super);
      function DebounceSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        _this.durationSubscription = null;
        return _this;
      }
      DebounceSubscriber.prototype._next = function(value) {
        try {
          var result = this.durationSelector.call(this, value);
          result && this._tryNext(value, result);
        } catch (err) {
          this.destination.error(err);
        }
      };
      DebounceSubscriber.prototype._complete = function() {
        this.emitValue();
        this.destination.complete();
      };
      DebounceSubscriber.prototype._tryNext = function(value, duration) {
        var subscription = this.durationSubscription;
        this.value = value;
        this.hasValue = true;
        if (subscription) {
          subscription.unsubscribe();
          this.remove(subscription);
        }
        subscription = subscribeToResult_1.subscribeToResult(this, duration);
        subscription && !subscription.closed && this.add(this.durationSubscription = subscription);
      };
      DebounceSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.emitValue();
      };
      DebounceSubscriber.prototype.notifyComplete = function() {
        this.emitValue();
      };
      DebounceSubscriber.prototype.emitValue = function() {
        if (this.hasValue) {
          var value = this.value;
          var subscription = this.durationSubscription;
          if (subscription) {
            this.durationSubscription = null;
            subscription.unsubscribe();
            this.remove(subscription);
          }
          this.value = null;
          this.hasValue = false;
          _super.prototype._next.call(this, value);
        }
      };
      return DebounceSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  98: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    function debounceTime(dueTime, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return source.lift(new DebounceTimeOperator(dueTime, scheduler));
      };
    }
    exports.debounceTime = debounceTime;
    var DebounceTimeOperator = function() {
      function DebounceTimeOperator(dueTime, scheduler) {
        this.dueTime = dueTime;
        this.scheduler = scheduler;
      }
      DebounceTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));
      };
      return DebounceTimeOperator;
    }();
    var DebounceTimeSubscriber = function(_super) {
      __extends(DebounceTimeSubscriber, _super);
      function DebounceTimeSubscriber(destination, dueTime, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.dueTime = dueTime;
        _this.scheduler = scheduler;
        _this.debouncedSubscription = null;
        _this.lastValue = null;
        _this.hasValue = false;
        return _this;
      }
      DebounceTimeSubscriber.prototype._next = function(value) {
        this.clearDebounce();
        this.lastValue = value;
        this.hasValue = true;
        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));
      };
      DebounceTimeSubscriber.prototype._complete = function() {
        this.debouncedNext();
        this.destination.complete();
      };
      DebounceTimeSubscriber.prototype.debouncedNext = function() {
        this.clearDebounce();
        if (this.hasValue) {
          var lastValue = this.lastValue;
          this.lastValue = null;
          this.hasValue = false;
          this.destination.next(lastValue);
        }
      };
      DebounceTimeSubscriber.prototype.clearDebounce = function() {
        var debouncedSubscription = this.debouncedSubscription;
        if (null !== debouncedSubscription) {
          this.remove(debouncedSubscription);
          debouncedSubscription.unsubscribe();
          this.debouncedSubscription = null;
        }
      };
      return DebounceTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(subscriber) {
      subscriber.debouncedNext();
    }
  }, {
    "../Subscriber": 48,
    "../scheduler/async": 197
  } ],
  99: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function defaultIfEmpty(defaultValue) {
      void 0 === defaultValue && (defaultValue = null);
      return function(source) {
        return source.lift(new DefaultIfEmptyOperator(defaultValue));
      };
    }
    exports.defaultIfEmpty = defaultIfEmpty;
    var DefaultIfEmptyOperator = function() {
      function DefaultIfEmptyOperator(defaultValue) {
        this.defaultValue = defaultValue;
      }
      DefaultIfEmptyOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));
      };
      return DefaultIfEmptyOperator;
    }();
    var DefaultIfEmptySubscriber = function(_super) {
      __extends(DefaultIfEmptySubscriber, _super);
      function DefaultIfEmptySubscriber(destination, defaultValue) {
        var _this = _super.call(this, destination) || this;
        _this.defaultValue = defaultValue;
        _this.isEmpty = true;
        return _this;
      }
      DefaultIfEmptySubscriber.prototype._next = function(value) {
        this.isEmpty = false;
        this.destination.next(value);
      };
      DefaultIfEmptySubscriber.prototype._complete = function() {
        this.isEmpty && this.destination.next(this.defaultValue);
        this.destination.complete();
      };
      return DefaultIfEmptySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  100: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var isDate_1 = require("../util/isDate");
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function delay(delay, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      var absoluteDelay = isDate_1.isDate(delay);
      var delayFor = absoluteDelay ? +delay - scheduler.now() : Math.abs(delay);
      return function(source) {
        return source.lift(new DelayOperator(delayFor, scheduler));
      };
    }
    exports.delay = delay;
    var DelayOperator = function() {
      function DelayOperator(delay, scheduler) {
        this.delay = delay;
        this.scheduler = scheduler;
      }
      DelayOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
      };
      return DelayOperator;
    }();
    var DelaySubscriber = function(_super) {
      __extends(DelaySubscriber, _super);
      function DelaySubscriber(destination, delay, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.delay = delay;
        _this.scheduler = scheduler;
        _this.queue = [];
        _this.active = false;
        _this.errored = false;
        return _this;
      }
      DelaySubscriber.dispatch = function(state) {
        var source = state.source;
        var queue = source.queue;
        var scheduler = state.scheduler;
        var destination = state.destination;
        while (queue.length > 0 && queue[0].time - scheduler.now() <= 0) queue.shift().notification.observe(destination);
        if (queue.length > 0) {
          var delay_1 = Math.max(0, queue[0].time - scheduler.now());
          this.schedule(state, delay_1);
        } else {
          this.unsubscribe();
          source.active = false;
        }
      };
      DelaySubscriber.prototype._schedule = function(scheduler) {
        this.active = true;
        var destination = this.destination;
        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
          source: this,
          destination: this.destination,
          scheduler: scheduler
        }));
      };
      DelaySubscriber.prototype.scheduleNotification = function(notification) {
        if (true === this.errored) return;
        var scheduler = this.scheduler;
        var message = new DelayMessage(scheduler.now() + this.delay, notification);
        this.queue.push(message);
        false === this.active && this._schedule(scheduler);
      };
      DelaySubscriber.prototype._next = function(value) {
        this.scheduleNotification(Notification_1.Notification.createNext(value));
      };
      DelaySubscriber.prototype._error = function(err) {
        this.errored = true;
        this.queue = [];
        this.destination.error(err);
        this.unsubscribe();
      };
      DelaySubscriber.prototype._complete = function() {
        this.scheduleNotification(Notification_1.Notification.createComplete());
        this.unsubscribe();
      };
      return DelaySubscriber;
    }(Subscriber_1.Subscriber);
    var DelayMessage = function() {
      function DelayMessage(time, notification) {
        this.time = time;
        this.notification = notification;
      }
      return DelayMessage;
    }();
  }, {
    "../Notification": 40,
    "../Subscriber": 48,
    "../scheduler/async": 197,
    "../util/isDate": 213
  } ],
  101: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Observable_1 = require("../Observable");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function delayWhen(delayDurationSelector, subscriptionDelay) {
      if (subscriptionDelay) return function(source) {
        return new SubscriptionDelayObservable(source, subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector));
      };
      return function(source) {
        return source.lift(new DelayWhenOperator(delayDurationSelector));
      };
    }
    exports.delayWhen = delayWhen;
    var DelayWhenOperator = function() {
      function DelayWhenOperator(delayDurationSelector) {
        this.delayDurationSelector = delayDurationSelector;
      }
      DelayWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));
      };
      return DelayWhenOperator;
    }();
    var DelayWhenSubscriber = function(_super) {
      __extends(DelayWhenSubscriber, _super);
      function DelayWhenSubscriber(destination, delayDurationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.delayDurationSelector = delayDurationSelector;
        _this.completed = false;
        _this.delayNotifierSubscriptions = [];
        _this.index = 0;
        return _this;
      }
      DelayWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(outerValue);
        this.removeSubscription(innerSub);
        this.tryComplete();
      };
      DelayWhenSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      DelayWhenSubscriber.prototype.notifyComplete = function(innerSub) {
        var value = this.removeSubscription(innerSub);
        value && this.destination.next(value);
        this.tryComplete();
      };
      DelayWhenSubscriber.prototype._next = function(value) {
        var index = this.index++;
        try {
          var delayNotifier = this.delayDurationSelector(value, index);
          delayNotifier && this.tryDelay(delayNotifier, value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      DelayWhenSubscriber.prototype._complete = function() {
        this.completed = true;
        this.tryComplete();
        this.unsubscribe();
      };
      DelayWhenSubscriber.prototype.removeSubscription = function(subscription) {
        subscription.unsubscribe();
        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);
        -1 !== subscriptionIdx && this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);
        return subscription.outerValue;
      };
      DelayWhenSubscriber.prototype.tryDelay = function(delayNotifier, value) {
        var notifierSubscription = subscribeToResult_1.subscribeToResult(this, delayNotifier, value);
        if (notifierSubscription && !notifierSubscription.closed) {
          var destination = this.destination;
          destination.add(notifierSubscription);
          this.delayNotifierSubscriptions.push(notifierSubscription);
        }
      };
      DelayWhenSubscriber.prototype.tryComplete = function() {
        this.completed && 0 === this.delayNotifierSubscriptions.length && this.destination.complete();
      };
      return DelayWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    var SubscriptionDelayObservable = function(_super) {
      __extends(SubscriptionDelayObservable, _super);
      function SubscriptionDelayObservable(source, subscriptionDelay) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subscriptionDelay = subscriptionDelay;
        return _this;
      }
      SubscriptionDelayObservable.prototype._subscribe = function(subscriber) {
        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));
      };
      return SubscriptionDelayObservable;
    }(Observable_1.Observable);
    var SubscriptionDelaySubscriber = function(_super) {
      __extends(SubscriptionDelaySubscriber, _super);
      function SubscriptionDelaySubscriber(parent, source) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.source = source;
        _this.sourceSubscribed = false;
        return _this;
      }
      SubscriptionDelaySubscriber.prototype._next = function(unused) {
        this.subscribeToSource();
      };
      SubscriptionDelaySubscriber.prototype._error = function(err) {
        this.unsubscribe();
        this.parent.error(err);
      };
      SubscriptionDelaySubscriber.prototype._complete = function() {
        this.unsubscribe();
        this.subscribeToSource();
      };
      SubscriptionDelaySubscriber.prototype.subscribeToSource = function() {
        if (!this.sourceSubscribed) {
          this.sourceSubscribed = true;
          this.unsubscribe();
          this.source.subscribe(this.parent);
        }
      };
      return SubscriptionDelaySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Observable": 41,
    "../OuterSubscriber": 43,
    "../Subscriber": 48,
    "../util/subscribeToResult": 230
  } ],
  102: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function dematerialize() {
      return function dematerializeOperatorFunction(source) {
        return source.lift(new DeMaterializeOperator());
      };
    }
    exports.dematerialize = dematerialize;
    var DeMaterializeOperator = function() {
      function DeMaterializeOperator() {}
      DeMaterializeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DeMaterializeSubscriber(subscriber));
      };
      return DeMaterializeOperator;
    }();
    var DeMaterializeSubscriber = function(_super) {
      __extends(DeMaterializeSubscriber, _super);
      function DeMaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      DeMaterializeSubscriber.prototype._next = function(value) {
        value.observe(this.destination);
      };
      return DeMaterializeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  103: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function distinct(keySelector, flushes) {
      return function(source) {
        return source.lift(new DistinctOperator(keySelector, flushes));
      };
    }
    exports.distinct = distinct;
    var DistinctOperator = function() {
      function DistinctOperator(keySelector, flushes) {
        this.keySelector = keySelector;
        this.flushes = flushes;
      }
      DistinctOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));
      };
      return DistinctOperator;
    }();
    var DistinctSubscriber = function(_super) {
      __extends(DistinctSubscriber, _super);
      function DistinctSubscriber(destination, keySelector, flushes) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.values = new Set();
        flushes && _this.add(subscribeToResult_1.subscribeToResult(_this, flushes));
        return _this;
      }
      DistinctSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values.clear();
      };
      DistinctSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      DistinctSubscriber.prototype._next = function(value) {
        this.keySelector ? this._useKeySelector(value) : this._finalizeNext(value, value);
      };
      DistinctSubscriber.prototype._useKeySelector = function(value) {
        var key;
        var destination = this.destination;
        try {
          key = this.keySelector(value);
        } catch (err) {
          destination.error(err);
          return;
        }
        this._finalizeNext(key, value);
      };
      DistinctSubscriber.prototype._finalizeNext = function(key, value) {
        var values = this.values;
        if (!values.has(key)) {
          values.add(key);
          this.destination.next(value);
        }
      };
      return DistinctSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.DistinctSubscriber = DistinctSubscriber;
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  104: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function distinctUntilChanged(compare, keySelector) {
      return function(source) {
        return source.lift(new DistinctUntilChangedOperator(compare, keySelector));
      };
    }
    exports.distinctUntilChanged = distinctUntilChanged;
    var DistinctUntilChangedOperator = function() {
      function DistinctUntilChangedOperator(compare, keySelector) {
        this.compare = compare;
        this.keySelector = keySelector;
      }
      DistinctUntilChangedOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));
      };
      return DistinctUntilChangedOperator;
    }();
    var DistinctUntilChangedSubscriber = function(_super) {
      __extends(DistinctUntilChangedSubscriber, _super);
      function DistinctUntilChangedSubscriber(destination, compare, keySelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.hasKey = false;
        "function" === typeof compare && (_this.compare = compare);
        return _this;
      }
      DistinctUntilChangedSubscriber.prototype.compare = function(x, y) {
        return x === y;
      };
      DistinctUntilChangedSubscriber.prototype._next = function(value) {
        var key;
        try {
          var keySelector = this.keySelector;
          key = keySelector ? keySelector(value) : value;
        } catch (err) {
          return this.destination.error(err);
        }
        var result = false;
        if (this.hasKey) try {
          var compare = this.compare;
          result = compare(this.key, key);
        } catch (err) {
          return this.destination.error(err);
        } else this.hasKey = true;
        if (!result) {
          this.key = key;
          this.destination.next(value);
        }
      };
      return DistinctUntilChangedSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  105: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var distinctUntilChanged_1 = require("./distinctUntilChanged");
    function distinctUntilKeyChanged(key, compare) {
      return distinctUntilChanged_1.distinctUntilChanged(function(x, y) {
        return compare ? compare(x[key], y[key]) : x[key] === y[key];
      });
    }
    exports.distinctUntilKeyChanged = distinctUntilKeyChanged;
  }, {
    "./distinctUntilChanged": 104
  } ],
  106: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var filter_1 = require("./filter");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var take_1 = require("./take");
    function elementAt(index, defaultValue) {
      if (index < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(filter_1.filter(function(v, i) {
          return i === index;
        }), take_1.take(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
        }));
      };
    }
    exports.elementAt = elementAt;
  }, {
    "../util/ArgumentOutOfRangeError": 202,
    "./defaultIfEmpty": 99,
    "./filter": 112,
    "./take": 164,
    "./throwIfEmpty": 171
  } ],
  107: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("../observable/fromArray");
    var scalar_1 = require("../observable/scalar");
    var empty_1 = require("../observable/empty");
    var concat_1 = require("../observable/concat");
    var isScheduler_1 = require("../util/isScheduler");
    function endWith() {
      var array = [];
      for (var _i = 0; _i < arguments.length; _i++) array[_i] = arguments[_i];
      return function(source) {
        var scheduler = array[array.length - 1];
        isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
        var len = array.length;
        return 1 !== len || scheduler ? len > 0 ? concat_1.concat(source, fromArray_1.fromArray(array, scheduler)) : concat_1.concat(source, empty_1.empty(scheduler)) : concat_1.concat(source, scalar_1.scalar(array[0]));
      };
    }
    exports.endWith = endWith;
  }, {
    "../observable/concat": 56,
    "../observable/empty": 58,
    "../observable/fromArray": 61,
    "../observable/scalar": 77,
    "../util/isScheduler": 221
  } ],
  108: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function every(predicate, thisArg) {
      return function(source) {
        return source.lift(new EveryOperator(predicate, thisArg, source));
      };
    }
    exports.every = every;
    var EveryOperator = function() {
      function EveryOperator(predicate, thisArg, source) {
        this.predicate = predicate;
        this.thisArg = thisArg;
        this.source = source;
      }
      EveryOperator.prototype.call = function(observer, source) {
        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
      };
      return EveryOperator;
    }();
    var EverySubscriber = function(_super) {
      __extends(EverySubscriber, _super);
      function EverySubscriber(destination, predicate, thisArg, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.source = source;
        _this.index = 0;
        _this.thisArg = thisArg || _this;
        return _this;
      }
      EverySubscriber.prototype.notifyComplete = function(everyValueMatch) {
        this.destination.next(everyValueMatch);
        this.destination.complete();
      };
      EverySubscriber.prototype._next = function(value) {
        var result = false;
        try {
          result = this.predicate.call(this.thisArg, value, this.index++, this.source);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result || this.notifyComplete(false);
      };
      EverySubscriber.prototype._complete = function() {
        this.notifyComplete(true);
      };
      return EverySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  109: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function exhaust() {
      return function(source) {
        return source.lift(new SwitchFirstOperator());
      };
    }
    exports.exhaust = exhaust;
    var SwitchFirstOperator = function() {
      function SwitchFirstOperator() {}
      SwitchFirstOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SwitchFirstSubscriber(subscriber));
      };
      return SwitchFirstOperator;
    }();
    var SwitchFirstSubscriber = function(_super) {
      __extends(SwitchFirstSubscriber, _super);
      function SwitchFirstSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasCompleted = false;
        _this.hasSubscription = false;
        return _this;
      }
      SwitchFirstSubscriber.prototype._next = function(value) {
        if (!this.hasSubscription) {
          this.hasSubscription = true;
          this.add(subscribeToResult_1.subscribeToResult(this, value));
        }
      };
      SwitchFirstSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasSubscription || this.destination.complete();
      };
      SwitchFirstSubscriber.prototype.notifyComplete = function(innerSub) {
        this.remove(innerSub);
        this.hasSubscription = false;
        this.hasCompleted && this.destination.complete();
      };
      return SwitchFirstSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  110: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function exhaustMap(project, resultSelector) {
      if (resultSelector) return function(source) {
        return source.pipe(exhaustMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }));
      };
      return function(source) {
        return source.lift(new ExhaustMapOperator(project));
      };
    }
    exports.exhaustMap = exhaustMap;
    var ExhaustMapOperator = function() {
      function ExhaustMapOperator(project) {
        this.project = project;
      }
      ExhaustMapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));
      };
      return ExhaustMapOperator;
    }();
    var ExhaustMapSubscriber = function(_super) {
      __extends(ExhaustMapSubscriber, _super);
      function ExhaustMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.hasSubscription = false;
        _this.hasCompleted = false;
        _this.index = 0;
        return _this;
      }
      ExhaustMapSubscriber.prototype._next = function(value) {
        this.hasSubscription || this.tryNext(value);
      };
      ExhaustMapSubscriber.prototype.tryNext = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.hasSubscription = true;
        this._innerSub(result, value, index);
      };
      ExhaustMapSubscriber.prototype._innerSub = function(result, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, result, value, index, innerSubscriber);
      };
      ExhaustMapSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasSubscription || this.destination.complete();
        this.unsubscribe();
      };
      ExhaustMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      ExhaustMapSubscriber.prototype.notifyError = function(err) {
        this.destination.error(err);
      };
      ExhaustMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var destination = this.destination;
        destination.remove(innerSub);
        this.hasSubscription = false;
        this.hasCompleted && this.destination.complete();
      };
      return ExhaustMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../observable/from": 60,
    "../util/subscribeToResult": 230,
    "./map": 121
  } ],
  111: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function expand(project, concurrent, scheduler) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      void 0 === scheduler && (scheduler = void 0);
      concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;
      return function(source) {
        return source.lift(new ExpandOperator(project, concurrent, scheduler));
      };
    }
    exports.expand = expand;
    var ExpandOperator = function() {
      function ExpandOperator(project, concurrent, scheduler) {
        this.project = project;
        this.concurrent = concurrent;
        this.scheduler = scheduler;
      }
      ExpandOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));
      };
      return ExpandOperator;
    }();
    exports.ExpandOperator = ExpandOperator;
    var ExpandSubscriber = function(_super) {
      __extends(ExpandSubscriber, _super);
      function ExpandSubscriber(destination, project, concurrent, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.scheduler = scheduler;
        _this.index = 0;
        _this.active = 0;
        _this.hasCompleted = false;
        concurrent < Number.POSITIVE_INFINITY && (_this.buffer = []);
        return _this;
      }
      ExpandSubscriber.dispatch = function(arg) {
        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;
        subscriber.subscribeToProjection(result, value, index);
      };
      ExpandSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        if (destination.closed) {
          this._complete();
          return;
        }
        var index = this.index++;
        if (this.active < this.concurrent) {
          destination.next(value);
          try {
            var project = this.project;
            var result = project(value, index);
            if (this.scheduler) {
              var state = {
                subscriber: this,
                result: result,
                value: value,
                index: index
              };
              var destination_1 = this.destination;
              destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));
            } else this.subscribeToProjection(result, value, index);
          } catch (e) {
            destination.error(e);
          }
        } else this.buffer.push(value);
      };
      ExpandSubscriber.prototype.subscribeToProjection = function(result, value, index) {
        this.active++;
        var destination = this.destination;
        destination.add(subscribeToResult_1.subscribeToResult(this, result, value, index));
      };
      ExpandSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        this.hasCompleted && 0 === this.active && this.destination.complete();
        this.unsubscribe();
      };
      ExpandSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this._next(innerValue);
      };
      ExpandSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        var destination = this.destination;
        destination.remove(innerSub);
        this.active--;
        buffer && buffer.length > 0 && this._next(buffer.shift());
        this.hasCompleted && 0 === this.active && this.destination.complete();
      };
      return ExpandSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.ExpandSubscriber = ExpandSubscriber;
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  112: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function filter(predicate, thisArg) {
      return function filterOperatorFunction(source) {
        return source.lift(new FilterOperator(predicate, thisArg));
      };
    }
    exports.filter = filter;
    var FilterOperator = function() {
      function FilterOperator(predicate, thisArg) {
        this.predicate = predicate;
        this.thisArg = thisArg;
      }
      FilterOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
      };
      return FilterOperator;
    }();
    var FilterSubscriber = function(_super) {
      __extends(FilterSubscriber, _super);
      function FilterSubscriber(destination, predicate, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.count = 0;
        return _this;
      }
      FilterSubscriber.prototype._next = function(value) {
        var result;
        try {
          result = this.predicate.call(this.thisArg, value, this.count++);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        result && this.destination.next(value);
      };
      return FilterSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  113: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    function finalize(callback) {
      return function(source) {
        return source.lift(new FinallyOperator(callback));
      };
    }
    exports.finalize = finalize;
    var FinallyOperator = function() {
      function FinallyOperator(callback) {
        this.callback = callback;
      }
      FinallyOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new FinallySubscriber(subscriber, this.callback));
      };
      return FinallyOperator;
    }();
    var FinallySubscriber = function(_super) {
      __extends(FinallySubscriber, _super);
      function FinallySubscriber(destination, callback) {
        var _this = _super.call(this, destination) || this;
        _this.add(new Subscription_1.Subscription(callback));
        return _this;
      }
      return FinallySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../Subscription": 49
  } ],
  114: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function find(predicate, thisArg) {
      if ("function" !== typeof predicate) throw new TypeError("predicate is not a function");
      return function(source) {
        return source.lift(new FindValueOperator(predicate, source, false, thisArg));
      };
    }
    exports.find = find;
    var FindValueOperator = function() {
      function FindValueOperator(predicate, source, yieldIndex, thisArg) {
        this.predicate = predicate;
        this.source = source;
        this.yieldIndex = yieldIndex;
        this.thisArg = thisArg;
      }
      FindValueOperator.prototype.call = function(observer, source) {
        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));
      };
      return FindValueOperator;
    }();
    exports.FindValueOperator = FindValueOperator;
    var FindValueSubscriber = function(_super) {
      __extends(FindValueSubscriber, _super);
      function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.yieldIndex = yieldIndex;
        _this.thisArg = thisArg;
        _this.index = 0;
        return _this;
      }
      FindValueSubscriber.prototype.notifyComplete = function(value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
        this.unsubscribe();
      };
      FindValueSubscriber.prototype._next = function(value) {
        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;
        var index = this.index++;
        try {
          var result = predicate.call(thisArg || this, value, index, this.source);
          result && this.notifyComplete(this.yieldIndex ? index : value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      FindValueSubscriber.prototype._complete = function() {
        this.notifyComplete(this.yieldIndex ? -1 : void 0);
      };
      return FindValueSubscriber;
    }(Subscriber_1.Subscriber);
    exports.FindValueSubscriber = FindValueSubscriber;
  }, {
    "../Subscriber": 48
  } ],
  115: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var find_1 = require("../operators/find");
    function findIndex(predicate, thisArg) {
      return function(source) {
        return source.lift(new find_1.FindValueOperator(predicate, source, true, thisArg));
      };
    }
    exports.findIndex = findIndex;
  }, {
    "../operators/find": 114
  } ],
  116: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var EmptyError_1 = require("../util/EmptyError");
    var filter_1 = require("./filter");
    var take_1 = require("./take");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var identity_1 = require("../util/identity");
    function first(predicate, defaultValue) {
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(predicate ? filter_1.filter(function(v, i) {
          return predicate(v, i, source);
        }) : identity_1.identity, take_1.take(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new EmptyError_1.EmptyError();
        }));
      };
    }
    exports.first = first;
  }, {
    "../util/EmptyError": 203,
    "../util/identity": 210,
    "./defaultIfEmpty": 99,
    "./filter": 112,
    "./take": 164,
    "./throwIfEmpty": 171
  } ],
  117: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subscription_1 = require("../Subscription");
    var Observable_1 = require("../Observable");
    var Subject_1 = require("../Subject");
    function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {
      return function(source) {
        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));
      };
    }
    exports.groupBy = groupBy;
    var GroupByOperator = function() {
      function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {
        this.keySelector = keySelector;
        this.elementSelector = elementSelector;
        this.durationSelector = durationSelector;
        this.subjectSelector = subjectSelector;
      }
      GroupByOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));
      };
      return GroupByOperator;
    }();
    var GroupBySubscriber = function(_super) {
      __extends(GroupBySubscriber, _super);
      function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.elementSelector = elementSelector;
        _this.durationSelector = durationSelector;
        _this.subjectSelector = subjectSelector;
        _this.groups = null;
        _this.attemptedToUnsubscribe = false;
        _this.count = 0;
        return _this;
      }
      GroupBySubscriber.prototype._next = function(value) {
        var key;
        try {
          key = this.keySelector(value);
        } catch (err) {
          this.error(err);
          return;
        }
        this._group(value, key);
      };
      GroupBySubscriber.prototype._group = function(value, key) {
        var groups = this.groups;
        groups || (groups = this.groups = new Map());
        var group = groups.get(key);
        var element;
        if (this.elementSelector) try {
          element = this.elementSelector(value);
        } catch (err) {
          this.error(err);
        } else element = value;
        if (!group) {
          group = this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject();
          groups.set(key, group);
          var groupedObservable = new GroupedObservable(key, group, this);
          this.destination.next(groupedObservable);
          if (this.durationSelector) {
            var duration = void 0;
            try {
              duration = this.durationSelector(new GroupedObservable(key, group));
            } catch (err) {
              this.error(err);
              return;
            }
            this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));
          }
        }
        group.closed || group.next(element);
      };
      GroupBySubscriber.prototype._error = function(err) {
        var groups = this.groups;
        if (groups) {
          groups.forEach(function(group, key) {
            group.error(err);
          });
          groups.clear();
        }
        this.destination.error(err);
      };
      GroupBySubscriber.prototype._complete = function() {
        var groups = this.groups;
        if (groups) {
          groups.forEach(function(group, key) {
            group.complete();
          });
          groups.clear();
        }
        this.destination.complete();
      };
      GroupBySubscriber.prototype.removeGroup = function(key) {
        this.groups.delete(key);
      };
      GroupBySubscriber.prototype.unsubscribe = function() {
        if (!this.closed) {
          this.attemptedToUnsubscribe = true;
          0 === this.count && _super.prototype.unsubscribe.call(this);
        }
      };
      return GroupBySubscriber;
    }(Subscriber_1.Subscriber);
    var GroupDurationSubscriber = function(_super) {
      __extends(GroupDurationSubscriber, _super);
      function GroupDurationSubscriber(key, group, parent) {
        var _this = _super.call(this, group) || this;
        _this.key = key;
        _this.group = group;
        _this.parent = parent;
        return _this;
      }
      GroupDurationSubscriber.prototype._next = function(value) {
        this.complete();
      };
      GroupDurationSubscriber.prototype._unsubscribe = function() {
        var _a = this, parent = _a.parent, key = _a.key;
        this.key = this.parent = null;
        parent && parent.removeGroup(key);
      };
      return GroupDurationSubscriber;
    }(Subscriber_1.Subscriber);
    var GroupedObservable = function(_super) {
      __extends(GroupedObservable, _super);
      function GroupedObservable(key, groupSubject, refCountSubscription) {
        var _this = _super.call(this) || this;
        _this.key = key;
        _this.groupSubject = groupSubject;
        _this.refCountSubscription = refCountSubscription;
        return _this;
      }
      GroupedObservable.prototype._subscribe = function(subscriber) {
        var subscription = new Subscription_1.Subscription();
        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;
        refCountSubscription && !refCountSubscription.closed && subscription.add(new InnerRefCountSubscription(refCountSubscription));
        subscription.add(groupSubject.subscribe(subscriber));
        return subscription;
      };
      return GroupedObservable;
    }(Observable_1.Observable);
    exports.GroupedObservable = GroupedObservable;
    var InnerRefCountSubscription = function(_super) {
      __extends(InnerRefCountSubscription, _super);
      function InnerRefCountSubscription(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        parent.count++;
        return _this;
      }
      InnerRefCountSubscription.prototype.unsubscribe = function() {
        var parent = this.parent;
        if (!parent.closed && !this.closed) {
          _super.prototype.unsubscribe.call(this);
          parent.count -= 1;
          0 === parent.count && parent.attemptedToUnsubscribe && parent.unsubscribe();
        }
      };
      return InnerRefCountSubscription;
    }(Subscription_1.Subscription);
  }, {
    "../Observable": 41,
    "../Subject": 46,
    "../Subscriber": 48,
    "../Subscription": 49
  } ],
  118: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function ignoreElements() {
      return function ignoreElementsOperatorFunction(source) {
        return source.lift(new IgnoreElementsOperator());
      };
    }
    exports.ignoreElements = ignoreElements;
    var IgnoreElementsOperator = function() {
      function IgnoreElementsOperator() {}
      IgnoreElementsOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new IgnoreElementsSubscriber(subscriber));
      };
      return IgnoreElementsOperator;
    }();
    var IgnoreElementsSubscriber = function(_super) {
      __extends(IgnoreElementsSubscriber, _super);
      function IgnoreElementsSubscriber() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      IgnoreElementsSubscriber.prototype._next = function(unused) {};
      return IgnoreElementsSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  119: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function isEmpty() {
      return function(source) {
        return source.lift(new IsEmptyOperator());
      };
    }
    exports.isEmpty = isEmpty;
    var IsEmptyOperator = function() {
      function IsEmptyOperator() {}
      IsEmptyOperator.prototype.call = function(observer, source) {
        return source.subscribe(new IsEmptySubscriber(observer));
      };
      return IsEmptyOperator;
    }();
    var IsEmptySubscriber = function(_super) {
      __extends(IsEmptySubscriber, _super);
      function IsEmptySubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      IsEmptySubscriber.prototype.notifyComplete = function(isEmpty) {
        var destination = this.destination;
        destination.next(isEmpty);
        destination.complete();
      };
      IsEmptySubscriber.prototype._next = function(value) {
        this.notifyComplete(false);
      };
      IsEmptySubscriber.prototype._complete = function() {
        this.notifyComplete(true);
      };
      return IsEmptySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  120: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var EmptyError_1 = require("../util/EmptyError");
    var filter_1 = require("./filter");
    var takeLast_1 = require("./takeLast");
    var throwIfEmpty_1 = require("./throwIfEmpty");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var identity_1 = require("../util/identity");
    function last(predicate, defaultValue) {
      var hasDefaultValue = arguments.length >= 2;
      return function(source) {
        return source.pipe(predicate ? filter_1.filter(function(v, i) {
          return predicate(v, i, source);
        }) : identity_1.identity, takeLast_1.takeLast(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function() {
          return new EmptyError_1.EmptyError();
        }));
      };
    }
    exports.last = last;
  }, {
    "../util/EmptyError": 203,
    "../util/identity": 210,
    "./defaultIfEmpty": 99,
    "./filter": 112,
    "./takeLast": 165,
    "./throwIfEmpty": 171
  } ],
  121: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function map(project, thisArg) {
      return function mapOperation(source) {
        if ("function" !== typeof project) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
        return source.lift(new MapOperator(project, thisArg));
      };
    }
    exports.map = map;
    var MapOperator = function() {
      function MapOperator(project, thisArg) {
        this.project = project;
        this.thisArg = thisArg;
      }
      MapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
      };
      return MapOperator;
    }();
    exports.MapOperator = MapOperator;
    var MapSubscriber = function(_super) {
      __extends(MapSubscriber, _super);
      function MapSubscriber(destination, project, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.count = 0;
        _this.thisArg = thisArg || _this;
        return _this;
      }
      MapSubscriber.prototype._next = function(value) {
        var result;
        try {
          result = this.project.call(this.thisArg, value, this.count++);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return MapSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  122: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function mapTo(value) {
      return function(source) {
        return source.lift(new MapToOperator(value));
      };
    }
    exports.mapTo = mapTo;
    var MapToOperator = function() {
      function MapToOperator(value) {
        this.value = value;
      }
      MapToOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MapToSubscriber(subscriber, this.value));
      };
      return MapToOperator;
    }();
    var MapToSubscriber = function(_super) {
      __extends(MapToSubscriber, _super);
      function MapToSubscriber(destination, value) {
        var _this = _super.call(this, destination) || this;
        _this.value = value;
        return _this;
      }
      MapToSubscriber.prototype._next = function(x) {
        this.destination.next(this.value);
      };
      return MapToSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  123: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function materialize() {
      return function materializeOperatorFunction(source) {
        return source.lift(new MaterializeOperator());
      };
    }
    exports.materialize = materialize;
    var MaterializeOperator = function() {
      function MaterializeOperator() {}
      MaterializeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MaterializeSubscriber(subscriber));
      };
      return MaterializeOperator;
    }();
    var MaterializeSubscriber = function(_super) {
      __extends(MaterializeSubscriber, _super);
      function MaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
      }
      MaterializeSubscriber.prototype._next = function(value) {
        this.destination.next(Notification_1.Notification.createNext(value));
      };
      MaterializeSubscriber.prototype._error = function(err) {
        var destination = this.destination;
        destination.next(Notification_1.Notification.createError(err));
        destination.complete();
      };
      MaterializeSubscriber.prototype._complete = function() {
        var destination = this.destination;
        destination.next(Notification_1.Notification.createComplete());
        destination.complete();
      };
      return MaterializeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Notification": 40,
    "../Subscriber": 48
  } ],
  124: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function max(comparer) {
      var max = "function" === typeof comparer ? function(x, y) {
        return comparer(x, y) > 0 ? x : y;
      } : function(x, y) {
        return x > y ? x : y;
      };
      return reduce_1.reduce(max);
    }
    exports.max = max;
  }, {
    "./reduce": 142
  } ],
  125: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var merge_1 = require("../observable/merge");
    function merge() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function(source) {
        return source.lift.call(merge_1.merge.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.merge = merge;
  }, {
    "../observable/merge": 70
  } ],
  126: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    var identity_1 = require("../util/identity");
    function mergeAll(concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      return mergeMap_1.mergeMap(identity_1.identity, concurrent);
    }
    exports.mergeAll = mergeAll;
  }, {
    "../util/identity": 210,
    "./mergeMap": 127
  } ],
  127: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function mergeMap(project, resultSelector, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      if ("function" === typeof resultSelector) return function(source) {
        return source.pipe(mergeMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }, concurrent));
      };
      "number" === typeof resultSelector && (concurrent = resultSelector);
      return function(source) {
        return source.lift(new MergeMapOperator(project, concurrent));
      };
    }
    exports.mergeMap = mergeMap;
    var MergeMapOperator = function() {
      function MergeMapOperator(project, concurrent) {
        void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
        this.project = project;
        this.concurrent = concurrent;
      }
      MergeMapOperator.prototype.call = function(observer, source) {
        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));
      };
      return MergeMapOperator;
    }();
    exports.MergeMapOperator = MergeMapOperator;
    var MergeMapSubscriber = function(_super) {
      __extends(MergeMapSubscriber, _super);
      function MergeMapSubscriber(destination, project, concurrent) {
        void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
      }
      MergeMapSubscriber.prototype._next = function(value) {
        this.active < this.concurrent ? this._tryNext(value) : this.buffer.push(value);
      };
      MergeMapSubscriber.prototype._tryNext = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.active++;
        this._innerSub(result, value, index);
      };
      MergeMapSubscriber.prototype._innerSub = function(ish, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, ish, value, index, innerSubscriber);
      };
      MergeMapSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        0 === this.active && 0 === this.buffer.length && this.destination.complete();
        this.unsubscribe();
      };
      MergeMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      MergeMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        this.remove(innerSub);
        this.active--;
        buffer.length > 0 ? this._next(buffer.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete();
      };
      return MergeMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeMapSubscriber = MergeMapSubscriber;
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../observable/from": 60,
    "../util/subscribeToResult": 230,
    "./map": 121
  } ],
  128: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var mergeMap_1 = require("./mergeMap");
    function mergeMapTo(innerObservable, resultSelector, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      if ("function" === typeof resultSelector) return mergeMap_1.mergeMap(function() {
        return innerObservable;
      }, resultSelector, concurrent);
      "number" === typeof resultSelector && (concurrent = resultSelector);
      return mergeMap_1.mergeMap(function() {
        return innerObservable;
      }, concurrent);
    }
    exports.mergeMapTo = mergeMapTo;
  }, {
    "./mergeMap": 127
  } ],
  129: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    function mergeScan(accumulator, seed, concurrent) {
      void 0 === concurrent && (concurrent = Number.POSITIVE_INFINITY);
      return function(source) {
        return source.lift(new MergeScanOperator(accumulator, seed, concurrent));
      };
    }
    exports.mergeScan = mergeScan;
    var MergeScanOperator = function() {
      function MergeScanOperator(accumulator, seed, concurrent) {
        this.accumulator = accumulator;
        this.seed = seed;
        this.concurrent = concurrent;
      }
      MergeScanOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));
      };
      return MergeScanOperator;
    }();
    exports.MergeScanOperator = MergeScanOperator;
    var MergeScanSubscriber = function(_super) {
      __extends(MergeScanSubscriber, _super);
      function MergeScanSubscriber(destination, accumulator, acc, concurrent) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this.acc = acc;
        _this.concurrent = concurrent;
        _this.hasValue = false;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
      }
      MergeScanSubscriber.prototype._next = function(value) {
        if (this.active < this.concurrent) {
          var index = this.index++;
          var destination = this.destination;
          var ish = void 0;
          try {
            var accumulator = this.accumulator;
            ish = accumulator(this.acc, value, index);
          } catch (e) {
            return destination.error(e);
          }
          this.active++;
          this._innerSub(ish, value, index);
        } else this.buffer.push(value);
      };
      MergeScanSubscriber.prototype._innerSub = function(ish, value, index) {
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        subscribeToResult_1.subscribeToResult(this, ish, value, index, innerSubscriber);
      };
      MergeScanSubscriber.prototype._complete = function() {
        this.hasCompleted = true;
        if (0 === this.active && 0 === this.buffer.length) {
          false === this.hasValue && this.destination.next(this.acc);
          this.destination.complete();
        }
        this.unsubscribe();
      };
      MergeScanSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var destination = this.destination;
        this.acc = innerValue;
        this.hasValue = true;
        destination.next(innerValue);
      };
      MergeScanSubscriber.prototype.notifyComplete = function(innerSub) {
        var buffer = this.buffer;
        var destination = this.destination;
        destination.remove(innerSub);
        this.active--;
        if (buffer.length > 0) this._next(buffer.shift()); else if (0 === this.active && this.hasCompleted) {
          false === this.hasValue && this.destination.next(this.acc);
          this.destination.complete();
        }
      };
      return MergeScanSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
    exports.MergeScanSubscriber = MergeScanSubscriber;
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  130: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function min(comparer) {
      var min = "function" === typeof comparer ? function(x, y) {
        return comparer(x, y) < 0 ? x : y;
      } : function(x, y) {
        return x < y ? x : y;
      };
      return reduce_1.reduce(min);
    }
    exports.min = min;
  }, {
    "./reduce": 142
  } ],
  131: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ConnectableObservable_1 = require("../observable/ConnectableObservable");
    function multicast(subjectOrSubjectFactory, selector) {
      return function multicastOperatorFunction(source) {
        var subjectFactory;
        subjectFactory = "function" === typeof subjectOrSubjectFactory ? subjectOrSubjectFactory : function subjectFactory() {
          return subjectOrSubjectFactory;
        };
        if ("function" === typeof selector) return source.lift(new MulticastOperator(subjectFactory, selector));
        var connectable = Object.create(source, ConnectableObservable_1.connectableObservableDescriptor);
        connectable.source = source;
        connectable.subjectFactory = subjectFactory;
        return connectable;
      };
    }
    exports.multicast = multicast;
    var MulticastOperator = function() {
      function MulticastOperator(subjectFactory, selector) {
        this.subjectFactory = subjectFactory;
        this.selector = selector;
      }
      MulticastOperator.prototype.call = function(subscriber, source) {
        var selector = this.selector;
        var subject = this.subjectFactory();
        var subscription = selector(subject).subscribe(subscriber);
        subscription.add(source.subscribe(subject));
        return subscription;
      };
      return MulticastOperator;
    }();
    exports.MulticastOperator = MulticastOperator;
  }, {
    "../observable/ConnectableObservable": 51
  } ],
  132: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Notification_1 = require("../Notification");
    function observeOn(scheduler, delay) {
      void 0 === delay && (delay = 0);
      return function observeOnOperatorFunction(source) {
        return source.lift(new ObserveOnOperator(scheduler, delay));
      };
    }
    exports.observeOn = observeOn;
    var ObserveOnOperator = function() {
      function ObserveOnOperator(scheduler, delay) {
        void 0 === delay && (delay = 0);
        this.scheduler = scheduler;
        this.delay = delay;
      }
      ObserveOnOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
      };
      return ObserveOnOperator;
    }();
    exports.ObserveOnOperator = ObserveOnOperator;
    var ObserveOnSubscriber = function(_super) {
      __extends(ObserveOnSubscriber, _super);
      function ObserveOnSubscriber(destination, scheduler, delay) {
        void 0 === delay && (delay = 0);
        var _this = _super.call(this, destination) || this;
        _this.scheduler = scheduler;
        _this.delay = delay;
        return _this;
      }
      ObserveOnSubscriber.dispatch = function(arg) {
        var notification = arg.notification, destination = arg.destination;
        notification.observe(destination);
        this.unsubscribe();
      };
      ObserveOnSubscriber.prototype.scheduleMessage = function(notification) {
        var destination = this.destination;
        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
      };
      ObserveOnSubscriber.prototype._next = function(value) {
        this.scheduleMessage(Notification_1.Notification.createNext(value));
      };
      ObserveOnSubscriber.prototype._error = function(err) {
        this.scheduleMessage(Notification_1.Notification.createError(err));
        this.unsubscribe();
      };
      ObserveOnSubscriber.prototype._complete = function() {
        this.scheduleMessage(Notification_1.Notification.createComplete());
        this.unsubscribe();
      };
      return ObserveOnSubscriber;
    }(Subscriber_1.Subscriber);
    exports.ObserveOnSubscriber = ObserveOnSubscriber;
    var ObserveOnMessage = function() {
      function ObserveOnMessage(notification, destination) {
        this.notification = notification;
        this.destination = destination;
      }
      return ObserveOnMessage;
    }();
    exports.ObserveOnMessage = ObserveOnMessage;
  }, {
    "../Notification": 40,
    "../Subscriber": 48
  } ],
  133: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var from_1 = require("../observable/from");
    var isArray_1 = require("../util/isArray");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function onErrorResumeNext() {
      var nextSources = [];
      for (var _i = 0; _i < arguments.length; _i++) nextSources[_i] = arguments[_i];
      1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]);
      return function(source) {
        return source.lift(new OnErrorResumeNextOperator(nextSources));
      };
    }
    exports.onErrorResumeNext = onErrorResumeNext;
    function onErrorResumeNextStatic() {
      var nextSources = [];
      for (var _i = 0; _i < arguments.length; _i++) nextSources[_i] = arguments[_i];
      var source = null;
      1 === nextSources.length && isArray_1.isArray(nextSources[0]) && (nextSources = nextSources[0]);
      source = nextSources.shift();
      return from_1.from(source, null).lift(new OnErrorResumeNextOperator(nextSources));
    }
    exports.onErrorResumeNextStatic = onErrorResumeNextStatic;
    var OnErrorResumeNextOperator = function() {
      function OnErrorResumeNextOperator(nextSources) {
        this.nextSources = nextSources;
      }
      OnErrorResumeNextOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));
      };
      return OnErrorResumeNextOperator;
    }();
    var OnErrorResumeNextSubscriber = function(_super) {
      __extends(OnErrorResumeNextSubscriber, _super);
      function OnErrorResumeNextSubscriber(destination, nextSources) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.nextSources = nextSources;
        return _this;
      }
      OnErrorResumeNextSubscriber.prototype.notifyError = function(error, innerSub) {
        this.subscribeToNextSource();
      };
      OnErrorResumeNextSubscriber.prototype.notifyComplete = function(innerSub) {
        this.subscribeToNextSource();
      };
      OnErrorResumeNextSubscriber.prototype._error = function(err) {
        this.subscribeToNextSource();
        this.unsubscribe();
      };
      OnErrorResumeNextSubscriber.prototype._complete = function() {
        this.subscribeToNextSource();
        this.unsubscribe();
      };
      OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function() {
        var next = this.nextSources.shift();
        if (!next) this.destination.complete(); else {
          var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
          var destination = this.destination;
          destination.add(innerSubscriber);
          subscribeToResult_1.subscribeToResult(this, next, void 0, void 0, innerSubscriber);
        }
      };
      return OnErrorResumeNextSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../observable/from": 60,
    "../util/isArray": 211,
    "../util/subscribeToResult": 230
  } ],
  134: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function pairwise() {
      return function(source) {
        return source.lift(new PairwiseOperator());
      };
    }
    exports.pairwise = pairwise;
    var PairwiseOperator = function() {
      function PairwiseOperator() {}
      PairwiseOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new PairwiseSubscriber(subscriber));
      };
      return PairwiseOperator;
    }();
    var PairwiseSubscriber = function(_super) {
      __extends(PairwiseSubscriber, _super);
      function PairwiseSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasPrev = false;
        return _this;
      }
      PairwiseSubscriber.prototype._next = function(value) {
        this.hasPrev ? this.destination.next([ this.prev, value ]) : this.hasPrev = true;
        this.prev = value;
      };
      return PairwiseSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  135: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var not_1 = require("../util/not");
    var filter_1 = require("./filter");
    function partition(predicate, thisArg) {
      return function(source) {
        return [ filter_1.filter(predicate, thisArg)(source), filter_1.filter(not_1.not(predicate, thisArg))(source) ];
      };
    }
    exports.partition = partition;
  }, {
    "../util/not": 223,
    "./filter": 112
  } ],
  136: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var map_1 = require("./map");
    function pluck() {
      var properties = [];
      for (var _i = 0; _i < arguments.length; _i++) properties[_i] = arguments[_i];
      var length = properties.length;
      if (0 === length) throw new Error("list of properties cannot be empty.");
      return function(source) {
        return map_1.map(plucker(properties, length))(source);
      };
    }
    exports.pluck = pluck;
    function plucker(props, length) {
      var mapper = function(x) {
        var currentProp = x;
        for (var i = 0; i < length; i++) {
          var p = currentProp[props[i]];
          if ("undefined" === typeof p) return;
          currentProp = p;
        }
        return currentProp;
      };
      return mapper;
    }
  }, {
    "./map": 121
  } ],
  137: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var multicast_1 = require("./multicast");
    function publish(selector) {
      return selector ? multicast_1.multicast(function() {
        return new Subject_1.Subject();
      }, selector) : multicast_1.multicast(new Subject_1.Subject());
    }
    exports.publish = publish;
  }, {
    "../Subject": 46,
    "./multicast": 131
  } ],
  138: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var BehaviorSubject_1 = require("../BehaviorSubject");
    var multicast_1 = require("./multicast");
    function publishBehavior(value) {
      return function(source) {
        return multicast_1.multicast(new BehaviorSubject_1.BehaviorSubject(value))(source);
      };
    }
    exports.publishBehavior = publishBehavior;
  }, {
    "../BehaviorSubject": 38,
    "./multicast": 131
  } ],
  139: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncSubject_1 = require("../AsyncSubject");
    var multicast_1 = require("./multicast");
    function publishLast() {
      return function(source) {
        return multicast_1.multicast(new AsyncSubject_1.AsyncSubject())(source);
      };
    }
    exports.publishLast = publishLast;
  }, {
    "../AsyncSubject": 37,
    "./multicast": 131
  } ],
  140: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ReplaySubject_1 = require("../ReplaySubject");
    var multicast_1 = require("./multicast");
    function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {
      selectorOrScheduler && "function" !== typeof selectorOrScheduler && (scheduler = selectorOrScheduler);
      var selector = "function" === typeof selectorOrScheduler ? selectorOrScheduler : void 0;
      var subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);
      return function(source) {
        return multicast_1.multicast(function() {
          return subject;
        }, selector)(source);
      };
    }
    exports.publishReplay = publishReplay;
  }, {
    "../ReplaySubject": 44,
    "./multicast": 131
  } ],
  141: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("../util/isArray");
    var race_1 = require("../observable/race");
    function race() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function raceOperatorFunction(source) {
        1 === observables.length && isArray_1.isArray(observables[0]) && (observables = observables[0]);
        return source.lift.call(race_1.race.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.race = race;
  }, {
    "../observable/race": 75,
    "../util/isArray": 211
  } ],
  142: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var scan_1 = require("./scan");
    var takeLast_1 = require("./takeLast");
    var defaultIfEmpty_1 = require("./defaultIfEmpty");
    var pipe_1 = require("../util/pipe");
    function reduce(accumulator, seed) {
      if (arguments.length >= 2) return function reduceOperatorFunctionWithSeed(source) {
        return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);
      };
      return function reduceOperatorFunction(source) {
        return pipe_1.pipe(scan_1.scan(function(acc, value, index) {
          return accumulator(acc, value, index + 1);
        }), takeLast_1.takeLast(1))(source);
      };
    }
    exports.reduce = reduce;
  }, {
    "../util/pipe": 224,
    "./defaultIfEmpty": 99,
    "./scan": 150,
    "./takeLast": 165
  } ],
  143: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function refCount() {
      return function refCountOperatorFunction(source) {
        return source.lift(new RefCountOperator(source));
      };
    }
    exports.refCount = refCount;
    var RefCountOperator = function() {
      function RefCountOperator(connectable) {
        this.connectable = connectable;
      }
      RefCountOperator.prototype.call = function(subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        refCounter.closed || (refCounter.connection = connectable.connect());
        return subscription;
      };
      return RefCountOperator;
    }();
    var RefCountSubscriber = function(_super) {
      __extends(RefCountSubscriber, _super);
      function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
      }
      RefCountSubscriber.prototype._unsubscribe = function() {
        var connectable = this.connectable;
        if (!connectable) {
          this.connection = null;
          return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
          this.connection = null;
          return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
          this.connection = null;
          return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        !sharedConnection || connection && sharedConnection !== connection || sharedConnection.unsubscribe();
      };
      return RefCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  144: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var empty_1 = require("../observable/empty");
    function repeat(count) {
      void 0 === count && (count = -1);
      return function(source) {
        return 0 === count ? empty_1.empty() : count < 0 ? source.lift(new RepeatOperator(-1, source)) : source.lift(new RepeatOperator(count - 1, source));
      };
    }
    exports.repeat = repeat;
    var RepeatOperator = function() {
      function RepeatOperator(count, source) {
        this.count = count;
        this.source = source;
      }
      RepeatOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));
      };
      return RepeatOperator;
    }();
    var RepeatSubscriber = function(_super) {
      __extends(RepeatSubscriber, _super);
      function RepeatSubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
      }
      RepeatSubscriber.prototype.complete = function() {
        if (!this.isStopped) {
          var _a = this, source = _a.source, count = _a.count;
          if (0 === count) return _super.prototype.complete.call(this);
          count > -1 && (this.count = count - 1);
          source.subscribe(this._unsubscribeAndRecycle());
        }
      };
      return RepeatSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../observable/empty": 58
  } ],
  145: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function repeatWhen(notifier) {
      return function(source) {
        return source.lift(new RepeatWhenOperator(notifier));
      };
    }
    exports.repeatWhen = repeatWhen;
    var RepeatWhenOperator = function() {
      function RepeatWhenOperator(notifier) {
        this.notifier = notifier;
      }
      RepeatWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));
      };
      return RepeatWhenOperator;
    }();
    var RepeatWhenSubscriber = function(_super) {
      __extends(RepeatWhenSubscriber, _super);
      function RepeatWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        _this.sourceIsBeingSubscribedTo = true;
        return _this;
      }
      RepeatWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.sourceIsBeingSubscribedTo = true;
        this.source.subscribe(this);
      };
      RepeatWhenSubscriber.prototype.notifyComplete = function(innerSub) {
        if (false === this.sourceIsBeingSubscribedTo) return _super.prototype.complete.call(this);
      };
      RepeatWhenSubscriber.prototype.complete = function() {
        this.sourceIsBeingSubscribedTo = false;
        if (!this.isStopped) {
          this.retries || this.subscribeToRetries();
          if (!this.retriesSubscription || this.retriesSubscription.closed) return _super.prototype.complete.call(this);
          this._unsubscribeAndRecycle();
          this.notifications.next();
        }
      };
      RepeatWhenSubscriber.prototype._unsubscribe = function() {
        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;
        if (notifications) {
          notifications.unsubscribe();
          this.notifications = null;
        }
        if (retriesSubscription) {
          retriesSubscription.unsubscribe();
          this.retriesSubscription = null;
        }
        this.retries = null;
      };
      RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function() {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        _super.prototype._unsubscribeAndRecycle.call(this);
        this._unsubscribe = _unsubscribe;
        return this;
      };
      RepeatWhenSubscriber.prototype.subscribeToRetries = function() {
        this.notifications = new Subject_1.Subject();
        var retries;
        try {
          var notifier = this.notifier;
          retries = notifier(this.notifications);
        } catch (e) {
          return _super.prototype.complete.call(this);
        }
        this.retries = retries;
        this.retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
      };
      return RepeatWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subject": 46,
    "../util/subscribeToResult": 230
  } ],
  146: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function retry(count) {
      void 0 === count && (count = -1);
      return function(source) {
        return source.lift(new RetryOperator(count, source));
      };
    }
    exports.retry = retry;
    var RetryOperator = function() {
      function RetryOperator(count, source) {
        this.count = count;
        this.source = source;
      }
      RetryOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));
      };
      return RetryOperator;
    }();
    var RetrySubscriber = function(_super) {
      __extends(RetrySubscriber, _super);
      function RetrySubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
      }
      RetrySubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var _a = this, source = _a.source, count = _a.count;
          if (0 === count) return _super.prototype.error.call(this, err);
          count > -1 && (this.count = count - 1);
          source.subscribe(this._unsubscribeAndRecycle());
        }
      };
      return RetrySubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  147: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function retryWhen(notifier) {
      return function(source) {
        return source.lift(new RetryWhenOperator(notifier, source));
      };
    }
    exports.retryWhen = retryWhen;
    var RetryWhenOperator = function() {
      function RetryWhenOperator(notifier, source) {
        this.notifier = notifier;
        this.source = source;
      }
      RetryWhenOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));
      };
      return RetryWhenOperator;
    }();
    var RetryWhenSubscriber = function(_super) {
      __extends(RetryWhenSubscriber, _super);
      function RetryWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        return _this;
      }
      RetryWhenSubscriber.prototype.error = function(err) {
        if (!this.isStopped) {
          var errors = this.errors;
          var retries = this.retries;
          var retriesSubscription = this.retriesSubscription;
          if (retries) {
            this.errors = null;
            this.retriesSubscription = null;
          } else {
            errors = new Subject_1.Subject();
            try {
              var notifier = this.notifier;
              retries = notifier(errors);
            } catch (e) {
              return _super.prototype.error.call(this, e);
            }
            retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);
          }
          this._unsubscribeAndRecycle();
          this.errors = errors;
          this.retries = retries;
          this.retriesSubscription = retriesSubscription;
          errors.next(err);
        }
      };
      RetryWhenSubscriber.prototype._unsubscribe = function() {
        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;
        if (errors) {
          errors.unsubscribe();
          this.errors = null;
        }
        if (retriesSubscription) {
          retriesSubscription.unsubscribe();
          this.retriesSubscription = null;
        }
        this.retries = null;
      };
      RetryWhenSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        this._unsubscribeAndRecycle();
        this._unsubscribe = _unsubscribe;
        this.source.subscribe(this);
      };
      return RetryWhenSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subject": 46,
    "../util/subscribeToResult": 230
  } ],
  148: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function sample(notifier) {
      return function(source) {
        return source.lift(new SampleOperator(notifier));
      };
    }
    exports.sample = sample;
    var SampleOperator = function() {
      function SampleOperator(notifier) {
        this.notifier = notifier;
      }
      SampleOperator.prototype.call = function(subscriber, source) {
        var sampleSubscriber = new SampleSubscriber(subscriber);
        var subscription = source.subscribe(sampleSubscriber);
        subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber, this.notifier));
        return subscription;
      };
      return SampleOperator;
    }();
    var SampleSubscriber = function(_super) {
      __extends(SampleSubscriber, _super);
      function SampleSubscriber() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.hasValue = false;
        return _this;
      }
      SampleSubscriber.prototype._next = function(value) {
        this.value = value;
        this.hasValue = true;
      };
      SampleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.emitValue();
      };
      SampleSubscriber.prototype.notifyComplete = function() {
        this.emitValue();
      };
      SampleSubscriber.prototype.emitValue = function() {
        if (this.hasValue) {
          this.hasValue = false;
          this.destination.next(this.value);
        }
      };
      return SampleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  149: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    function sampleTime(period, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return source.lift(new SampleTimeOperator(period, scheduler));
      };
    }
    exports.sampleTime = sampleTime;
    var SampleTimeOperator = function() {
      function SampleTimeOperator(period, scheduler) {
        this.period = period;
        this.scheduler = scheduler;
      }
      SampleTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));
      };
      return SampleTimeOperator;
    }();
    var SampleTimeSubscriber = function(_super) {
      __extends(SampleTimeSubscriber, _super);
      function SampleTimeSubscriber(destination, period, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.period = period;
        _this.scheduler = scheduler;
        _this.hasValue = false;
        _this.add(scheduler.schedule(dispatchNotification, period, {
          subscriber: _this,
          period: period
        }));
        return _this;
      }
      SampleTimeSubscriber.prototype._next = function(value) {
        this.lastValue = value;
        this.hasValue = true;
      };
      SampleTimeSubscriber.prototype.notifyNext = function() {
        if (this.hasValue) {
          this.hasValue = false;
          this.destination.next(this.lastValue);
        }
      };
      return SampleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNotification(state) {
      var subscriber = state.subscriber, period = state.period;
      subscriber.notifyNext();
      this.schedule(state, period);
    }
  }, {
    "../Subscriber": 48,
    "../scheduler/async": 197
  } ],
  150: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function scan(accumulator, seed) {
      var hasSeed = false;
      arguments.length >= 2 && (hasSeed = true);
      return function scanOperatorFunction(source) {
        return source.lift(new ScanOperator(accumulator, seed, hasSeed));
      };
    }
    exports.scan = scan;
    var ScanOperator = function() {
      function ScanOperator(accumulator, seed, hasSeed) {
        void 0 === hasSeed && (hasSeed = false);
        this.accumulator = accumulator;
        this.seed = seed;
        this.hasSeed = hasSeed;
      }
      ScanOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
      };
      return ScanOperator;
    }();
    var ScanSubscriber = function(_super) {
      __extends(ScanSubscriber, _super);
      function ScanSubscriber(destination, accumulator, _seed, hasSeed) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this._seed = _seed;
        _this.hasSeed = hasSeed;
        _this.index = 0;
        return _this;
      }
      Object.defineProperty(ScanSubscriber.prototype, "seed", {
        get: function() {
          return this._seed;
        },
        set: function(value) {
          this.hasSeed = true;
          this._seed = value;
        },
        enumerable: true,
        configurable: true
      });
      ScanSubscriber.prototype._next = function(value) {
        if (this.hasSeed) return this._tryNext(value);
        this.seed = value;
        this.destination.next(value);
      };
      ScanSubscriber.prototype._tryNext = function(value) {
        var index = this.index++;
        var result;
        try {
          result = this.accumulator(this.seed, value, index);
        } catch (err) {
          this.destination.error(err);
        }
        this.seed = result;
        this.destination.next(result);
      };
      return ScanSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  151: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function sequenceEqual(compareTo, comparator) {
      return function(source) {
        return source.lift(new SequenceEqualOperator(compareTo, comparator));
      };
    }
    exports.sequenceEqual = sequenceEqual;
    var SequenceEqualOperator = function() {
      function SequenceEqualOperator(compareTo, comparator) {
        this.compareTo = compareTo;
        this.comparator = comparator;
      }
      SequenceEqualOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));
      };
      return SequenceEqualOperator;
    }();
    exports.SequenceEqualOperator = SequenceEqualOperator;
    var SequenceEqualSubscriber = function(_super) {
      __extends(SequenceEqualSubscriber, _super);
      function SequenceEqualSubscriber(destination, compareTo, comparator) {
        var _this = _super.call(this, destination) || this;
        _this.compareTo = compareTo;
        _this.comparator = comparator;
        _this._a = [];
        _this._b = [];
        _this._oneComplete = false;
        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));
        return _this;
      }
      SequenceEqualSubscriber.prototype._next = function(value) {
        if (this._oneComplete && 0 === this._b.length) this.emit(false); else {
          this._a.push(value);
          this.checkValues();
        }
      };
      SequenceEqualSubscriber.prototype._complete = function() {
        this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = true;
        this.unsubscribe();
      };
      SequenceEqualSubscriber.prototype.checkValues = function() {
        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;
        while (_a.length > 0 && _b.length > 0) {
          var a = _a.shift();
          var b = _b.shift();
          var areEqual = false;
          try {
            areEqual = comparator ? comparator(a, b) : a === b;
          } catch (e) {
            this.destination.error(e);
          }
          areEqual || this.emit(false);
        }
      };
      SequenceEqualSubscriber.prototype.emit = function(value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
      };
      SequenceEqualSubscriber.prototype.nextB = function(value) {
        if (this._oneComplete && 0 === this._a.length) this.emit(false); else {
          this._b.push(value);
          this.checkValues();
        }
      };
      SequenceEqualSubscriber.prototype.completeB = function() {
        this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = true;
      };
      return SequenceEqualSubscriber;
    }(Subscriber_1.Subscriber);
    exports.SequenceEqualSubscriber = SequenceEqualSubscriber;
    var SequenceEqualCompareToSubscriber = function(_super) {
      __extends(SequenceEqualCompareToSubscriber, _super);
      function SequenceEqualCompareToSubscriber(destination, parent) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        return _this;
      }
      SequenceEqualCompareToSubscriber.prototype._next = function(value) {
        this.parent.nextB(value);
      };
      SequenceEqualCompareToSubscriber.prototype._error = function(err) {
        this.parent.error(err);
        this.unsubscribe();
      };
      SequenceEqualCompareToSubscriber.prototype._complete = function() {
        this.parent.completeB();
        this.unsubscribe();
      };
      return SequenceEqualCompareToSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  152: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var multicast_1 = require("./multicast");
    var refCount_1 = require("./refCount");
    var Subject_1 = require("../Subject");
    function shareSubjectFactory() {
      return new Subject_1.Subject();
    }
    function share() {
      return function(source) {
        return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source));
      };
    }
    exports.share = share;
  }, {
    "../Subject": 46,
    "./multicast": 131,
    "./refCount": 143
  } ],
  153: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ReplaySubject_1 = require("../ReplaySubject");
    function shareReplay(configOrBufferSize, windowTime, scheduler) {
      var config;
      config = configOrBufferSize && "object" === typeof configOrBufferSize ? configOrBufferSize : {
        bufferSize: configOrBufferSize,
        windowTime: windowTime,
        refCount: false,
        scheduler: scheduler
      };
      return function(source) {
        return source.lift(shareReplayOperator(config));
      };
    }
    exports.shareReplay = shareReplay;
    function shareReplayOperator(_a) {
      var _b = _a.bufferSize, bufferSize = void 0 === _b ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = void 0 === _c ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;
      var subject;
      var refCount = 0;
      var subscription;
      var hasError = false;
      var isComplete = false;
      return function shareReplayOperation(source) {
        refCount++;
        if (!subject || hasError) {
          hasError = false;
          subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);
          subscription = source.subscribe({
            next: function(value) {
              subject.next(value);
            },
            error: function(err) {
              hasError = true;
              subject.error(err);
            },
            complete: function() {
              isComplete = true;
              subject.complete();
            }
          });
        }
        var innerSub = subject.subscribe(this);
        this.add(function() {
          refCount--;
          innerSub.unsubscribe();
          if (subscription && !isComplete && useRefCount && 0 === refCount) {
            subscription.unsubscribe();
            subscription = void 0;
            subject = void 0;
          }
        });
      };
    }
  }, {
    "../ReplaySubject": 44
  } ],
  154: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var EmptyError_1 = require("../util/EmptyError");
    function single(predicate) {
      return function(source) {
        return source.lift(new SingleOperator(predicate, source));
      };
    }
    exports.single = single;
    var SingleOperator = function() {
      function SingleOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
      }
      SingleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));
      };
      return SingleOperator;
    }();
    var SingleSubscriber = function(_super) {
      __extends(SingleSubscriber, _super);
      function SingleSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.seenValue = false;
        _this.index = 0;
        return _this;
      }
      SingleSubscriber.prototype.applySingleValue = function(value) {
        if (this.seenValue) this.destination.error("Sequence contains more than one element"); else {
          this.seenValue = true;
          this.singleValue = value;
        }
      };
      SingleSubscriber.prototype._next = function(value) {
        var index = this.index++;
        this.predicate ? this.tryNext(value, index) : this.applySingleValue(value);
      };
      SingleSubscriber.prototype.tryNext = function(value, index) {
        try {
          this.predicate(value, index, this.source) && this.applySingleValue(value);
        } catch (err) {
          this.destination.error(err);
        }
      };
      SingleSubscriber.prototype._complete = function() {
        var destination = this.destination;
        if (this.index > 0) {
          destination.next(this.seenValue ? this.singleValue : void 0);
          destination.complete();
        } else destination.error(new EmptyError_1.EmptyError());
      };
      return SingleSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../util/EmptyError": 203
  } ],
  155: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function skip(count) {
      return function(source) {
        return source.lift(new SkipOperator(count));
      };
    }
    exports.skip = skip;
    var SkipOperator = function() {
      function SkipOperator(total) {
        this.total = total;
      }
      SkipOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SkipSubscriber(subscriber, this.total));
      };
      return SkipOperator;
    }();
    var SkipSubscriber = function(_super) {
      __extends(SkipSubscriber, _super);
      function SkipSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
      }
      SkipSubscriber.prototype._next = function(x) {
        ++this.count > this.total && this.destination.next(x);
      };
      return SkipSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  156: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    function skipLast(count) {
      return function(source) {
        return source.lift(new SkipLastOperator(count));
      };
    }
    exports.skipLast = skipLast;
    var SkipLastOperator = function() {
      function SkipLastOperator(_skipCount) {
        this._skipCount = _skipCount;
        if (this._skipCount < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      SkipLastOperator.prototype.call = function(subscriber, source) {
        return 0 === this._skipCount ? source.subscribe(new Subscriber_1.Subscriber(subscriber)) : source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));
      };
      return SkipLastOperator;
    }();
    var SkipLastSubscriber = function(_super) {
      __extends(SkipLastSubscriber, _super);
      function SkipLastSubscriber(destination, _skipCount) {
        var _this = _super.call(this, destination) || this;
        _this._skipCount = _skipCount;
        _this._count = 0;
        _this._ring = new Array(_skipCount);
        return _this;
      }
      SkipLastSubscriber.prototype._next = function(value) {
        var skipCount = this._skipCount;
        var count = this._count++;
        if (count < skipCount) this._ring[count] = value; else {
          var currentIndex = count % skipCount;
          var ring = this._ring;
          var oldValue = ring[currentIndex];
          ring[currentIndex] = value;
          this.destination.next(oldValue);
        }
      };
      return SkipLastSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../util/ArgumentOutOfRangeError": 202
  } ],
  157: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function skipUntil(notifier) {
      return function(source) {
        return source.lift(new SkipUntilOperator(notifier));
      };
    }
    exports.skipUntil = skipUntil;
    var SkipUntilOperator = function() {
      function SkipUntilOperator(notifier) {
        this.notifier = notifier;
      }
      SkipUntilOperator.prototype.call = function(destination, source) {
        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));
      };
      return SkipUntilOperator;
    }();
    var SkipUntilSubscriber = function(_super) {
      __extends(SkipUntilSubscriber, _super);
      function SkipUntilSubscriber(destination, notifier) {
        var _this = _super.call(this, destination) || this;
        _this.hasValue = false;
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(_this, void 0, void 0);
        _this.add(innerSubscriber);
        _this.innerSubscription = innerSubscriber;
        subscribeToResult_1.subscribeToResult(_this, notifier, void 0, void 0, innerSubscriber);
        return _this;
      }
      SkipUntilSubscriber.prototype._next = function(value) {
        this.hasValue && _super.prototype._next.call(this, value);
      };
      SkipUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.hasValue = true;
        this.innerSubscription && this.innerSubscription.unsubscribe();
      };
      SkipUntilSubscriber.prototype.notifyComplete = function() {};
      return SkipUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  158: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function skipWhile(predicate) {
      return function(source) {
        return source.lift(new SkipWhileOperator(predicate));
      };
    }
    exports.skipWhile = skipWhile;
    var SkipWhileOperator = function() {
      function SkipWhileOperator(predicate) {
        this.predicate = predicate;
      }
      SkipWhileOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));
      };
      return SkipWhileOperator;
    }();
    var SkipWhileSubscriber = function(_super) {
      __extends(SkipWhileSubscriber, _super);
      function SkipWhileSubscriber(destination, predicate) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.skipping = true;
        _this.index = 0;
        return _this;
      }
      SkipWhileSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        this.skipping && this.tryCallPredicate(value);
        this.skipping || destination.next(value);
      };
      SkipWhileSubscriber.prototype.tryCallPredicate = function(value) {
        try {
          var result = this.predicate(value, this.index++);
          this.skipping = Boolean(result);
        } catch (err) {
          this.destination.error(err);
        }
      };
      return SkipWhileSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  159: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fromArray_1 = require("../observable/fromArray");
    var scalar_1 = require("../observable/scalar");
    var empty_1 = require("../observable/empty");
    var concat_1 = require("../observable/concat");
    var isScheduler_1 = require("../util/isScheduler");
    function startWith() {
      var array = [];
      for (var _i = 0; _i < arguments.length; _i++) array[_i] = arguments[_i];
      return function(source) {
        var scheduler = array[array.length - 1];
        isScheduler_1.isScheduler(scheduler) ? array.pop() : scheduler = null;
        var len = array.length;
        return 1 !== len || scheduler ? len > 0 ? concat_1.concat(fromArray_1.fromArray(array, scheduler), source) : concat_1.concat(empty_1.empty(scheduler), source) : concat_1.concat(scalar_1.scalar(array[0]), source);
      };
    }
    exports.startWith = startWith;
  }, {
    "../observable/concat": 56,
    "../observable/empty": 58,
    "../observable/fromArray": 61,
    "../observable/scalar": 77,
    "../util/isScheduler": 221
  } ],
  160: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SubscribeOnObservable_1 = require("../observable/SubscribeOnObservable");
    function subscribeOn(scheduler, delay) {
      void 0 === delay && (delay = 0);
      return function subscribeOnOperatorFunction(source) {
        return source.lift(new SubscribeOnOperator(scheduler, delay));
      };
    }
    exports.subscribeOn = subscribeOn;
    var SubscribeOnOperator = function() {
      function SubscribeOnOperator(scheduler, delay) {
        this.scheduler = scheduler;
        this.delay = delay;
      }
      SubscribeOnOperator.prototype.call = function(subscriber, source) {
        return new SubscribeOnObservable_1.SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);
      };
      return SubscribeOnOperator;
    }();
  }, {
    "../observable/SubscribeOnObservable": 52
  } ],
  161: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var switchMap_1 = require("./switchMap");
    var identity_1 = require("../util/identity");
    function switchAll() {
      return switchMap_1.switchMap(identity_1.identity);
    }
    exports.switchAll = switchAll;
  }, {
    "../util/identity": 210,
    "./switchMap": 162
  } ],
  162: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    var map_1 = require("./map");
    var from_1 = require("../observable/from");
    function switchMap(project, resultSelector) {
      if ("function" === typeof resultSelector) return function(source) {
        return source.pipe(switchMap(function(a, i) {
          return from_1.from(project(a, i)).pipe(map_1.map(function(b, ii) {
            return resultSelector(a, b, i, ii);
          }));
        }));
      };
      return function(source) {
        return source.lift(new SwitchMapOperator(project));
      };
    }
    exports.switchMap = switchMap;
    var SwitchMapOperator = function() {
      function SwitchMapOperator(project) {
        this.project = project;
      }
      SwitchMapOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));
      };
      return SwitchMapOperator;
    }();
    var SwitchMapSubscriber = function(_super) {
      __extends(SwitchMapSubscriber, _super);
      function SwitchMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.index = 0;
        return _this;
      }
      SwitchMapSubscriber.prototype._next = function(value) {
        var result;
        var index = this.index++;
        try {
          result = this.project(value, index);
        } catch (error) {
          this.destination.error(error);
          return;
        }
        this._innerSub(result, value, index);
      };
      SwitchMapSubscriber.prototype._innerSub = function(result, value, index) {
        var innerSubscription = this.innerSubscription;
        innerSubscription && innerSubscription.unsubscribe();
        var innerSubscriber = new InnerSubscriber_1.InnerSubscriber(this, void 0, void 0);
        var destination = this.destination;
        destination.add(innerSubscriber);
        this.innerSubscription = subscribeToResult_1.subscribeToResult(this, result, value, index, innerSubscriber);
      };
      SwitchMapSubscriber.prototype._complete = function() {
        var innerSubscription = this.innerSubscription;
        innerSubscription && !innerSubscription.closed || _super.prototype._complete.call(this);
        this.unsubscribe();
      };
      SwitchMapSubscriber.prototype._unsubscribe = function() {
        this.innerSubscription = null;
      };
      SwitchMapSubscriber.prototype.notifyComplete = function(innerSub) {
        var destination = this.destination;
        destination.remove(innerSub);
        this.innerSubscription = null;
        this.isStopped && _super.prototype._complete.call(this);
      };
      SwitchMapSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
      };
      return SwitchMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../InnerSubscriber": 39,
    "../OuterSubscriber": 43,
    "../observable/from": 60,
    "../util/subscribeToResult": 230,
    "./map": 121
  } ],
  163: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var switchMap_1 = require("./switchMap");
    function switchMapTo(innerObservable, resultSelector) {
      return resultSelector ? switchMap_1.switchMap(function() {
        return innerObservable;
      }, resultSelector) : switchMap_1.switchMap(function() {
        return innerObservable;
      });
    }
    exports.switchMapTo = switchMapTo;
  }, {
    "./switchMap": 162
  } ],
  164: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var empty_1 = require("../observable/empty");
    function take(count) {
      return function(source) {
        return 0 === count ? empty_1.empty() : source.lift(new TakeOperator(count));
      };
    }
    exports.take = take;
    var TakeOperator = function() {
      function TakeOperator(total) {
        this.total = total;
        if (this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      TakeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeSubscriber(subscriber, this.total));
      };
      return TakeOperator;
    }();
    var TakeSubscriber = function(_super) {
      __extends(TakeSubscriber, _super);
      function TakeSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
      }
      TakeSubscriber.prototype._next = function(value) {
        var total = this.total;
        var count = ++this.count;
        if (count <= total) {
          this.destination.next(value);
          if (count === total) {
            this.destination.complete();
            this.unsubscribe();
          }
        }
      };
      return TakeSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../observable/empty": 58,
    "../util/ArgumentOutOfRangeError": 202
  } ],
  165: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var ArgumentOutOfRangeError_1 = require("../util/ArgumentOutOfRangeError");
    var empty_1 = require("../observable/empty");
    function takeLast(count) {
      return function takeLastOperatorFunction(source) {
        return 0 === count ? empty_1.empty() : source.lift(new TakeLastOperator(count));
      };
    }
    exports.takeLast = takeLast;
    var TakeLastOperator = function() {
      function TakeLastOperator(total) {
        this.total = total;
        if (this.total < 0) throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();
      }
      TakeLastOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));
      };
      return TakeLastOperator;
    }();
    var TakeLastSubscriber = function(_super) {
      __extends(TakeLastSubscriber, _super);
      function TakeLastSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.ring = new Array();
        _this.count = 0;
        return _this;
      }
      TakeLastSubscriber.prototype._next = function(value) {
        var ring = this.ring;
        var total = this.total;
        var count = this.count++;
        if (ring.length < total) ring.push(value); else {
          var index = count % total;
          ring[index] = value;
        }
      };
      TakeLastSubscriber.prototype._complete = function() {
        var destination = this.destination;
        var count = this.count;
        if (count > 0) {
          var total = this.count >= this.total ? this.total : this.count;
          var ring = this.ring;
          for (var i = 0; i < total; i++) {
            var idx = count++ % total;
            destination.next(ring[idx]);
          }
        }
        destination.complete();
      };
      return TakeLastSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../observable/empty": 58,
    "../util/ArgumentOutOfRangeError": 202
  } ],
  166: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function takeUntil(notifier) {
      return function(source) {
        return source.lift(new TakeUntilOperator(notifier));
      };
    }
    exports.takeUntil = takeUntil;
    var TakeUntilOperator = function() {
      function TakeUntilOperator(notifier) {
        this.notifier = notifier;
      }
      TakeUntilOperator.prototype.call = function(subscriber, source) {
        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);
        var notifierSubscription = subscribeToResult_1.subscribeToResult(takeUntilSubscriber, this.notifier);
        if (notifierSubscription && !takeUntilSubscriber.seenValue) {
          takeUntilSubscriber.add(notifierSubscription);
          return source.subscribe(takeUntilSubscriber);
        }
        return takeUntilSubscriber;
      };
      return TakeUntilOperator;
    }();
    var TakeUntilSubscriber = function(_super) {
      __extends(TakeUntilSubscriber, _super);
      function TakeUntilSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.seenValue = false;
        return _this;
      }
      TakeUntilSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.seenValue = true;
        this.complete();
      };
      TakeUntilSubscriber.prototype.notifyComplete = function() {};
      return TakeUntilSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  167: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function takeWhile(predicate, inclusive) {
      void 0 === inclusive && (inclusive = false);
      return function(source) {
        return source.lift(new TakeWhileOperator(predicate, inclusive));
      };
    }
    exports.takeWhile = takeWhile;
    var TakeWhileOperator = function() {
      function TakeWhileOperator(predicate, inclusive) {
        this.predicate = predicate;
        this.inclusive = inclusive;
      }
      TakeWhileOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));
      };
      return TakeWhileOperator;
    }();
    var TakeWhileSubscriber = function(_super) {
      __extends(TakeWhileSubscriber, _super);
      function TakeWhileSubscriber(destination, predicate, inclusive) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.inclusive = inclusive;
        _this.index = 0;
        return _this;
      }
      TakeWhileSubscriber.prototype._next = function(value) {
        var destination = this.destination;
        var result;
        try {
          result = this.predicate(value, this.index++);
        } catch (err) {
          destination.error(err);
          return;
        }
        this.nextOrComplete(value, result);
      };
      TakeWhileSubscriber.prototype.nextOrComplete = function(value, predicateResult) {
        var destination = this.destination;
        if (Boolean(predicateResult)) destination.next(value); else {
          this.inclusive && destination.next(value);
          destination.complete();
        }
      };
      return TakeWhileSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48
  } ],
  168: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var noop_1 = require("../util/noop");
    var isFunction_1 = require("../util/isFunction");
    function tap(nextOrObserver, error, complete) {
      return function tapOperatorFunction(source) {
        return source.lift(new DoOperator(nextOrObserver, error, complete));
      };
    }
    exports.tap = tap;
    var DoOperator = function() {
      function DoOperator(nextOrObserver, error, complete) {
        this.nextOrObserver = nextOrObserver;
        this.error = error;
        this.complete = complete;
      }
      DoOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
      };
      return DoOperator;
    }();
    var TapSubscriber = function(_super) {
      __extends(TapSubscriber, _super);
      function TapSubscriber(destination, observerOrNext, error, complete) {
        var _this = _super.call(this, destination) || this;
        _this._tapNext = noop_1.noop;
        _this._tapError = noop_1.noop;
        _this._tapComplete = noop_1.noop;
        _this._tapError = error || noop_1.noop;
        _this._tapComplete = complete || noop_1.noop;
        if (isFunction_1.isFunction(observerOrNext)) {
          _this._context = _this;
          _this._tapNext = observerOrNext;
        } else if (observerOrNext) {
          _this._context = observerOrNext;
          _this._tapNext = observerOrNext.next || noop_1.noop;
          _this._tapError = observerOrNext.error || noop_1.noop;
          _this._tapComplete = observerOrNext.complete || noop_1.noop;
        }
        return _this;
      }
      TapSubscriber.prototype._next = function(value) {
        try {
          this._tapNext.call(this._context, value);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(value);
      };
      TapSubscriber.prototype._error = function(err) {
        try {
          this._tapError.call(this._context, err);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.error(err);
      };
      TapSubscriber.prototype._complete = function() {
        try {
          this._tapComplete.call(this._context);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        return this.destination.complete();
      };
      return TapSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subscriber": 48,
    "../util/isFunction": 214,
    "../util/noop": 222
  } ],
  169: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    exports.defaultThrottleConfig = {
      leading: true,
      trailing: false
    };
    function throttle(durationSelector, config) {
      void 0 === config && (config = exports.defaultThrottleConfig);
      return function(source) {
        return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));
      };
    }
    exports.throttle = throttle;
    var ThrottleOperator = function() {
      function ThrottleOperator(durationSelector, leading, trailing) {
        this.durationSelector = durationSelector;
        this.leading = leading;
        this.trailing = trailing;
      }
      ThrottleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));
      };
      return ThrottleOperator;
    }();
    var ThrottleSubscriber = function(_super) {
      __extends(ThrottleSubscriber, _super);
      function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.durationSelector = durationSelector;
        _this._leading = _leading;
        _this._trailing = _trailing;
        _this._hasValue = false;
        return _this;
      }
      ThrottleSubscriber.prototype._next = function(value) {
        this._hasValue = true;
        this._sendValue = value;
        this._throttled || (this._leading ? this.send() : this.throttle(value));
      };
      ThrottleSubscriber.prototype.send = function() {
        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;
        if (_hasValue) {
          this.destination.next(_sendValue);
          this.throttle(_sendValue);
        }
        this._hasValue = false;
        this._sendValue = null;
      };
      ThrottleSubscriber.prototype.throttle = function(value) {
        var duration = this.tryDurationSelector(value);
        !duration || this.add(this._throttled = subscribeToResult_1.subscribeToResult(this, duration));
      };
      ThrottleSubscriber.prototype.tryDurationSelector = function(value) {
        try {
          return this.durationSelector(value);
        } catch (err) {
          this.destination.error(err);
          return null;
        }
      };
      ThrottleSubscriber.prototype.throttlingDone = function() {
        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;
        _throttled && _throttled.unsubscribe();
        this._throttled = null;
        _trailing && this.send();
      };
      ThrottleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.throttlingDone();
      };
      ThrottleSubscriber.prototype.notifyComplete = function() {
        this.throttlingDone();
      };
      return ThrottleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  170: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var async_1 = require("../scheduler/async");
    var throttle_1 = require("./throttle");
    function throttleTime(duration, scheduler, config) {
      void 0 === scheduler && (scheduler = async_1.async);
      void 0 === config && (config = throttle_1.defaultThrottleConfig);
      return function(source) {
        return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));
      };
    }
    exports.throttleTime = throttleTime;
    var ThrottleTimeOperator = function() {
      function ThrottleTimeOperator(duration, scheduler, leading, trailing) {
        this.duration = duration;
        this.scheduler = scheduler;
        this.leading = leading;
        this.trailing = trailing;
      }
      ThrottleTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));
      };
      return ThrottleTimeOperator;
    }();
    var ThrottleTimeSubscriber = function(_super) {
      __extends(ThrottleTimeSubscriber, _super);
      function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {
        var _this = _super.call(this, destination) || this;
        _this.duration = duration;
        _this.scheduler = scheduler;
        _this.leading = leading;
        _this.trailing = trailing;
        _this._hasTrailingValue = false;
        _this._trailingValue = null;
        return _this;
      }
      ThrottleTimeSubscriber.prototype._next = function(value) {
        if (this.throttled) {
          if (this.trailing) {
            this._trailingValue = value;
            this._hasTrailingValue = true;
          }
        } else {
          this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, {
            subscriber: this
          }));
          this.leading && this.destination.next(value);
        }
      };
      ThrottleTimeSubscriber.prototype._complete = function() {
        if (this._hasTrailingValue) {
          this.destination.next(this._trailingValue);
          this.destination.complete();
        } else this.destination.complete();
      };
      ThrottleTimeSubscriber.prototype.clearThrottle = function() {
        var throttled = this.throttled;
        if (throttled) {
          if (this.trailing && this._hasTrailingValue) {
            this.destination.next(this._trailingValue);
            this._trailingValue = null;
            this._hasTrailingValue = false;
          }
          throttled.unsubscribe();
          this.remove(throttled);
          this.throttled = null;
        }
      };
      return ThrottleTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchNext(arg) {
      var subscriber = arg.subscriber;
      subscriber.clearThrottle();
    }
  }, {
    "../Subscriber": 48,
    "../scheduler/async": 197,
    "./throttle": 169
  } ],
  171: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var tap_1 = require("./tap");
    var EmptyError_1 = require("../util/EmptyError");
    exports.throwIfEmpty = function(errorFactory) {
      void 0 === errorFactory && (errorFactory = defaultErrorFactory);
      return tap_1.tap({
        hasValue: false,
        next: function() {
          this.hasValue = true;
        },
        complete: function() {
          if (!this.hasValue) throw errorFactory();
        }
      });
    };
    function defaultErrorFactory() {
      return new EmptyError_1.EmptyError();
    }
  }, {
    "../util/EmptyError": 203,
    "./tap": 168
  } ],
  172: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var scan_1 = require("./scan");
    var defer_1 = require("../observable/defer");
    var map_1 = require("./map");
    function timeInterval(scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        return defer_1.defer(function() {
          return source.pipe(scan_1.scan(function(_a, value) {
            var current = _a.current;
            return {
              value: value,
              current: scheduler.now(),
              last: current
            };
          }, {
            current: scheduler.now(),
            value: void 0,
            last: void 0
          }), map_1.map(function(_a) {
            var current = _a.current, last = _a.last, value = _a.value;
            return new TimeInterval(value, current - last);
          }));
        });
      };
    }
    exports.timeInterval = timeInterval;
    var TimeInterval = function() {
      function TimeInterval(value, interval) {
        this.value = value;
        this.interval = interval;
      }
      return TimeInterval;
    }();
    exports.TimeInterval = TimeInterval;
  }, {
    "../observable/defer": 57,
    "../scheduler/async": 197,
    "./map": 121,
    "./scan": 150
  } ],
  173: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var TimeoutError_1 = require("../util/TimeoutError");
    var timeoutWith_1 = require("./timeoutWith");
    var throwError_1 = require("../observable/throwError");
    function timeout(due, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return timeoutWith_1.timeoutWith(due, throwError_1.throwError(new TimeoutError_1.TimeoutError()), scheduler);
    }
    exports.timeout = timeout;
  }, {
    "../observable/throwError": 78,
    "../scheduler/async": 197,
    "../util/TimeoutError": 206,
    "./timeoutWith": 174
  } ],
  174: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var isDate_1 = require("../util/isDate");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function timeoutWith(due, withObservable, scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return function(source) {
        var absoluteTimeout = isDate_1.isDate(due);
        var waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);
        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));
      };
    }
    exports.timeoutWith = timeoutWith;
    var TimeoutWithOperator = function() {
      function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {
        this.waitFor = waitFor;
        this.absoluteTimeout = absoluteTimeout;
        this.withObservable = withObservable;
        this.scheduler = scheduler;
      }
      TimeoutWithOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));
      };
      return TimeoutWithOperator;
    }();
    var TimeoutWithSubscriber = function(_super) {
      __extends(TimeoutWithSubscriber, _super);
      function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.absoluteTimeout = absoluteTimeout;
        _this.waitFor = waitFor;
        _this.withObservable = withObservable;
        _this.scheduler = scheduler;
        _this.action = null;
        _this.scheduleTimeout();
        return _this;
      }
      TimeoutWithSubscriber.dispatchTimeout = function(subscriber) {
        var withObservable = subscriber.withObservable;
        subscriber._unsubscribeAndRecycle();
        subscriber.add(subscribeToResult_1.subscribeToResult(subscriber, withObservable));
      };
      TimeoutWithSubscriber.prototype.scheduleTimeout = function() {
        var action = this.action;
        action ? this.action = action.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));
      };
      TimeoutWithSubscriber.prototype._next = function(value) {
        this.absoluteTimeout || this.scheduleTimeout();
        _super.prototype._next.call(this, value);
      };
      TimeoutWithSubscriber.prototype._unsubscribe = function() {
        this.action = null;
        this.scheduler = null;
        this.withObservable = null;
      };
      return TimeoutWithSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../scheduler/async": 197,
    "../util/isDate": 213,
    "../util/subscribeToResult": 230
  } ],
  175: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var async_1 = require("../scheduler/async");
    var map_1 = require("./map");
    function timestamp(scheduler) {
      void 0 === scheduler && (scheduler = async_1.async);
      return map_1.map(function(value) {
        return new Timestamp(value, scheduler.now());
      });
    }
    exports.timestamp = timestamp;
    var Timestamp = function() {
      function Timestamp(value, timestamp) {
        this.value = value;
        this.timestamp = timestamp;
      }
      return Timestamp;
    }();
    exports.Timestamp = Timestamp;
  }, {
    "../scheduler/async": 197,
    "./map": 121
  } ],
  176: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var reduce_1 = require("./reduce");
    function toArrayReducer(arr, item, index) {
      if (0 === index) return [ item ];
      arr.push(item);
      return arr;
    }
    function toArray() {
      return reduce_1.reduce(toArrayReducer, []);
    }
    exports.toArray = toArray;
  }, {
    "./reduce": 142
  } ],
  177: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function window(windowBoundaries) {
      return function windowOperatorFunction(source) {
        return source.lift(new WindowOperator(windowBoundaries));
      };
    }
    exports.window = window;
    var WindowOperator = function() {
      function WindowOperator(windowBoundaries) {
        this.windowBoundaries = windowBoundaries;
      }
      WindowOperator.prototype.call = function(subscriber, source) {
        var windowSubscriber = new WindowSubscriber(subscriber);
        var sourceSubscription = source.subscribe(windowSubscriber);
        sourceSubscription.closed || windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber, this.windowBoundaries));
        return sourceSubscription;
      };
      return WindowOperator;
    }();
    var WindowSubscriber = function(_super) {
      __extends(WindowSubscriber, _super);
      function WindowSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.window = new Subject_1.Subject();
        destination.next(_this.window);
        return _this;
      }
      WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openWindow();
      };
      WindowSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      WindowSubscriber.prototype.notifyComplete = function(innerSub) {
        this._complete();
      };
      WindowSubscriber.prototype._next = function(value) {
        this.window.next(value);
      };
      WindowSubscriber.prototype._error = function(err) {
        this.window.error(err);
        this.destination.error(err);
      };
      WindowSubscriber.prototype._complete = function() {
        this.window.complete();
        this.destination.complete();
      };
      WindowSubscriber.prototype._unsubscribe = function() {
        this.window = null;
      };
      WindowSubscriber.prototype.openWindow = function() {
        var prevWindow = this.window;
        prevWindow && prevWindow.complete();
        var destination = this.destination;
        var newWindow = this.window = new Subject_1.Subject();
        destination.next(newWindow);
      };
      return WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subject": 46,
    "../util/subscribeToResult": 230
  } ],
  178: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var Subject_1 = require("../Subject");
    function windowCount(windowSize, startWindowEvery) {
      void 0 === startWindowEvery && (startWindowEvery = 0);
      return function windowCountOperatorFunction(source) {
        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));
      };
    }
    exports.windowCount = windowCount;
    var WindowCountOperator = function() {
      function WindowCountOperator(windowSize, startWindowEvery) {
        this.windowSize = windowSize;
        this.startWindowEvery = startWindowEvery;
      }
      WindowCountOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));
      };
      return WindowCountOperator;
    }();
    var WindowCountSubscriber = function(_super) {
      __extends(WindowCountSubscriber, _super);
      function WindowCountSubscriber(destination, windowSize, startWindowEvery) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowSize = windowSize;
        _this.startWindowEvery = startWindowEvery;
        _this.windows = [ new Subject_1.Subject() ];
        _this.count = 0;
        destination.next(_this.windows[0]);
        return _this;
      }
      WindowCountSubscriber.prototype._next = function(value) {
        var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize;
        var destination = this.destination;
        var windowSize = this.windowSize;
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len && !this.closed; i++) windows[i].next(value);
        var c = this.count - windowSize + 1;
        c >= 0 && c % startWindowEvery === 0 && !this.closed && windows.shift().complete();
        if (++this.count % startWindowEvery === 0 && !this.closed) {
          var window_1 = new Subject_1.Subject();
          windows.push(window_1);
          destination.next(window_1);
        }
      };
      WindowCountSubscriber.prototype._error = function(err) {
        var windows = this.windows;
        if (windows) while (windows.length > 0 && !this.closed) windows.shift().error(err);
        this.destination.error(err);
      };
      WindowCountSubscriber.prototype._complete = function() {
        var windows = this.windows;
        if (windows) while (windows.length > 0 && !this.closed) windows.shift().complete();
        this.destination.complete();
      };
      WindowCountSubscriber.prototype._unsubscribe = function() {
        this.count = 0;
        this.windows = null;
      };
      return WindowCountSubscriber;
    }(Subscriber_1.Subscriber);
  }, {
    "../Subject": 46,
    "../Subscriber": 48
  } ],
  179: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var async_1 = require("../scheduler/async");
    var Subscriber_1 = require("../Subscriber");
    var isNumeric_1 = require("../util/isNumeric");
    var isScheduler_1 = require("../util/isScheduler");
    function windowTime(windowTimeSpan) {
      var scheduler = async_1.async;
      var windowCreationInterval = null;
      var maxWindowSize = Number.POSITIVE_INFINITY;
      isScheduler_1.isScheduler(arguments[3]) && (scheduler = arguments[3]);
      isScheduler_1.isScheduler(arguments[2]) ? scheduler = arguments[2] : isNumeric_1.isNumeric(arguments[2]) && (maxWindowSize = arguments[2]);
      isScheduler_1.isScheduler(arguments[1]) ? scheduler = arguments[1] : isNumeric_1.isNumeric(arguments[1]) && (windowCreationInterval = arguments[1]);
      return function windowTimeOperatorFunction(source) {
        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));
      };
    }
    exports.windowTime = windowTime;
    var WindowTimeOperator = function() {
      function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        this.windowTimeSpan = windowTimeSpan;
        this.windowCreationInterval = windowCreationInterval;
        this.maxWindowSize = maxWindowSize;
        this.scheduler = scheduler;
      }
      WindowTimeOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));
      };
      return WindowTimeOperator;
    }();
    var CountedSubject = function(_super) {
      __extends(CountedSubject, _super);
      function CountedSubject() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._numberOfNextedValues = 0;
        return _this;
      }
      CountedSubject.prototype.next = function(value) {
        this._numberOfNextedValues++;
        _super.prototype.next.call(this, value);
      };
      Object.defineProperty(CountedSubject.prototype, "numberOfNextedValues", {
        get: function() {
          return this._numberOfNextedValues;
        },
        enumerable: true,
        configurable: true
      });
      return CountedSubject;
    }(Subject_1.Subject);
    var WindowTimeSubscriber = function(_super) {
      __extends(WindowTimeSubscriber, _super);
      function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowTimeSpan = windowTimeSpan;
        _this.windowCreationInterval = windowCreationInterval;
        _this.maxWindowSize = maxWindowSize;
        _this.scheduler = scheduler;
        _this.windows = [];
        var window = _this.openWindow();
        if (null !== windowCreationInterval && windowCreationInterval >= 0) {
          var closeState = {
            subscriber: _this,
            window: window,
            context: null
          };
          var creationState = {
            windowTimeSpan: windowTimeSpan,
            windowCreationInterval: windowCreationInterval,
            subscriber: _this,
            scheduler: scheduler
          };
          _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));
          _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));
        } else {
          var timeSpanOnlyState = {
            subscriber: _this,
            window: window,
            windowTimeSpan: windowTimeSpan
          };
          _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));
        }
        return _this;
      }
      WindowTimeSubscriber.prototype._next = function(value) {
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len; i++) {
          var window_1 = windows[i];
          if (!window_1.closed) {
            window_1.next(value);
            window_1.numberOfNextedValues >= this.maxWindowSize && this.closeWindow(window_1);
          }
        }
      };
      WindowTimeSubscriber.prototype._error = function(err) {
        var windows = this.windows;
        while (windows.length > 0) windows.shift().error(err);
        this.destination.error(err);
      };
      WindowTimeSubscriber.prototype._complete = function() {
        var windows = this.windows;
        while (windows.length > 0) {
          var window_2 = windows.shift();
          window_2.closed || window_2.complete();
        }
        this.destination.complete();
      };
      WindowTimeSubscriber.prototype.openWindow = function() {
        var window = new CountedSubject();
        this.windows.push(window);
        var destination = this.destination;
        destination.next(window);
        return window;
      };
      WindowTimeSubscriber.prototype.closeWindow = function(window) {
        window.complete();
        var windows = this.windows;
        windows.splice(windows.indexOf(window), 1);
      };
      return WindowTimeSubscriber;
    }(Subscriber_1.Subscriber);
    function dispatchWindowTimeSpanOnly(state) {
      var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;
      window && subscriber.closeWindow(window);
      state.window = subscriber.openWindow();
      this.schedule(state, windowTimeSpan);
    }
    function dispatchWindowCreation(state) {
      var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;
      var window = subscriber.openWindow();
      var action = this;
      var context = {
        action: action,
        subscription: null
      };
      var timeSpanState = {
        subscriber: subscriber,
        window: window,
        context: context
      };
      context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);
      action.add(context.subscription);
      action.schedule(state, windowCreationInterval);
    }
    function dispatchWindowClose(state) {
      var subscriber = state.subscriber, window = state.window, context = state.context;
      context && context.action && context.subscription && context.action.remove(context.subscription);
      subscriber.closeWindow(window);
    }
  }, {
    "../Subject": 46,
    "../Subscriber": 48,
    "../scheduler/async": 197,
    "../util/isNumeric": 217,
    "../util/isScheduler": 221
  } ],
  180: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var Subscription_1 = require("../Subscription");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function windowToggle(openings, closingSelector) {
      return function(source) {
        return source.lift(new WindowToggleOperator(openings, closingSelector));
      };
    }
    exports.windowToggle = windowToggle;
    var WindowToggleOperator = function() {
      function WindowToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
      }
      WindowToggleOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));
      };
      return WindowToggleOperator;
    }();
    var WindowToggleSubscriber = function(_super) {
      __extends(WindowToggleSubscriber, _super);
      function WindowToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(_this.openSubscription = subscribeToResult_1.subscribeToResult(_this, openings, openings));
        return _this;
      }
      WindowToggleSubscriber.prototype._next = function(value) {
        var contexts = this.contexts;
        if (contexts) {
          var len = contexts.length;
          for (var i = 0; i < len; i++) contexts[i].window.next(value);
        }
      };
      WindowToggleSubscriber.prototype._error = function(err) {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_1 = contexts[index];
            context_1.window.error(err);
            context_1.subscription.unsubscribe();
          }
        }
        _super.prototype._error.call(this, err);
      };
      WindowToggleSubscriber.prototype._complete = function() {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_2 = contexts[index];
            context_2.window.complete();
            context_2.subscription.unsubscribe();
          }
        }
        _super.prototype._complete.call(this);
      };
      WindowToggleSubscriber.prototype._unsubscribe = function() {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
          var len = contexts.length;
          var index = -1;
          while (++index < len) {
            var context_3 = contexts[index];
            context_3.window.unsubscribe();
            context_3.subscription.unsubscribe();
          }
        }
      };
      WindowToggleSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (outerValue === this.openings) {
          var closingNotifier = void 0;
          try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector(innerValue);
          } catch (e) {
            return this.error(e);
          }
          var window_1 = new Subject_1.Subject();
          var subscription = new Subscription_1.Subscription();
          var context_4 = {
            window: window_1,
            subscription: subscription
          };
          this.contexts.push(context_4);
          var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context_4);
          if (innerSubscription.closed) this.closeWindow(this.contexts.length - 1); else {
            innerSubscription.context = context_4;
            subscription.add(innerSubscription);
          }
          this.destination.next(window_1);
        } else this.closeWindow(this.contexts.indexOf(outerValue));
      };
      WindowToggleSubscriber.prototype.notifyError = function(err) {
        this.error(err);
      };
      WindowToggleSubscriber.prototype.notifyComplete = function(inner) {
        inner !== this.openSubscription && this.closeWindow(this.contexts.indexOf(inner.context));
      };
      WindowToggleSubscriber.prototype.closeWindow = function(index) {
        if (-1 === index) return;
        var contexts = this.contexts;
        var context = contexts[index];
        var window = context.window, subscription = context.subscription;
        contexts.splice(index, 1);
        window.complete();
        subscription.unsubscribe();
      };
      return WindowToggleSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subject": 46,
    "../Subscription": 49,
    "../util/subscribeToResult": 230
  } ],
  181: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subject_1 = require("../Subject");
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function windowWhen(closingSelector) {
      return function windowWhenOperatorFunction(source) {
        return source.lift(new WindowOperator(closingSelector));
      };
    }
    exports.windowWhen = windowWhen;
    var WindowOperator = function() {
      function WindowOperator(closingSelector) {
        this.closingSelector = closingSelector;
      }
      WindowOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));
      };
      return WindowOperator;
    }();
    var WindowSubscriber = function(_super) {
      __extends(WindowSubscriber, _super);
      function WindowSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.closingSelector = closingSelector;
        _this.openWindow();
        return _this;
      }
      WindowSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.openWindow(innerSub);
      };
      WindowSubscriber.prototype.notifyError = function(error, innerSub) {
        this._error(error);
      };
      WindowSubscriber.prototype.notifyComplete = function(innerSub) {
        this.openWindow(innerSub);
      };
      WindowSubscriber.prototype._next = function(value) {
        this.window.next(value);
      };
      WindowSubscriber.prototype._error = function(err) {
        this.window.error(err);
        this.destination.error(err);
        this.unsubscribeClosingNotification();
      };
      WindowSubscriber.prototype._complete = function() {
        this.window.complete();
        this.destination.complete();
        this.unsubscribeClosingNotification();
      };
      WindowSubscriber.prototype.unsubscribeClosingNotification = function() {
        this.closingNotification && this.closingNotification.unsubscribe();
      };
      WindowSubscriber.prototype.openWindow = function(innerSub) {
        void 0 === innerSub && (innerSub = null);
        if (innerSub) {
          this.remove(innerSub);
          innerSub.unsubscribe();
        }
        var prevWindow = this.window;
        prevWindow && prevWindow.complete();
        var window = this.window = new Subject_1.Subject();
        this.destination.next(window);
        var closingNotifier;
        try {
          var closingSelector = this.closingSelector;
          closingNotifier = closingSelector();
        } catch (e) {
          this.destination.error(e);
          this.window.error(e);
          return;
        }
        this.add(this.closingNotification = subscribeToResult_1.subscribeToResult(this, closingNotifier));
      };
      return WindowSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../Subject": 46,
    "../util/subscribeToResult": 230
  } ],
  182: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var OuterSubscriber_1 = require("../OuterSubscriber");
    var subscribeToResult_1 = require("../util/subscribeToResult");
    function withLatestFrom() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
      return function(source) {
        var project;
        "function" === typeof args[args.length - 1] && (project = args.pop());
        var observables = args;
        return source.lift(new WithLatestFromOperator(observables, project));
      };
    }
    exports.withLatestFrom = withLatestFrom;
    var WithLatestFromOperator = function() {
      function WithLatestFromOperator(observables, project) {
        this.observables = observables;
        this.project = project;
      }
      WithLatestFromOperator.prototype.call = function(subscriber, source) {
        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));
      };
      return WithLatestFromOperator;
    }();
    var WithLatestFromSubscriber = function(_super) {
      __extends(WithLatestFromSubscriber, _super);
      function WithLatestFromSubscriber(destination, observables, project) {
        var _this = _super.call(this, destination) || this;
        _this.observables = observables;
        _this.project = project;
        _this.toRespond = [];
        var len = observables.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) _this.toRespond.push(i);
        for (var i = 0; i < len; i++) {
          var observable = observables[i];
          _this.add(subscribeToResult_1.subscribeToResult(_this, observable, observable, i));
        }
        return _this;
      }
      WithLatestFromSubscriber.prototype.notifyNext = function(outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.values[outerIndex] = innerValue;
        var toRespond = this.toRespond;
        if (toRespond.length > 0) {
          var found = toRespond.indexOf(outerIndex);
          -1 !== found && toRespond.splice(found, 1);
        }
      };
      WithLatestFromSubscriber.prototype.notifyComplete = function() {};
      WithLatestFromSubscriber.prototype._next = function(value) {
        if (0 === this.toRespond.length) {
          var args = [ value ].concat(this.values);
          this.project ? this._tryProject(args) : this.destination.next(args);
        }
      };
      WithLatestFromSubscriber.prototype._tryProject = function(args) {
        var result;
        try {
          result = this.project.apply(this, args);
        } catch (err) {
          this.destination.error(err);
          return;
        }
        this.destination.next(result);
      };
      return WithLatestFromSubscriber;
    }(OuterSubscriber_1.OuterSubscriber);
  }, {
    "../OuterSubscriber": 43,
    "../util/subscribeToResult": 230
  } ],
  183: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var zip_1 = require("../observable/zip");
    function zip() {
      var observables = [];
      for (var _i = 0; _i < arguments.length; _i++) observables[_i] = arguments[_i];
      return function zipOperatorFunction(source) {
        return source.lift.call(zip_1.zip.apply(void 0, [ source ].concat(observables)));
      };
    }
    exports.zip = zip;
  }, {
    "../observable/zip": 81
  } ],
  184: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var zip_1 = require("../observable/zip");
    function zipAll(project) {
      return function(source) {
        return source.lift(new zip_1.ZipOperator(project));
      };
    }
    exports.zipAll = zipAll;
  }, {
    "../observable/zip": 81
  } ],
  185: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscription_1 = require("../Subscription");
    var Action = function(_super) {
      __extends(Action, _super);
      function Action(scheduler, work) {
        return _super.call(this) || this;
      }
      Action.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        return this;
      };
      return Action;
    }(Subscription_1.Subscription);
    exports.Action = Action;
  }, {
    "../Subscription": 49
  } ],
  186: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AnimationFrameAction = function(_super) {
      __extends(AnimationFrameAction, _super);
      function AnimationFrameAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      AnimationFrameAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function() {
          return scheduler.flush(null);
        }));
      };
      AnimationFrameAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        if (0 === scheduler.actions.length) {
          cancelAnimationFrame(id);
          scheduler.scheduled = void 0;
        }
        return;
      };
      return AnimationFrameAction;
    }(AsyncAction_1.AsyncAction);
    exports.AnimationFrameAction = AnimationFrameAction;
  }, {
    "./AsyncAction": 190
  } ],
  187: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var AnimationFrameScheduler = function(_super) {
      __extends(AnimationFrameScheduler, _super);
      function AnimationFrameScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      AnimationFrameScheduler.prototype.flush = function(action) {
        this.active = true;
        this.scheduled = void 0;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
          while (++index < count && (action = actions.shift())) action.unsubscribe();
          throw error;
        }
      };
      return AnimationFrameScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.AnimationFrameScheduler = AnimationFrameScheduler;
  }, {
    "./AsyncScheduler": 191
  } ],
  188: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Immediate_1 = require("../util/Immediate");
    var AsyncAction_1 = require("./AsyncAction");
    var AsapAction = function(_super) {
      __extends(AsapAction, _super);
      function AsapAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      AsapAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));
      };
      AsapAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        if (0 === scheduler.actions.length) {
          Immediate_1.Immediate.clearImmediate(id);
          scheduler.scheduled = void 0;
        }
        return;
      };
      return AsapAction;
    }(AsyncAction_1.AsyncAction);
    exports.AsapAction = AsapAction;
  }, {
    "../util/Immediate": 204,
    "./AsyncAction": 190
  } ],
  189: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var AsapScheduler = function(_super) {
      __extends(AsapScheduler, _super);
      function AsapScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      AsapScheduler.prototype.flush = function(action) {
        this.active = true;
        this.scheduled = void 0;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
          while (++index < count && (action = actions.shift())) action.unsubscribe();
          throw error;
        }
      };
      return AsapScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.AsapScheduler = AsapScheduler;
  }, {
    "./AsyncScheduler": 191
  } ],
  190: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Action_1 = require("./Action");
    var AsyncAction = function(_super) {
      __extends(AsyncAction, _super);
      function AsyncAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.pending = false;
        return _this;
      }
      AsyncAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (this.closed) return this;
        this.state = state;
        var id = this.id;
        var scheduler = this.scheduler;
        null != id && (this.id = this.recycleAsyncId(scheduler, id, delay));
        this.pending = true;
        this.delay = delay;
        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);
        return this;
      };
      AsyncAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        return setInterval(scheduler.flush.bind(scheduler, this), delay);
      };
      AsyncAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && this.delay === delay && false === this.pending) return id;
        clearInterval(id);
        return;
      };
      AsyncAction.prototype.execute = function(state, delay) {
        if (this.closed) return new Error("executing a cancelled action");
        this.pending = false;
        var error = this._execute(state, delay);
        if (error) return error;
        false === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));
      };
      AsyncAction.prototype._execute = function(state, delay) {
        var errored = false;
        var errorValue = void 0;
        try {
          this.work(state);
        } catch (e) {
          errored = true;
          errorValue = !!e && e || new Error(e);
        }
        if (errored) {
          this.unsubscribe();
          return errorValue;
        }
      };
      AsyncAction.prototype._unsubscribe = function() {
        var id = this.id;
        var scheduler = this.scheduler;
        var actions = scheduler.actions;
        var index = actions.indexOf(this);
        this.work = null;
        this.state = null;
        this.pending = false;
        this.scheduler = null;
        -1 !== index && actions.splice(index, 1);
        null != id && (this.id = this.recycleAsyncId(scheduler, id, null));
        this.delay = null;
      };
      return AsyncAction;
    }(Action_1.Action);
    exports.AsyncAction = AsyncAction;
  }, {
    "./Action": 185
  } ],
  191: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Scheduler_1 = require("../Scheduler");
    var AsyncScheduler = function(_super) {
      __extends(AsyncScheduler, _super);
      function AsyncScheduler(SchedulerAction, now) {
        void 0 === now && (now = Scheduler_1.Scheduler.now);
        var _this = _super.call(this, SchedulerAction, function() {
          return AsyncScheduler.delegate && AsyncScheduler.delegate !== _this ? AsyncScheduler.delegate.now() : now();
        }) || this;
        _this.actions = [];
        _this.active = false;
        _this.scheduled = void 0;
        return _this;
      }
      AsyncScheduler.prototype.schedule = function(work, delay, state) {
        void 0 === delay && (delay = 0);
        return AsyncScheduler.delegate && AsyncScheduler.delegate !== this ? AsyncScheduler.delegate.schedule(work, delay, state) : _super.prototype.schedule.call(this, work, delay, state);
      };
      AsyncScheduler.prototype.flush = function(action) {
        var actions = this.actions;
        if (this.active) {
          actions.push(action);
          return;
        }
        var error;
        this.active = true;
        do {
          if (error = action.execute(action.state, action.delay)) break;
        } while (action = actions.shift());
        this.active = false;
        if (error) {
          while (action = actions.shift()) action.unsubscribe();
          throw error;
        }
      };
      return AsyncScheduler;
    }(Scheduler_1.Scheduler);
    exports.AsyncScheduler = AsyncScheduler;
  }, {
    "../Scheduler": 45
  } ],
  192: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var QueueAction = function(_super) {
      __extends(QueueAction, _super);
      function QueueAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
      }
      QueueAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (delay > 0) return _super.prototype.schedule.call(this, state, delay);
        this.delay = delay;
        this.state = state;
        this.scheduler.flush(this);
        return this;
      };
      QueueAction.prototype.execute = function(state, delay) {
        return delay > 0 || this.closed ? _super.prototype.execute.call(this, state, delay) : this._execute(state, delay);
      };
      QueueAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        if (null !== delay && delay > 0 || null === delay && this.delay > 0) return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        return scheduler.flush(this);
      };
      return QueueAction;
    }(AsyncAction_1.AsyncAction);
    exports.QueueAction = QueueAction;
  }, {
    "./AsyncAction": 190
  } ],
  193: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var QueueScheduler = function(_super) {
      __extends(QueueScheduler, _super);
      function QueueScheduler() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      return QueueScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.QueueScheduler = QueueScheduler;
  }, {
    "./AsyncScheduler": 191
  } ],
  194: [ function(require, module, exports) {
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AsyncScheduler_1 = require("./AsyncScheduler");
    var VirtualTimeScheduler = function(_super) {
      __extends(VirtualTimeScheduler, _super);
      function VirtualTimeScheduler(SchedulerAction, maxFrames) {
        void 0 === SchedulerAction && (SchedulerAction = VirtualAction);
        void 0 === maxFrames && (maxFrames = Number.POSITIVE_INFINITY);
        var _this = _super.call(this, SchedulerAction, function() {
          return _this.frame;
        }) || this;
        _this.maxFrames = maxFrames;
        _this.frame = 0;
        _this.index = -1;
        return _this;
      }
      VirtualTimeScheduler.prototype.flush = function() {
        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;
        var error, action;
        while ((action = actions[0]) && action.delay <= maxFrames) {
          actions.shift();
          this.frame = action.delay;
          if (error = action.execute(action.state, action.delay)) break;
        }
        if (error) {
          while (action = actions.shift()) action.unsubscribe();
          throw error;
        }
      };
      VirtualTimeScheduler.frameTimeFactor = 10;
      return VirtualTimeScheduler;
    }(AsyncScheduler_1.AsyncScheduler);
    exports.VirtualTimeScheduler = VirtualTimeScheduler;
    var VirtualAction = function(_super) {
      __extends(VirtualAction, _super);
      function VirtualAction(scheduler, work, index) {
        void 0 === index && (index = scheduler.index += 1);
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.index = index;
        _this.active = true;
        _this.index = scheduler.index = index;
        return _this;
      }
      VirtualAction.prototype.schedule = function(state, delay) {
        void 0 === delay && (delay = 0);
        if (!this.id) return _super.prototype.schedule.call(this, state, delay);
        this.active = false;
        var action = new VirtualAction(this.scheduler, this.work);
        this.add(action);
        return action.schedule(state, delay);
      };
      VirtualAction.prototype.requestAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        this.delay = scheduler.frame + delay;
        var actions = scheduler.actions;
        actions.push(this);
        actions.sort(VirtualAction.sortActions);
        return true;
      };
      VirtualAction.prototype.recycleAsyncId = function(scheduler, id, delay) {
        void 0 === delay && (delay = 0);
        return;
      };
      VirtualAction.prototype._execute = function(state, delay) {
        if (true === this.active) return _super.prototype._execute.call(this, state, delay);
      };
      VirtualAction.sortActions = function(a, b) {
        return a.delay === b.delay ? a.index === b.index ? 0 : a.index > b.index ? 1 : -1 : a.delay > b.delay ? 1 : -1;
      };
      return VirtualAction;
    }(AsyncAction_1.AsyncAction);
    exports.VirtualAction = VirtualAction;
  }, {
    "./AsyncAction": 190,
    "./AsyncScheduler": 191
  } ],
  195: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AnimationFrameAction_1 = require("./AnimationFrameAction");
    var AnimationFrameScheduler_1 = require("./AnimationFrameScheduler");
    exports.animationFrame = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);
  }, {
    "./AnimationFrameAction": 186,
    "./AnimationFrameScheduler": 187
  } ],
  196: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsapAction_1 = require("./AsapAction");
    var AsapScheduler_1 = require("./AsapScheduler");
    exports.asap = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);
  }, {
    "./AsapAction": 188,
    "./AsapScheduler": 189
  } ],
  197: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AsyncAction_1 = require("./AsyncAction");
    var AsyncScheduler_1 = require("./AsyncScheduler");
    exports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);
  }, {
    "./AsyncAction": 190,
    "./AsyncScheduler": 191
  } ],
  198: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var QueueAction_1 = require("./QueueAction");
    var QueueScheduler_1 = require("./QueueScheduler");
    exports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);
  }, {
    "./QueueAction": 192,
    "./QueueScheduler": 193
  } ],
  199: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function getSymbolIterator() {
      if ("function" !== typeof Symbol || !Symbol.iterator) return "@@iterator";
      return Symbol.iterator;
    }
    exports.getSymbolIterator = getSymbolIterator;
    exports.iterator = getSymbolIterator();
    exports.$$iterator = exports.iterator;
  }, {} ],
  200: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.observable = "function" === typeof Symbol && Symbol.observable || "@@observable";
  }, {} ],
  201: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.rxSubscriber = "function" === typeof Symbol ? Symbol("rxSubscriber") : "@@rxSubscriber_" + Math.random();
    exports.$$rxSubscriber = exports.rxSubscriber;
  }, {} ],
  202: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function ArgumentOutOfRangeErrorImpl() {
      Error.call(this);
      this.message = "argument out of range";
      this.name = "ArgumentOutOfRangeError";
      return this;
    }
    ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);
    exports.ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;
  }, {} ],
  203: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function EmptyErrorImpl() {
      Error.call(this);
      this.message = "no elements in sequence";
      this.name = "EmptyError";
      return this;
    }
    EmptyErrorImpl.prototype = Object.create(Error.prototype);
    exports.EmptyError = EmptyErrorImpl;
  }, {} ],
  204: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var nextHandle = 1;
    var tasksByHandle = {};
    function runIfPresent(handle) {
      var cb = tasksByHandle[handle];
      cb && cb();
    }
    exports.Immediate = {
      setImmediate: function(cb) {
        var handle = nextHandle++;
        tasksByHandle[handle] = cb;
        Promise.resolve().then(function() {
          return runIfPresent(handle);
        });
        return handle;
      },
      clearImmediate: function(handle) {
        delete tasksByHandle[handle];
      }
    };
  }, {} ],
  205: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function ObjectUnsubscribedErrorImpl() {
      Error.call(this);
      this.message = "object unsubscribed";
      this.name = "ObjectUnsubscribedError";
      return this;
    }
    ObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);
    exports.ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;
  }, {} ],
  206: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function TimeoutErrorImpl() {
      Error.call(this);
      this.message = "Timeout has occurred";
      this.name = "TimeoutError";
      return this;
    }
    TimeoutErrorImpl.prototype = Object.create(Error.prototype);
    exports.TimeoutError = TimeoutErrorImpl;
  }, {} ],
  207: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function UnsubscriptionErrorImpl(errors) {
      Error.call(this);
      this.message = errors ? errors.length + " errors occurred during unsubscription:\n" + errors.map(function(err, i) {
        return i + 1 + ") " + err.toString();
      }).join("\n  ") : "";
      this.name = "UnsubscriptionError";
      this.errors = errors;
      return this;
    }
    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);
    exports.UnsubscriptionError = UnsubscriptionErrorImpl;
  }, {} ],
  208: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    function canReportError(observer) {
      while (observer) {
        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;
        if (closed_1 || isStopped) return false;
        observer = destination && destination instanceof Subscriber_1.Subscriber ? destination : null;
      }
      return true;
    }
    exports.canReportError = canReportError;
  }, {
    "../Subscriber": 48
  } ],
  209: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function hostReportError(err) {
      setTimeout(function() {
        throw err;
      });
    }
    exports.hostReportError = hostReportError;
  }, {} ],
  210: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function identity(x) {
      return x;
    }
    exports.identity = identity;
  }, {} ],
  211: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isArray = Array.isArray || function(x) {
      return x && "number" === typeof x.length;
    };
  }, {} ],
  212: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isArrayLike = function(x) {
      return x && "number" === typeof x.length && "function" !== typeof x;
    };
  }, {} ],
  213: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isDate(value) {
      return value instanceof Date && !isNaN(+value);
    }
    exports.isDate = isDate;
  }, {} ],
  214: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isFunction(x) {
      return "function" === typeof x;
    }
    exports.isFunction = isFunction;
  }, {} ],
  215: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var observable_1 = require("../symbol/observable");
    function isInteropObservable(input) {
      return input && "function" === typeof input[observable_1.observable];
    }
    exports.isInteropObservable = isInteropObservable;
  }, {
    "../symbol/observable": 200
  } ],
  216: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var iterator_1 = require("../symbol/iterator");
    function isIterable(input) {
      return input && "function" === typeof input[iterator_1.iterator];
    }
    exports.isIterable = isIterable;
  }, {
    "../symbol/iterator": 199
  } ],
  217: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var isArray_1 = require("./isArray");
    function isNumeric(val) {
      return !isArray_1.isArray(val) && val - parseFloat(val) + 1 >= 0;
    }
    exports.isNumeric = isNumeric;
  }, {
    "./isArray": 211
  } ],
  218: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isObject(x) {
      return null !== x && "object" === typeof x;
    }
    exports.isObject = isObject;
  }, {} ],
  219: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    function isObservable(obj) {
      return !!obj && (obj instanceof Observable_1.Observable || "function" === typeof obj.lift && "function" === typeof obj.subscribe);
    }
    exports.isObservable = isObservable;
  }, {
    "../Observable": 41
  } ],
  220: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isPromise(value) {
      return !!value && "function" !== typeof value.subscribe && "function" === typeof value.then;
    }
    exports.isPromise = isPromise;
  }, {} ],
  221: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function isScheduler(value) {
      return value && "function" === typeof value.schedule;
    }
    exports.isScheduler = isScheduler;
  }, {} ],
  222: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function noop() {}
    exports.noop = noop;
  }, {} ],
  223: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    function not(pred, thisArg) {
      function notPred() {
        return !notPred.pred.apply(notPred.thisArg, arguments);
      }
      notPred.pred = pred;
      notPred.thisArg = thisArg;
      return notPred;
    }
    exports.not = not;
  }, {} ],
  224: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var noop_1 = require("./noop");
    function pipe() {
      var fns = [];
      for (var _i = 0; _i < arguments.length; _i++) fns[_i] = arguments[_i];
      return pipeFromArray(fns);
    }
    exports.pipe = pipe;
    function pipeFromArray(fns) {
      if (!fns) return noop_1.noop;
      if (1 === fns.length) return fns[0];
      return function piped(input) {
        return fns.reduce(function(prev, fn) {
          return fn(prev);
        }, input);
      };
    }
    exports.pipeFromArray = pipeFromArray;
  }, {
    "./noop": 222
  } ],
  225: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Observable_1 = require("../Observable");
    var subscribeToArray_1 = require("./subscribeToArray");
    var subscribeToPromise_1 = require("./subscribeToPromise");
    var subscribeToIterable_1 = require("./subscribeToIterable");
    var subscribeToObservable_1 = require("./subscribeToObservable");
    var isArrayLike_1 = require("./isArrayLike");
    var isPromise_1 = require("./isPromise");
    var isObject_1 = require("./isObject");
    var iterator_1 = require("../symbol/iterator");
    var observable_1 = require("../symbol/observable");
    exports.subscribeTo = function(result) {
      if (result instanceof Observable_1.Observable) return function(subscriber) {
        if (result._isScalar) {
          subscriber.next(result.value);
          subscriber.complete();
          return;
        }
        return result.subscribe(subscriber);
      };
      if (!result || "function" !== typeof result[observable_1.observable]) {
        if (isArrayLike_1.isArrayLike(result)) return subscribeToArray_1.subscribeToArray(result);
        if (isPromise_1.isPromise(result)) return subscribeToPromise_1.subscribeToPromise(result);
        if (!result || "function" !== typeof result[iterator_1.iterator]) {
          var value = isObject_1.isObject(result) ? "an invalid object" : "'" + result + "'";
          var msg = "You provided " + value + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";
          throw new TypeError(msg);
        }
        return subscribeToIterable_1.subscribeToIterable(result);
      }
      return subscribeToObservable_1.subscribeToObservable(result);
    };
  }, {
    "../Observable": 41,
    "../symbol/iterator": 199,
    "../symbol/observable": 200,
    "./isArrayLike": 212,
    "./isObject": 218,
    "./isPromise": 220,
    "./subscribeToArray": 226,
    "./subscribeToIterable": 227,
    "./subscribeToObservable": 228,
    "./subscribeToPromise": 229
  } ],
  226: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.subscribeToArray = function(array) {
      return function(subscriber) {
        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) subscriber.next(array[i]);
        subscriber.closed || subscriber.complete();
      };
    };
  }, {} ],
  227: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var iterator_1 = require("../symbol/iterator");
    exports.subscribeToIterable = function(iterable) {
      return function(subscriber) {
        var iterator = iterable[iterator_1.iterator]();
        do {
          var item = iterator.next();
          if (item.done) {
            subscriber.complete();
            break;
          }
          subscriber.next(item.value);
          if (subscriber.closed) break;
        } while (true);
        "function" === typeof iterator.return && subscriber.add(function() {
          iterator.return && iterator.return();
        });
        return subscriber;
      };
    };
  }, {
    "../symbol/iterator": 199
  } ],
  228: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var observable_1 = require("../symbol/observable");
    exports.subscribeToObservable = function(obj) {
      return function(subscriber) {
        var obs = obj[observable_1.observable]();
        if ("function" !== typeof obs.subscribe) throw new TypeError("Provided object does not correctly implement Symbol.observable");
        return obs.subscribe(subscriber);
      };
    };
  }, {
    "../symbol/observable": 200
  } ],
  229: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var hostReportError_1 = require("./hostReportError");
    exports.subscribeToPromise = function(promise) {
      return function(subscriber) {
        promise.then(function(value) {
          if (!subscriber.closed) {
            subscriber.next(value);
            subscriber.complete();
          }
        }, function(err) {
          return subscriber.error(err);
        }).then(null, hostReportError_1.hostReportError);
        return subscriber;
      };
    };
  }, {
    "./hostReportError": 209
  } ],
  230: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var InnerSubscriber_1 = require("../InnerSubscriber");
    var subscribeTo_1 = require("./subscribeTo");
    function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, destination) {
      void 0 === destination && (destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));
      if (destination.closed) return;
      return subscribeTo_1.subscribeTo(result)(destination);
    }
    exports.subscribeToResult = subscribeToResult;
  }, {
    "../InnerSubscriber": 39,
    "./subscribeTo": 225
  } ],
  231: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Subscriber_1 = require("../Subscriber");
    var rxSubscriber_1 = require("../symbol/rxSubscriber");
    var Observer_1 = require("../Observer");
    function toSubscriber(nextOrObserver, error, complete) {
      if (nextOrObserver) {
        if (nextOrObserver instanceof Subscriber_1.Subscriber) return nextOrObserver;
        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) return nextOrObserver[rxSubscriber_1.rxSubscriber]();
      }
      if (!nextOrObserver && !error && !complete) return new Subscriber_1.Subscriber(Observer_1.empty);
      return new Subscriber_1.Subscriber(nextOrObserver, error, complete);
    }
    exports.toSubscriber = toSubscriber;
  }, {
    "../Observer": 42,
    "../Subscriber": 48,
    "../symbol/rxSubscriber": 201
  } ],
  232: [ function(require, module, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var audit_1 = require("../internal/operators/audit");
    exports.audit = audit_1.audit;
    var auditTime_1 = require("../internal/operators/auditTime");
    exports.auditTime = auditTime_1.auditTime;
    var buffer_1 = require("../internal/operators/buffer");
    exports.buffer = buffer_1.buffer;
    var bufferCount_1 = require("../internal/operators/bufferCount");
    exports.bufferCount = bufferCount_1.bufferCount;
    var bufferTime_1 = require("../internal/operators/bufferTime");
    exports.bufferTime = bufferTime_1.bufferTime;
    var bufferToggle_1 = require("../internal/operators/bufferToggle");
    exports.bufferToggle = bufferToggle_1.bufferToggle;
    var bufferWhen_1 = require("../internal/operators/bufferWhen");
    exports.bufferWhen = bufferWhen_1.bufferWhen;
    var catchError_1 = require("../internal/operators/catchError");
    exports.catchError = catchError_1.catchError;
    var combineAll_1 = require("../internal/operators/combineAll");
    exports.combineAll = combineAll_1.combineAll;
    var combineLatest_1 = require("../internal/operators/combineLatest");
    exports.combineLatest = combineLatest_1.combineLatest;
    var concat_1 = require("../internal/operators/concat");
    exports.concat = concat_1.concat;
    var concatAll_1 = require("../internal/operators/concatAll");
    exports.concatAll = concatAll_1.concatAll;
    var concatMap_1 = require("../internal/operators/concatMap");
    exports.concatMap = concatMap_1.concatMap;
    var concatMapTo_1 = require("../internal/operators/concatMapTo");
    exports.concatMapTo = concatMapTo_1.concatMapTo;
    var count_1 = require("../internal/operators/count");
    exports.count = count_1.count;
    var debounce_1 = require("../internal/operators/debounce");
    exports.debounce = debounce_1.debounce;
    var debounceTime_1 = require("../internal/operators/debounceTime");
    exports.debounceTime = debounceTime_1.debounceTime;
    var defaultIfEmpty_1 = require("../internal/operators/defaultIfEmpty");
    exports.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;
    var delay_1 = require("../internal/operators/delay");
    exports.delay = delay_1.delay;
    var delayWhen_1 = require("../internal/operators/delayWhen");
    exports.delayWhen = delayWhen_1.delayWhen;
    var dematerialize_1 = require("../internal/operators/dematerialize");
    exports.dematerialize = dematerialize_1.dematerialize;
    var distinct_1 = require("../internal/operators/distinct");
    exports.distinct = distinct_1.distinct;
    var distinctUntilChanged_1 = require("../internal/operators/distinctUntilChanged");
    exports.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;
    var distinctUntilKeyChanged_1 = require("../internal/operators/distinctUntilKeyChanged");
    exports.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;
    var elementAt_1 = require("../internal/operators/elementAt");
    exports.elementAt = elementAt_1.elementAt;
    var endWith_1 = require("../internal/operators/endWith");
    exports.endWith = endWith_1.endWith;
    var every_1 = require("../internal/operators/every");
    exports.every = every_1.every;
    var exhaust_1 = require("../internal/operators/exhaust");
    exports.exhaust = exhaust_1.exhaust;
    var exhaustMap_1 = require("../internal/operators/exhaustMap");
    exports.exhaustMap = exhaustMap_1.exhaustMap;
    var expand_1 = require("../internal/operators/expand");
    exports.expand = expand_1.expand;
    var filter_1 = require("../internal/operators/filter");
    exports.filter = filter_1.filter;
    var finalize_1 = require("../internal/operators/finalize");
    exports.finalize = finalize_1.finalize;
    var find_1 = require("../internal/operators/find");
    exports.find = find_1.find;
    var findIndex_1 = require("../internal/operators/findIndex");
    exports.findIndex = findIndex_1.findIndex;
    var first_1 = require("../internal/operators/first");
    exports.first = first_1.first;
    var groupBy_1 = require("../internal/operators/groupBy");
    exports.groupBy = groupBy_1.groupBy;
    var ignoreElements_1 = require("../internal/operators/ignoreElements");
    exports.ignoreElements = ignoreElements_1.ignoreElements;
    var isEmpty_1 = require("../internal/operators/isEmpty");
    exports.isEmpty = isEmpty_1.isEmpty;
    var last_1 = require("../internal/operators/last");
    exports.last = last_1.last;
    var map_1 = require("../internal/operators/map");
    exports.map = map_1.map;
    var mapTo_1 = require("../internal/operators/mapTo");
    exports.mapTo = mapTo_1.mapTo;
    var materialize_1 = require("../internal/operators/materialize");
    exports.materialize = materialize_1.materialize;
    var max_1 = require("../internal/operators/max");
    exports.max = max_1.max;
    var merge_1 = require("../internal/operators/merge");
    exports.merge = merge_1.merge;
    var mergeAll_1 = require("../internal/operators/mergeAll");
    exports.mergeAll = mergeAll_1.mergeAll;
    var mergeMap_1 = require("../internal/operators/mergeMap");
    exports.mergeMap = mergeMap_1.mergeMap;
    var mergeMap_2 = require("../internal/operators/mergeMap");
    exports.flatMap = mergeMap_2.mergeMap;
    var mergeMapTo_1 = require("../internal/operators/mergeMapTo");
    exports.mergeMapTo = mergeMapTo_1.mergeMapTo;
    var mergeScan_1 = require("../internal/operators/mergeScan");
    exports.mergeScan = mergeScan_1.mergeScan;
    var min_1 = require("../internal/operators/min");
    exports.min = min_1.min;
    var multicast_1 = require("../internal/operators/multicast");
    exports.multicast = multicast_1.multicast;
    var observeOn_1 = require("../internal/operators/observeOn");
    exports.observeOn = observeOn_1.observeOn;
    var onErrorResumeNext_1 = require("../internal/operators/onErrorResumeNext");
    exports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;
    var pairwise_1 = require("../internal/operators/pairwise");
    exports.pairwise = pairwise_1.pairwise;
    var partition_1 = require("../internal/operators/partition");
    exports.partition = partition_1.partition;
    var pluck_1 = require("../internal/operators/pluck");
    exports.pluck = pluck_1.pluck;
    var publish_1 = require("../internal/operators/publish");
    exports.publish = publish_1.publish;
    var publishBehavior_1 = require("../internal/operators/publishBehavior");
    exports.publishBehavior = publishBehavior_1.publishBehavior;
    var publishLast_1 = require("../internal/operators/publishLast");
    exports.publishLast = publishLast_1.publishLast;
    var publishReplay_1 = require("../internal/operators/publishReplay");
    exports.publishReplay = publishReplay_1.publishReplay;
    var race_1 = require("../internal/operators/race");
    exports.race = race_1.race;
    var reduce_1 = require("../internal/operators/reduce");
    exports.reduce = reduce_1.reduce;
    var repeat_1 = require("../internal/operators/repeat");
    exports.repeat = repeat_1.repeat;
    var repeatWhen_1 = require("../internal/operators/repeatWhen");
    exports.repeatWhen = repeatWhen_1.repeatWhen;
    var retry_1 = require("../internal/operators/retry");
    exports.retry = retry_1.retry;
    var retryWhen_1 = require("../internal/operators/retryWhen");
    exports.retryWhen = retryWhen_1.retryWhen;
    var refCount_1 = require("../internal/operators/refCount");
    exports.refCount = refCount_1.refCount;
    var sample_1 = require("../internal/operators/sample");
    exports.sample = sample_1.sample;
    var sampleTime_1 = require("../internal/operators/sampleTime");
    exports.sampleTime = sampleTime_1.sampleTime;
    var scan_1 = require("../internal/operators/scan");
    exports.scan = scan_1.scan;
    var sequenceEqual_1 = require("../internal/operators/sequenceEqual");
    exports.sequenceEqual = sequenceEqual_1.sequenceEqual;
    var share_1 = require("../internal/operators/share");
    exports.share = share_1.share;
    var shareReplay_1 = require("../internal/operators/shareReplay");
    exports.shareReplay = shareReplay_1.shareReplay;
    var single_1 = require("../internal/operators/single");
    exports.single = single_1.single;
    var skip_1 = require("../internal/operators/skip");
    exports.skip = skip_1.skip;
    var skipLast_1 = require("../internal/operators/skipLast");
    exports.skipLast = skipLast_1.skipLast;
    var skipUntil_1 = require("../internal/operators/skipUntil");
    exports.skipUntil = skipUntil_1.skipUntil;
    var skipWhile_1 = require("../internal/operators/skipWhile");
    exports.skipWhile = skipWhile_1.skipWhile;
    var startWith_1 = require("../internal/operators/startWith");
    exports.startWith = startWith_1.startWith;
    var subscribeOn_1 = require("../internal/operators/subscribeOn");
    exports.subscribeOn = subscribeOn_1.subscribeOn;
    var switchAll_1 = require("../internal/operators/switchAll");
    exports.switchAll = switchAll_1.switchAll;
    var switchMap_1 = require("../internal/operators/switchMap");
    exports.switchMap = switchMap_1.switchMap;
    var switchMapTo_1 = require("../internal/operators/switchMapTo");
    exports.switchMapTo = switchMapTo_1.switchMapTo;
    var take_1 = require("../internal/operators/take");
    exports.take = take_1.take;
    var takeLast_1 = require("../internal/operators/takeLast");
    exports.takeLast = takeLast_1.takeLast;
    var takeUntil_1 = require("../internal/operators/takeUntil");
    exports.takeUntil = takeUntil_1.takeUntil;
    var takeWhile_1 = require("../internal/operators/takeWhile");
    exports.takeWhile = takeWhile_1.takeWhile;
    var tap_1 = require("../internal/operators/tap");
    exports.tap = tap_1.tap;
    var throttle_1 = require("../internal/operators/throttle");
    exports.throttle = throttle_1.throttle;
    var throttleTime_1 = require("../internal/operators/throttleTime");
    exports.throttleTime = throttleTime_1.throttleTime;
    var throwIfEmpty_1 = require("../internal/operators/throwIfEmpty");
    exports.throwIfEmpty = throwIfEmpty_1.throwIfEmpty;
    var timeInterval_1 = require("../internal/operators/timeInterval");
    exports.timeInterval = timeInterval_1.timeInterval;
    var timeout_1 = require("../internal/operators/timeout");
    exports.timeout = timeout_1.timeout;
    var timeoutWith_1 = require("../internal/operators/timeoutWith");
    exports.timeoutWith = timeoutWith_1.timeoutWith;
    var timestamp_1 = require("../internal/operators/timestamp");
    exports.timestamp = timestamp_1.timestamp;
    var toArray_1 = require("../internal/operators/toArray");
    exports.toArray = toArray_1.toArray;
    var window_1 = require("../internal/operators/window");
    exports.window = window_1.window;
    var windowCount_1 = require("../internal/operators/windowCount");
    exports.windowCount = windowCount_1.windowCount;
    var windowTime_1 = require("../internal/operators/windowTime");
    exports.windowTime = windowTime_1.windowTime;
    var windowToggle_1 = require("../internal/operators/windowToggle");
    exports.windowToggle = windowToggle_1.windowToggle;
    var windowWhen_1 = require("../internal/operators/windowWhen");
    exports.windowWhen = windowWhen_1.windowWhen;
    var withLatestFrom_1 = require("../internal/operators/withLatestFrom");
    exports.withLatestFrom = withLatestFrom_1.withLatestFrom;
    var zip_1 = require("../internal/operators/zip");
    exports.zip = zip_1.zip;
    var zipAll_1 = require("../internal/operators/zipAll");
    exports.zipAll = zipAll_1.zipAll;
  }, {
    "../internal/operators/audit": 82,
    "../internal/operators/auditTime": 83,
    "../internal/operators/buffer": 84,
    "../internal/operators/bufferCount": 85,
    "../internal/operators/bufferTime": 86,
    "../internal/operators/bufferToggle": 87,
    "../internal/operators/bufferWhen": 88,
    "../internal/operators/catchError": 89,
    "../internal/operators/combineAll": 90,
    "../internal/operators/combineLatest": 91,
    "../internal/operators/concat": 92,
    "../internal/operators/concatAll": 93,
    "../internal/operators/concatMap": 94,
    "../internal/operators/concatMapTo": 95,
    "../internal/operators/count": 96,
    "../internal/operators/debounce": 97,
    "../internal/operators/debounceTime": 98,
    "../internal/operators/defaultIfEmpty": 99,
    "../internal/operators/delay": 100,
    "../internal/operators/delayWhen": 101,
    "../internal/operators/dematerialize": 102,
    "../internal/operators/distinct": 103,
    "../internal/operators/distinctUntilChanged": 104,
    "../internal/operators/distinctUntilKeyChanged": 105,
    "../internal/operators/elementAt": 106,
    "../internal/operators/endWith": 107,
    "../internal/operators/every": 108,
    "../internal/operators/exhaust": 109,
    "../internal/operators/exhaustMap": 110,
    "../internal/operators/expand": 111,
    "../internal/operators/filter": 112,
    "../internal/operators/finalize": 113,
    "../internal/operators/find": 114,
    "../internal/operators/findIndex": 115,
    "../internal/operators/first": 116,
    "../internal/operators/groupBy": 117,
    "../internal/operators/ignoreElements": 118,
    "../internal/operators/isEmpty": 119,
    "../internal/operators/last": 120,
    "../internal/operators/map": 121,
    "../internal/operators/mapTo": 122,
    "../internal/operators/materialize": 123,
    "../internal/operators/max": 124,
    "../internal/operators/merge": 125,
    "../internal/operators/mergeAll": 126,
    "../internal/operators/mergeMap": 127,
    "../internal/operators/mergeMapTo": 128,
    "../internal/operators/mergeScan": 129,
    "../internal/operators/min": 130,
    "../internal/operators/multicast": 131,
    "../internal/operators/observeOn": 132,
    "../internal/operators/onErrorResumeNext": 133,
    "../internal/operators/pairwise": 134,
    "../internal/operators/partition": 135,
    "../internal/operators/pluck": 136,
    "../internal/operators/publish": 137,
    "../internal/operators/publishBehavior": 138,
    "../internal/operators/publishLast": 139,
    "../internal/operators/publishReplay": 140,
    "../internal/operators/race": 141,
    "../internal/operators/reduce": 142,
    "../internal/operators/refCount": 143,
    "../internal/operators/repeat": 144,
    "../internal/operators/repeatWhen": 145,
    "../internal/operators/retry": 146,
    "../internal/operators/retryWhen": 147,
    "../internal/operators/sample": 148,
    "../internal/operators/sampleTime": 149,
    "../internal/operators/scan": 150,
    "../internal/operators/sequenceEqual": 151,
    "../internal/operators/share": 152,
    "../internal/operators/shareReplay": 153,
    "../internal/operators/single": 154,
    "../internal/operators/skip": 155,
    "../internal/operators/skipLast": 156,
    "../internal/operators/skipUntil": 157,
    "../internal/operators/skipWhile": 158,
    "../internal/operators/startWith": 159,
    "../internal/operators/subscribeOn": 160,
    "../internal/operators/switchAll": 161,
    "../internal/operators/switchMap": 162,
    "../internal/operators/switchMapTo": 163,
    "../internal/operators/take": 164,
    "../internal/operators/takeLast": 165,
    "../internal/operators/takeUntil": 166,
    "../internal/operators/takeWhile": 167,
    "../internal/operators/tap": 168,
    "../internal/operators/throttle": 169,
    "../internal/operators/throttleTime": 170,
    "../internal/operators/throwIfEmpty": 171,
    "../internal/operators/timeInterval": 172,
    "../internal/operators/timeout": 173,
    "../internal/operators/timeoutWith": 174,
    "../internal/operators/timestamp": 175,
    "../internal/operators/toArray": 176,
    "../internal/operators/window": 177,
    "../internal/operators/windowCount": 178,
    "../internal/operators/windowTime": 179,
    "../internal/operators/windowToggle": 180,
    "../internal/operators/windowWhen": 181,
    "../internal/operators/withLatestFrom": 182,
    "../internal/operators/zip": 183,
    "../internal/operators/zipAll": 184
  } ],
  233: [ function(require, module, exports) {
    "use strict";
    var bind = require("function-bind");
    var ES = require("es-abstract/es5");
    var replace = bind.call(Function.call, String.prototype.replace);
    var leftWhitespace = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;
    var rightWhitespace = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;
    module.exports = function trim() {
      var S = ES.ToString(ES.CheckObjectCoercible(this));
      return replace(replace(S, leftWhitespace, ""), rightWhitespace, "");
    };
  }, {
    "es-abstract/es5": 10,
    "function-bind": 22
  } ],
  234: [ function(require, module, exports) {
    "use strict";
    var bind = require("function-bind");
    var define = require("define-properties");
    var implementation = require("./implementation");
    var getPolyfill = require("./polyfill");
    var shim = require("./shim");
    var boundTrim = bind.call(Function.call, getPolyfill());
    define(boundTrim, {
      getPolyfill: getPolyfill,
      implementation: implementation,
      shim: shim
    });
    module.exports = boundTrim;
  }, {
    "./implementation": 233,
    "./polyfill": 235,
    "./shim": 236,
    "define-properties": 8,
    "function-bind": 22
  } ],
  235: [ function(require, module, exports) {
    "use strict";
    var implementation = require("./implementation");
    var zeroWidthSpace = "\u200b";
    module.exports = function getPolyfill() {
      if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) return String.prototype.trim;
      return implementation;
    };
  }, {
    "./implementation": 233
  } ],
  236: [ function(require, module, exports) {
    "use strict";
    var define = require("define-properties");
    var getPolyfill = require("./polyfill");
    module.exports = function shimStringTrim() {
      var polyfill = getPolyfill();
      define(String.prototype, {
        trim: polyfill
      }, {
        trim: function testTrim() {
          return String.prototype.trim !== polyfill;
        }
      });
      return polyfill;
    };
  }, {
    "./polyfill": 235,
    "define-properties": 8
  } ],
  237: [ function(require, module, exports) {
    (function(process) {
      "use strict";
      var __DEV__ = "production" !== process.env.NODE_ENV;
      var warning = function() {};
      if (__DEV__) {
        var printWarning = function printWarning(format, args) {
          var len = arguments.length;
          args = new Array(len > 1 ? len - 1 : 0);
          for (var key = 1; key < len; key++) args[key - 1] = arguments[key];
          var argIndex = 0;
          var message = "Warning: " + format.replace(/%s/g, function() {
            return args[argIndex++];
          });
          "undefined" !== typeof console && console.error(message);
          try {
            throw new Error(message);
          } catch (x) {}
        };
        warning = function(condition, format, args) {
          var len = arguments.length;
          args = new Array(len > 2 ? len - 2 : 0);
          for (var key = 2; key < len; key++) args[key - 2] = arguments[key];
          if (void 0 === format) throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
          condition || printWarning.apply(null, [ format ].concat(args));
        };
      }
      module.exports = warning;
    }).call(this, require("_process"));
  }, {
    _process: 5
  } ],
  Alert: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d1dd29noFZGbYq/4pG1Zwmb", "Alert");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SUPPER_PRIORITY = exports.AlertClickType = exports.gameAlertTick = exports.gameAlertRefresh = exports.gameAlert = void 0;
    var ColFade_1 = require("../data/ColFade");
    var I18nGlobal_1 = require("../I18nGlobal");
    var IframeGlobal_1 = require("../IframeGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var al = null;
    function gameAlert(messageOrMessages, title, priority, callback) {
      void 0 === title && (title = DEFAULT_TITLE);
      void 0 === priority && (priority = DEFAULT_PRIORITY);
      void 0 === callback && (callback = DEFAULT_CALLBACK);
      if (!al || !al.isValid) return;
      var msgs = Array.isArray(messageOrMessages) ? messageOrMessages : [ messageOrMessages ];
      al.show({
        msgs: msgs,
        title: title,
        priority: priority,
        callback: callback
      });
    }
    exports.gameAlert = gameAlert;
    function gameAlertRefresh(message, refreshAble, priority) {
      void 0 === refreshAble && (refreshAble = true);
      void 0 === priority && (priority = DEFAULT_PRIORITY);
      if (!al || !al.isValid) return;
      al.alertRefresh(message, refreshAble, priority);
    }
    exports.gameAlertRefresh = gameAlertRefresh;
    function gameAlertTick(message, callback, tick) {
      void 0 === callback && (callback = DEFAULT_CALLBACK);
      if (!al || !al.isValid) return;
      al.alertTick(message, callback, tick);
    }
    exports.gameAlertTick = gameAlertTick;
    var AlertClickType;
    (function(AlertClickType) {
      AlertClickType[AlertClickType["CONFIRM"] = 0] = "CONFIRM";
      AlertClickType[AlertClickType["CANCEL"] = 1] = "CANCEL";
      AlertClickType[AlertClickType["CLOSE"] = 2] = "CLOSE";
    })(AlertClickType = exports.AlertClickType || (exports.AlertClickType = {}));
    function sort(a, b) {
      return b.priority - a.priority;
    }
    var DEFAULT_TITLE = "";
    var DEFAULT_PRIORITY = 0;
    var DEFAULT_CALLBACK = null;
    exports.SUPPER_PRIORITY = 1e3;
    var Alert = function(_super) {
      __extends(Alert, _super);
      function Alert() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.winAlertNode = null;
        _this.canvasWidget = [];
        _this.colFade = null;
        _this.labelTitle = null;
        _this.labelMessage = null;
        _this.tickNode = null;
        _this.labelTick = null;
        _this.callbackNodes = [];
        _this.reloadNodes = [];
        _this.dialogNodes = [];
        _this.defaultMat = null;
        _this.grayMat = null;
        _this.loaded = false;
        _this.index = -1;
        _this.queue = [];
        _this.delta = 0;
        _this.updateMessageIndex = 0;
        _this.needUpdateMessage = false;
        return _this;
      }
      Alert.prototype.onLoad = function() {
        this.pre();
        al = this;
      };
      Alert.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.node.zIndex = 10;
        this.toggleActive(false);
        this.labelTitle.node.active = true;
        this.node.height = 500;
        this.node.color = cc.Color.WHITE;
        this.node.opacity = 240;
        this.queue.length && this.doAlert(0);
      };
      Alert.prototype.update = function(dt) {
        if (!this.needUpdateMessage) return;
        this.delta += dt;
        if (this.delta >= 1) {
          var data = this.queue[this.index];
          var txt = I18nGlobal_1.translate(data.msgs[this.updateMessageIndex]);
          this.labelMessage.string = txt;
          this.updateMessageIndex = this.updateMessageIndex + 1 >= data.msgs.length ? 0 : this.updateMessageIndex + 1;
          this.delta -= 1;
        }
      };
      Alert.prototype.createAlertData = function(data) {
        return Object.assign({
          msgs: [],
          title: DEFAULT_TITLE,
          priority: DEFAULT_PRIORITY,
          callback: DEFAULT_CALLBACK,
          tick: ""
        }, data);
      };
      Alert.prototype.show = function(data) {
        if (!data.msgs || !data.msgs.length) return;
        var txt = data.msgs.join("###");
        var arr = this.queue.filter(function(el) {
          return el.msgs.join("###") === txt && el.tick === data.tick;
        });
        arr.length || this.queue.push(this.createAlertData(data));
        this.queue.sort(sort);
        this.doAlert(0);
      };
      Alert.prototype.alert = function(messageOrMessages, title, priority, callback, tick) {
        void 0 === title && (title = DEFAULT_TITLE);
        void 0 === priority && (priority = DEFAULT_PRIORITY);
        void 0 === callback && (callback = DEFAULT_CALLBACK);
        void 0 === tick && (tick = "");
        var msgs = Array.isArray(messageOrMessages) ? messageOrMessages : [ messageOrMessages ];
        this.show({
          msgs: msgs,
          title: title,
          priority: priority,
          callback: callback,
          tick: tick
        });
      };
      Alert.prototype.alertRefresh = function(message, refreshAble, priority) {
        var _this = this;
        void 0 === refreshAble && (refreshAble = true);
        void 0 === priority && (priority = DEFAULT_PRIORITY);
        this.queue.length = 0;
        var next = function() {
          _this.reloadNodes.forEach(function(node) {
            _this.nodeGray(node, refreshAble);
            _this.btnEnable(node, refreshAble);
          });
          IframeGlobal_1.reload();
        };
        this.alert(message, DEFAULT_TITLE, priority, refreshAble ? next : null);
        this.queue.push(this.createAlertData({
          msgs: [ message ]
        }));
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(refreshAble));
        this.toggleTickNode(false);
      };
      Alert.prototype.alertDialog = function(message, next) {
        this.queue.length = 0;
        this.alert(message, DEFAULT_TITLE, DEFAULT_PRIORITY, next);
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(true));
        this.toggleTickNode(false);
      };
      Alert.prototype.alertTick = function(message, next, tick) {
        this.queue.length = 0;
        this.alert(message, DEFAULT_TITLE, DEFAULT_PRIORITY, next, tick);
        this.callbackNodes.forEach(Utils_1.nodeActive(false));
        this.dialogNodes.forEach(Utils_1.nodeActive(false));
        this.reloadNodes.forEach(Utils_1.nodeActive(false));
        this.toggleTickNode(true, Boolean(next));
      };
      Alert.prototype.doAlert = function(index) {
        this.pre();
        this.index = index;
        var data = this.queue[index];
        this.labelTitle.string = data.title;
        var txt = I18nGlobal_1.translate(data.msgs[0]);
        this.labelMessage.string = txt;
        this.labelTick && (this.labelTick.string = I18nGlobal_1.translate(data.tick));
        this.needUpdateMessage = data.msgs.length > 1;
        this.updateMessageIndex = 1;
        this.callbackNodes.forEach(Utils_1.nodeActive(Boolean(data.callback)));
        this.toggleTickNode(data.tick && Boolean(data.callback), Boolean(data.callback));
        this.toggleActive(true);
      };
      Alert.prototype.onConfirmClick = function() {
        this.close(AlertClickType.CONFIRM);
      };
      Alert.prototype.onCloseClick = function() {
        this.close(AlertClickType.CLOSE);
      };
      Alert.prototype.onCancelClick = function() {
        this.close(AlertClickType.CANCEL);
      };
      Alert.prototype.close = function(clickType) {
        if (-1 !== this.index) {
          var data = this.queue[this.index];
          data && data.callback && data.callback(clickType);
          this.remove(this.index);
        }
        this.queue.length > 0 ? this.doAlert(0) : this.toggleActive(false);
      };
      Alert.prototype.remove = function(index) {
        this.queue.splice(index, 1);
      };
      Alert.prototype.only1 = function() {
        this.queue = [ this.queue[0] ];
      };
      Alert.prototype.filter = function(priority) {
        var _this = this;
        var tag = false;
        this.queue = this.queue.filter(function(d, index) {
          var keep = d.priority !== priority;
          _this.index !== index || keep || (tag = true);
          return keep;
        });
        if (tag) {
          this.index = -1;
          this.close(AlertClickType.CLOSE);
        }
      };
      Alert.prototype.toggleActive = function(able) {
        void 0 === able && (able = !this.node.active);
        this.winAlertNode.active = able;
        able || (this.needUpdateMessage = false);
        this.colFade && this.colFade.reset("", able);
      };
      Alert.prototype.toggleTickNode = function(value, hasCallback) {
        void 0 === hasCallback && (hasCallback = false);
        if (!this.tickNode) return;
        if (value) {
          this.tickNode.active = true;
          this.nodeGray(this.tickNode, hasCallback);
          this.btnEnable(this.tickNode, hasCallback);
        } else this.tickNode.active = false;
      };
      Alert.prototype.nodeGray = function(node, isNormal) {
        void 0 === isNormal && (isNormal = true);
        var s = node.getComponent(cc.Sprite);
        s && s.setMaterial(0, isNormal ? this.defaultMat : this.grayMat);
      };
      Alert.prototype.btnEnable = function(node, isNormal) {
        void 0 === isNormal && (isNormal = true);
        var b = node.getComponent(CommonButton_1.default);
        b && (b.enabled = !!isNormal);
        var b2 = node.getComponent(cc.Button);
        b2 && (b2.enabled = !!isNormal);
      };
      __decorate([ property(cc.Node) ], Alert.prototype, "winAlertNode", void 0);
      __decorate([ property([ cc.Widget ]) ], Alert.prototype, "canvasWidget", void 0);
      __decorate([ property(ColFade_1.ColFade) ], Alert.prototype, "colFade", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelTitle", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelMessage", void 0);
      __decorate([ property(cc.Node) ], Alert.prototype, "tickNode", void 0);
      __decorate([ property(cc.Label) ], Alert.prototype, "labelTick", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "callbackNodes", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "reloadNodes", void 0);
      __decorate([ property([ cc.Node ]) ], Alert.prototype, "dialogNodes", void 0);
      __decorate([ property(cc.Material) ], Alert.prototype, "defaultMat", void 0);
      __decorate([ property(cc.Material) ], Alert.prototype, "grayMat", void 0);
      Alert = __decorate([ ccclass ], Alert);
      return Alert;
    }(cc.Component);
    exports.default = Alert;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../IframeGlobal": "IframeGlobal",
    "../data/ColFade": "ColFade",
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  AlphaCheckButton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cfa22ua/UFCgpkhclXsljAd", "AlphaCheckButton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AlphaCheckButton = function(_super) {
      __extends(AlphaCheckButton, _super);
      function AlphaCheckButton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.disableAlphaCheck = false;
        _this.alphaBigerThen = 0;
        _this.sprite = null;
        _this.spriteRect = null;
        _this.spritePixels = null;
        return _this;
      }
      AlphaCheckButton.prototype.tryToGet = function() {
        var rect = this.sprite.spriteFrame.getRect();
        this.spriteRect = rect;
        var texture = this.sprite.spriteFrame.getTexture();
        this.spritePixels = cc.RenderTexture.prototype.readPixels.call(texture, void 0, rect.x, rect.y, rect.width, rect.height);
      };
      AlphaCheckButton.prototype.checkAlpha = function(posInNode) {
        if (!this.spritePixels) {
          this.tryToGet();
          if (!this.spritePixels) return true;
        }
        if (posInNode.x < 0 || posInNode.y < 0 || posInNode.x > this.spriteRect.width || posInNode.y > this.spriteRect.height) return false;
        var alphaIdx = 4 * ((this.spriteRect.height - Math.floor(posInNode.y) - 1) * this.spriteRect.width + Math.floor(posInNode.x)) + 3;
        var alpha = this.spritePixels[alphaIdx];
        return alpha > this.alphaBigerThen;
      };
      AlphaCheckButton.prototype._onTouchEnded = function(event) {
        if (!this.interactable || !this.enabledInHierarchy) return;
        if (this._pressed) {
          var pos = event.getLocation();
          var posInNode = this.node.convertToNodeSpace(pos);
          if (this.disableAlphaCheck || !this.disableAlphaCheck && this.checkAlpha(posInNode)) {
            cc.Component.EventHandler.emitEvents(this.clickEvents, event);
            this.node.emit("click", this);
          }
        }
        this._pressed = false;
        this._updateState();
        event.stopPropagation();
      };
      __decorate([ property(cc.Boolean) ], AlphaCheckButton.prototype, "disableAlphaCheck", void 0);
      __decorate([ property({
        type: cc.Integer,
        tooltip: "\u6aa2\u67e5 alpha \u662f\u5426\u5927\u65bc\u6b64\u503c\uff0c\u5927\u65bc\u624d\u89f8\u767c click"
      }) ], AlphaCheckButton.prototype, "alphaBigerThen", void 0);
      __decorate([ property({
        type: cc.Sprite,
        tooltip: "\u7528\u65bc\u6aa2\u67e5\u7684\u5716\u7247"
      }) ], AlphaCheckButton.prototype, "sprite", void 0);
      AlphaCheckButton = __decorate([ ccclass ], AlphaCheckButton);
      return AlphaCheckButton;
    }(cc.Button);
    exports.default = AlphaCheckButton;
    cc._RF.pop();
  }, {} ],
  AnimatableProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "41a17rG70hFXa2t3SJNA/w7", "AnimatableProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColBase_1 = require("../data/ColBase");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimatableProperty = function(_super) {
      __extends(AnimatableProperty, _super);
      function AnimatableProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.p1 = 0;
        _this.p2 = 0;
        _this.p3 = 0;
        _this.p4 = 0;
        _this.p5 = 0;
        _this.p6 = 0;
        _this.cols = [];
        return _this;
      }
      AnimatableProperty.prototype.update = function() {
        var ary = [ this.p1, this.p2, this.p3, this.p4, this.p5, this.p6 ];
        this.cols.length && Utils_1.loop2ArrayWithMaxLength(ary, this.cols, apply);
      };
      __decorate([ property ], AnimatableProperty.prototype, "p1", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p2", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p3", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p4", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p5", void 0);
      __decorate([ property ], AnimatableProperty.prototype, "p6", void 0);
      __decorate([ property([ ColBase_1.default ]) ], AnimatableProperty.prototype, "cols", void 0);
      AnimatableProperty = __decorate([ ccclass ], AnimatableProperty);
      return AnimatableProperty;
    }(cc.Component);
    exports.default = AnimatableProperty;
    function apply(p, col) {
      col && col.reset(null, p, "");
    }
    cc._RF.pop();
  }, {
    "../data/ColBase": "ColBase",
    "../utils/Utils": "Utils"
  } ],
  AnimationDelayPlay: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0056e9MMqdPG42csqQ/dvpP", "AnimationDelayPlay");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationDelayPlay = function(_super) {
      __extends(AnimationDelayPlay, _super);
      function AnimationDelayPlay() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delaySec = 0;
        _this.animation = null;
        return _this;
      }
      AnimationDelayPlay.prototype.start = function() {
        var anim = this.animation || this.node.getComponent(cc.Animation);
        var isPlaying = anim._animator && anim._animator.isPlaying;
        if (!isPlaying) {
          var state_1 = anim.getAnimationState(anim._defaultClip.name);
          var next = function() {
            anim._animator.playState(state_1);
          };
          anim.scheduleOnce(next, this.delaySec);
        }
      };
      __decorate([ property(cc.Integer) ], AnimationDelayPlay.prototype, "delaySec", void 0);
      __decorate([ property(cc.Animation) ], AnimationDelayPlay.prototype, "animation", void 0);
      AnimationDelayPlay = __decorate([ ccclass ], AnimationDelayPlay);
      return AnimationDelayPlay;
    }(cc.Component);
    exports.default = AnimationDelayPlay;
    cc._RF.pop();
  }, {} ],
  AnimationEventHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "215d5Yhl4VJF5bsa2cz0oOO", "AnimationEventHandler");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationEventHandler = function(_super) {
      __extends(AnimationEventHandler, _super);
      function AnimationEventHandler() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        _this.handlers = [];
        return _this;
      }
      AnimationEventHandler.prototype.triggerHandler = function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        if (!this.handler) return;
        this.handler.emit(__spreadArrays(args));
      };
      AnimationEventHandler.prototype.triggerHandlers = function(index) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
        if (!this.handlers[index]) return;
        this.handlers[index].emit(__spreadArrays(args));
      };
      __decorate([ property(cc.Component.EventHandler) ], AnimationEventHandler.prototype, "handler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], AnimationEventHandler.prototype, "handlers", void 0);
      AnimationEventHandler = __decorate([ ccclass ], AnimationEventHandler);
      return AnimationEventHandler;
    }(cc.Component);
    exports.default = AnimationEventHandler;
    cc._RF.pop();
  }, {} ],
  AnimationWithAnimatableProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9fb5f0kL71HNYV5FOL5ZEgf", "AnimationWithAnimatableProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var AnimatableProperty_1 = require("./AnimatableProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AnimationWithAnimatableProperty = function(_super) {
      __extends(AnimationWithAnimatableProperty, _super);
      function AnimationWithAnimatableProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animatablePropertys = [];
        return _this;
      }
      AnimationWithAnimatableProperty.prototype.onLoad = function() {
        this.animatablePropertys = this.getComponentsInChildren(AnimatableProperty_1.default);
      };
      AnimationWithAnimatableProperty.prototype.play = function(name, startTime) {
        true;
        this.animatablePropertys.forEach(Utils_1.nodeProperty("enabled", true));
        return _super.prototype.play.call(this, name, startTime);
      };
      AnimationWithAnimatableProperty.prototype.stop = function(name) {
        true;
        try {
          this.isValid && this.animatablePropertys.filter(function(r) {
            return r.isValid && r.node;
          }).forEach(Utils_1.nodeProperty("enabled", false));
        } catch (e) {
          LibGlobal_1.log("node already destory", e);
        }
        return _super.prototype.stop.call(this, name);
      };
      AnimationWithAnimatableProperty = __decorate([ ccclass ], AnimationWithAnimatableProperty);
      return AnimationWithAnimatableProperty;
    }(cc.Animation);
    exports.default = AnimationWithAnimatableProperty;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./AnimatableProperty": "AnimatableProperty"
  } ],
  AudioAppend: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c6ab1fRSLlEi6DC+3HOw03I", "AudioAppend");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("./Audio");
    var PersistRootNode_1 = require("./PersistRootNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AudioAppend = function(_super) {
      __extends(AudioAppend, _super);
      function AudioAppend() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.audioClips = [];
        return _this;
      }
      AudioAppend.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        var ary = this.audioClips.map(function(audioClip) {
          if (!audioClip) return null;
          return {
            audioClip: audioClip,
            key: audioClip.name
          };
        }).filter(function(k) {
          return k;
        });
        var audio = Audio_1.getAudioComponent();
        audio.registAudio(ary);
      };
      __decorate([ property({
        type: cc.AudioClip
      }) ], AudioAppend.prototype, "audioClips", void 0);
      AudioAppend = __decorate([ ccclass ], AudioAppend);
      return AudioAppend;
    }(PersistRootNode_1.default);
    exports.default = AudioAppend;
    cc._RF.pop();
  }, {
    "./Audio": "Audio",
    "./PersistRootNode": "PersistRootNode"
  } ],
  Audio: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b1108iXwMpK/5JmDxfWXrKY", "Audio");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.audioAppend = exports.audioGetBGMName = exports.audioSwitchBGM = exports.audioStop = exports.audioStopLoop = exports.audioDefaultButtonAudioName = exports.audioEffectsVolume = exports.audioMusicVolume = exports.audioEnable = exports.audioEnabled = exports.audioPlay = exports.getAudioComponent = exports.setAudioComponent = exports.audio = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var PersistRootNode_1 = require("./PersistRootNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.audio = null;
    function setAudioComponent(audioComponent) {
      exports.audio = audioComponent;
    }
    exports.setAudioComponent = setAudioComponent;
    function getAudioComponent() {
      return exports.audio;
    }
    exports.getAudioComponent = getAudioComponent;
    var type = "";
    var lang = "";
    var loaded = false;
    function audioNameToUrl(name) {
      if (!loaded) {
        var l = ResourcesLoader_1.getResourcesLoader();
        if (!l.varLoaded) return;
        lang = l.lang;
        type = l.audioType;
        loaded = true;
      }
      var urls = [ "audio/" + type + "/" + name + "_" + lang, "audio/" + type + "/" + name ];
      for (var i = 0; i < urls.length; i += 1) {
        var url = urls[i];
        var info = cc.resources.getInfoWithPath(url, cc.AudioClip);
        if (info) return url;
      }
      return "";
    }
    var urlPromiseMap = new Map();
    var urlCompletes = [];
    var unstartedLoopKeys = [];
    var unstartedKeys = [];
    var delayPrefix = "delay_";
    var DELAY_TIMEOUT = 250;
    var delayBGMName = "";
    var delayId = 0;
    function audioReady(name) {
      return __awaiter(this, void 0, void 0, function() {
        var now, url, p, lracp, audioClip;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            now = Date.now();
            url = audioNameToUrl(name);
            if (-1 !== urlCompletes.indexOf(url)) return [ 2, 0 ];
            p = urlPromiseMap.get(url);
            if (!p) return [ 3, 2 ];
            return [ 4, p ];

           case 1:
            _a.sent();
            return [ 2, Date.now() - now ];

           case 2:
            lracp = ResourcesLoader_1.loadResAudioClipPromise(url);
            urlPromiseMap.set(url, lracp);
            return [ 4, lracp ];

           case 3:
            audioClip = _a.sent();
            urlCompletes.push(url);
            exports.audio.registAudio([ {
              audioClip: audioClip,
              key: name
            } ]);
            return [ 2, Date.now() - now ];
          }
        });
      });
    }
    function audioPlay(name, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.loop, loop = void 0 !== _c && _c, _d = _b.loopIndex, loopIndex = void 0 === _d ? "" : _d, _e = _b.throttle, throttle = void 0 === _e ? 0 : _e;
      if (!exports.audio) return;
      if (LibGlobal_1.getIsEnterBackground()) return "-1";
      if (!exports.audio.audioEnabled) return "-1";
      var has = exports.audio.hasAudio(name);
      if (has) return "" + exports.audio.play(name, {
        loop: loop,
        loopIndex: loopIndex,
        throttle: throttle
      });
      delayId += 1;
      var key = delayPrefix + delayId;
      if (loop) {
        var loopKey = [ name, loopIndex ].join("#");
        unstartedLoopKeys.push(loopKey);
      } else unstartedKeys.push(key);
      audioDelayPlay(key, name, {
        loop: loop,
        loopIndex: loopIndex,
        throttle: throttle
      });
      return key;
    }
    exports.audioPlay = audioPlay;
    function audioDelaySwitchBGM(name, volume) {
      return __awaiter(this, void 0, Promise, function() {
        var t;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            return [ 4, audioReady(name) ];

           case 1:
            t = _a.sent();
            if (name !== delayBGMName) return [ 2 ];
            exports.audio.switchBGM(name, volume);
            return [ 2 ];
          }
        });
      });
    }
    function audioDelayPlay(delayKey, name, _a) {
      var loop = _a.loop, loopIndex = _a.loopIndex, throttle = _a.throttle;
      return __awaiter(this, void 0, Promise, function() {
        var t, loopKey, id;
        return __generator(this, function(_b) {
          switch (_b.label) {
           case 0:
            return [ 4, audioReady(name) ];

           case 1:
            t = _b.sent();
            if (loop) {
              loopKey = [ name, loopIndex ].join("#");
              if (-1 === unstartedLoopKeys.indexOf(loopKey)) return [ 2, "-2" ];
              Utils_1.arraySplice(unstartedLoopKeys, loopKey);
            } else {
              if (t >= DELAY_TIMEOUT) {
                Utils_1.arraySplice(unstartedKeys, delayKey);
                return [ 2, "-1" ];
              }
              if (-1 === unstartedKeys.indexOf(delayKey)) return [ 2, "-2" ];
              Utils_1.arraySplice(unstartedKeys, delayKey);
            }
            id = exports.audio.play(name, {
              loop: loop,
              loopIndex: loopIndex,
              throttle: throttle
            });
            return [ 2, "" + id ];
          }
        });
      });
    }
    function audioEnabled() {
      if (!exports.audio) return;
      return exports.audio.audioEnabled;
    }
    exports.audioEnabled = audioEnabled;
    function audioEnable(able) {
      if (!exports.audio) return;
      exports.audio.enable(able);
    }
    exports.audioEnable = audioEnable;
    function audioMusicVolume(volume) {
      if (!exports.audio) return;
      exports.audio.setMusicVolume(volume);
    }
    exports.audioMusicVolume = audioMusicVolume;
    function audioEffectsVolume(volume) {
      if (!exports.audio) return;
      exports.audio.setEffectsVolume(volume);
    }
    exports.audioEffectsVolume = audioEffectsVolume;
    function audioDefaultButtonAudioName() {
      if (!exports.audio) return;
      return exports.audio.defaultButtonAudioName;
    }
    exports.audioDefaultButtonAudioName = audioDefaultButtonAudioName;
    function audioStopLoop(name, loopIndex) {
      void 0 === loopIndex && (loopIndex = "");
      if (!exports.audio) return;
      if (LibGlobal_1.getIsEnterBackground()) return;
      if (!exports.audio.audioEnabled) return;
      var has = exports.audio.hasAudio(name);
      if (has) exports.audio.stopLoop(name, loopIndex); else {
        var loopKey = [ name, loopIndex ].join("#");
        Utils_1.arraySplice(unstartedLoopKeys, loopKey);
      }
    }
    exports.audioStopLoop = audioStopLoop;
    function audioStop(id) {
      if (!exports.audio) return;
      "number" === typeof id ? exports.audio.stop(id) : id.startsWith(delayPrefix) && Utils_1.arraySplice(unstartedKeys, id);
    }
    exports.audioStop = audioStop;
    function audioSwitchBGM(name, volume) {
      void 0 === name && (name = "");
      if (!exports.audio) return;
      var has = exports.audio.hasAudio(name);
      delayBGMName = name;
      has ? exports.audio.switchBGM(name, volume) : audioDelaySwitchBGM(name, volume);
    }
    exports.audioSwitchBGM = audioSwitchBGM;
    function audioPlayBGM(name, volume) {
      void 0 === name && (name = "");
      if (!exports.audio) return;
      var has = exports.audio.hasAudio(name);
      delayBGMName = name;
      has ? exports.audio.playBGM(name, volume) : audioDelaySwitchBGM(name, volume);
    }
    function audioGetBGMName() {
      return delayBGMName;
    }
    exports.audioGetBGMName = audioGetBGMName;
    function audioAppend(keyAudioClip) {
      if (!exports.audio) return;
      return exports.audio.registAudio(keyAudioClip);
    }
    exports.audioAppend = audioAppend;
    var AudioPlayType;
    (function(AudioPlayType) {
      AudioPlayType[AudioPlayType["effect"] = 0] = "effect";
      AudioPlayType[AudioPlayType["music"] = 1] = "music";
    })(AudioPlayType || (AudioPlayType = {}));
    var Audio = function(_super) {
      __extends(Audio, _super);
      function Audio() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.mockMode = false;
        _this.debugMode = false;
        _this._audioEnabled = true;
        _this.audioMap = new Map();
        _this.audioClips = [];
        _this.defaultButtonAudioName = "";
        _this.musicVolume = .2;
        _this.effectsVolume = .2;
        _this.bgmName = "";
        _this.throttleMap = {};
        _this.loopIdMap = {};
        return _this;
      }
      Audio.prototype.registAudio = function(ary) {
        var _this = this;
        ary.forEach(function(a) {
          _this.audioMap.set(a.key, a.audioClip);
        });
      };
      Audio.prototype.hasAudio = function(name) {
        return this.audioMap.has(name);
      };
      Object.defineProperty(Audio.prototype, "audioEnabled", {
        get: function() {
          return this._audioEnabled;
        },
        enumerable: false,
        configurable: true
      });
      Audio.prototype.setMusicVolume = function(vol) {
        if (this.mockMode) return;
        if (vol === this.musicVolume) return;
        cc.audioEngine.setMusicVolume(vol);
        this.musicVolume = vol;
      };
      Audio.prototype.setEffectsVolume = function(vol) {
        if (this.mockMode) return;
        if (vol === this.effectsVolume) return;
        cc.audioEngine.setEffectsVolume(vol);
        this.effectsVolume = vol;
      };
      Audio.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        var l = ResourcesLoader_1.getResourcesLoader();
        setAudioComponent(this);
        var ary = this.audioClips.map(function(audioClip) {
          if (!audioClip) return null;
          return {
            audioClip: audioClip,
            key: audioClip.name
          };
        }).filter(Utils_1.identity);
        this.registAudio(ary);
        this.registAudio(l.keyAudioClips);
      };
      Audio.prototype.onDestroy = function() {
        setAudioComponent(null);
      };
      Audio.prototype.getBGMName = function() {
        return this.bgmName;
      };
      Audio.prototype.switchBGM = function(name, volume) {
        void 0 === name && (name = "");
        void 0 === volume && (volume = this.musicVolume);
        if (this.bgmName === name) return;
        return this.playBGM(name, volume);
      };
      Audio.prototype.playBGM = function(name, volume) {
        void 0 === name && (name = "");
        void 0 === volume && (volume = this.musicVolume);
        if (this.mockMode) return;
        this.bgmName = name;
        var id = this.play2(name, true, AudioPlayType.music);
        this.setMusicVolume(volume);
        this.debugMode && LibGlobal_1.warn("Audio.ts#playBGM", name, id, volume);
        return id;
      };
      Audio.prototype.play = function(name, _a) {
        var _b = void 0 === _a ? {} : _a, _c = _b.loop, loop = void 0 !== _c && _c, _d = _b.loopIndex, loopIndex = void 0 === _d ? "" : _d, _e = _b.throttle, throttle = void 0 === _e ? 0 : _e;
        if (this.mockMode) return;
        if (0 === this.effectsVolume) return;
        if (throttle) {
          var now = Date.now();
          if (this.throttleMap[name] && now - this.throttleMap[name] < throttle) return;
          this.throttleMap[name] = now;
        }
        var loopKey = [ name, loopIndex ].join("#");
        var id;
        if (loop) {
          if (loop && !this.loopIdMap[loopKey]) {
            id = this.play2(name, loop, AudioPlayType.effect);
            this.loopIdMap[loopKey] = id;
          }
        } else id = this.play2(name, loop, AudioPlayType.effect);
        this.debugMode && LibGlobal_1.warn("Audio.ts#play", name, loop, id);
        return id;
      };
      Audio.prototype.stopLoop = function(name, loopIndex) {
        void 0 === loopIndex && (loopIndex = "");
        if (this.mockMode) return;
        var loopKey = [ name, loopIndex ].join("#");
        this.debugMode && LibGlobal_1.warn("Audio.ts#stopLoop", name, loopIndex, this.loopIdMap[loopKey]);
        cc.audioEngine.stop(this.loopIdMap[loopKey]);
        delete this.loopIdMap[loopKey];
      };
      Audio.prototype.stop = function(id) {
        if (this.mockMode) return;
        this.debugMode && LibGlobal_1.warn("Audio.ts#stop", id);
        cc.audioEngine.stop(id);
      };
      Audio.prototype.play2 = function(name, loop, type) {
        void 0 === loop && (loop = false);
        if (!this._audioEnabled) return;
        var clip = this.audioMap.get(name);
        var id;
        switch (type) {
         case AudioPlayType.effect:
          if (!clip) return;
          id = cc.audioEngine.playEffect(clip, loop);
          break;

         case AudioPlayType.music:
          var playing = cc.audioEngine.isMusicPlaying();
          playing && cc.audioEngine.stopMusic();
          if (!clip) return;
          id = cc.audioEngine.playMusic(clip, loop);
        }
        return id;
      };
      Audio.prototype.enable = function(able) {
        if (this.mockMode) return;
        if (this._audioEnabled === able) return;
        this._audioEnabled = able;
        able ? audioPlayBGM(delayBGMName) : cc.audioEngine.stopAll();
      };
      __decorate([ property(cc.Boolean) ], Audio.prototype, "mockMode", void 0);
      __decorate([ property(cc.Boolean) ], Audio.prototype, "debugMode", void 0);
      __decorate([ property({
        type: cc.AudioClip
      }) ], Audio.prototype, "audioClips", void 0);
      __decorate([ property(cc.String) ], Audio.prototype, "defaultButtonAudioName", void 0);
      Audio = __decorate([ ccclass ], Audio);
      return Audio;
    }(PersistRootNode_1.default);
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./PersistRootNode": "PersistRootNode"
  } ],
  AutoPing: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "845fbTuYb5I9ri38iNRlXmU", "AutoPing");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AutoPing = function() {
      function AutoPing(when0, eachSec) {
        void 0 === eachSec && (eachSec = 5);
        this.when0 = null;
        this.eachSec = 5;
        this.delta = -1;
        this.when0 = when0;
        this.eachSec = eachSec;
      }
      AutoPing.prototype.start = function() {
        this.delta = 0;
      };
      AutoPing.prototype.stop = function() {
        this.delta = -1;
      };
      AutoPing.prototype.updateDeltaTo0 = function() {
        if (-1 === this.delta) return;
        this.delta = 0;
      };
      AutoPing.prototype.update = function(dt) {
        if (-1 === this.delta) return;
        this.delta += dt;
        if (this.delta >= this.eachSec) {
          this.updateDeltaTo0();
          this.when0();
        }
      };
      return AutoPing;
    }();
    exports.default = AutoPing;
    cc._RF.pop();
  }, {} ],
  AutoRotation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b9191s5XyxETJAkkDsctegg", "AutoRotation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AutoRotation = function(_super) {
      __extends(AutoRotation, _super);
      function AutoRotation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.perUpdate = 0;
        _this.rot = 0;
        return _this;
      }
      AutoRotation.prototype.onLoad = function() {
        this.rot = this.node.angle;
      };
      AutoRotation.prototype.update = function() {
        if (!this.perUpdate) return;
        this.rot += this.perUpdate;
        this.rot >= 360 && (this.rot = 0);
        this.node.angle = this.rot;
      };
      __decorate([ property(cc.Integer) ], AutoRotation.prototype, "perUpdate", void 0);
      AutoRotation = __decorate([ ccclass ], AutoRotation);
      return AutoRotation;
    }(cc.Component);
    exports.default = AutoRotation;
    cc._RF.pop();
  }, {} ],
  AutoToggleNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a6472DY5HRGmovRrf+8ttbP", "AutoToggleNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AutoToggleNode = function(_super) {
      __extends(AutoToggleNode, _super);
      function AutoToggleNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.perNode = 0;
        _this.nodes = [];
        _this.firstIndex = 0;
        _this.delta = 0;
        return _this;
      }
      AutoToggleNode.prototype.activeNode = function(index) {
        this.nodes.forEach(Utils_1.nodeActive(false));
        this.nodes[index].active = true;
      };
      AutoToggleNode.prototype.onLoad = function() {
        this.activeNode(this.firstIndex);
      };
      AutoToggleNode.prototype.update = function(dt) {
        if (!this.perNode) return;
        this.delta += dt;
        if (this.delta >= this.perNode) {
          this.delta -= this.perNode;
          this.firstIndex += 1;
          this.firstIndex >= this.nodes.length && (this.firstIndex = 0);
          this.activeNode(this.firstIndex);
        }
      };
      __decorate([ property(cc.Integer) ], AutoToggleNode.prototype, "perNode", void 0);
      __decorate([ property([ cc.Node ]) ], AutoToggleNode.prototype, "nodes", void 0);
      __decorate([ property(cc.Integer) ], AutoToggleNode.prototype, "firstIndex", void 0);
      AutoToggleNode = __decorate([ ccclass ], AutoToggleNode);
      return AutoToggleNode;
    }(cc.Component);
    exports.default = AutoToggleNode;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  BezierPosition: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4588bYapwRHA4BaA4+drg/g", "BezierPosition");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BezierPosition = function(_super) {
      __extends(BezierPosition, _super);
      function BezierPosition() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.points = [];
        _this.targetNode = null;
        _this.playOnStart = false;
        _this.loop = false;
        _this.sec = 0;
        _this.delay = 0;
        _this.delta = -1;
        _this.calculatedPoints = [];
        _this.resolve = null;
        _this.graphics = null;
        return _this;
      }
      BezierPosition.prototype.start = function() {
        var _this = this;
        var next = function() {
          _this.play().then(next);
        };
        this.playOnStart && next();
      };
      BezierPosition.prototype.play = function(points, sec, delay, targetNode) {
        var _this = this;
        void 0 === points && (points = []);
        void 0 === sec && (sec = .5);
        void 0 === delay && (delay = .5);
        void 0 === targetNode && (targetNode = null);
        var node = targetNode || this.targetNode || this.node;
        var pts = points.length ? points : this.points;
        if (!node) return;
        if (pts.length < 3) {
          true;
          LibGlobal_1.warn("points less then 3");
          return;
        }
        node.active = true;
        this.targetNode = node;
        this.sec = sec;
        this.delta = 0;
        this.delay = delay;
        this.calculatedPoints = Utils_1.calculateControlPoints(pts);
        var p = new Promise(function(resolve, reject) {
          _this.resolve = resolve;
        });
        return p;
      };
      BezierPosition.prototype.update = function(dt) {
        if (-1 === this.delta) return;
        var delta = this.delta + dt;
        var node = this.targetNode;
        var total = this.sec;
        var delay = this.delay;
        if (delta >= total) if (delta >= total + delay) {
          this.delta = -1;
          node.active = false;
          this.resolve && this.resolve();
          this.resolve = null;
        } else {
          this.delta = delta;
          node.setPosition(this.calculatedPoints[this.calculatedPoints.length - 1]);
        } else {
          this.delta = delta;
          var pts = this.calculatedPoints;
          var l = (this.calculatedPoints.length - 1) / 3;
          var i = 3 * Math.floor(delta / total * l);
          var t = delta / total * l % 1;
          var pos = Utils_1.pointOnCubicBezier(t, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);
          node.setPosition(pos);
        }
      };
      BezierPosition.prototype.playCCBezier = function(time, firstPos, secondPos, endPos, drawTrack) {
        var _this = this;
        void 0 === drawTrack && (drawTrack = false);
        if (drawTrack) {
          true;
          this.drawBezierCurve(firstPos, secondPos, endPos);
        }
        var promise = new Promise(function(resolve) {
          var node = _this.targetNode || _this.node;
          var endCallback = cc.callFunc(function() {
            node.active = false;
            resolve();
          });
          node.active = true;
          node.setPosition(firstPos);
          var bezierPos = [ firstPos, secondPos, endPos ];
          var bez = cc.bezierTo(time, bezierPos);
          var sequence = cc.sequence(bez, endCallback);
          cc.tween(node).then(sequence).start();
        });
        return promise;
      };
      BezierPosition.prototype.drawBezierCurve = function(firstPos, secondPos, endPos) {
        this.graphics || (this.graphics = this.node.addComponent(cc.Graphics));
        this.graphics.clear();
        this.graphics.lineWidth = 5;
        this.graphics.strokeColor = cc.Color.BLUE;
        this.graphics.moveTo(firstPos.x, firstPos.y);
        this.graphics.bezierCurveTo(firstPos.x, firstPos.y, secondPos.x, secondPos.y, endPos.x, endPos.y);
        this.graphics.stroke();
      };
      __decorate([ property([ cc.Vec2 ]) ], BezierPosition.prototype, "points", void 0);
      __decorate([ property(cc.Node) ], BezierPosition.prototype, "targetNode", void 0);
      __decorate([ property(cc.Boolean) ], BezierPosition.prototype, "playOnStart", void 0);
      __decorate([ property(cc.Boolean) ], BezierPosition.prototype, "loop", void 0);
      BezierPosition = __decorate([ ccclass ], BezierPosition);
      return BezierPosition;
    }(cc.Component);
    exports.default = BezierPosition;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  BigWinBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bd8eaioyOtBGYaZ78DbzmWX", "BigWinBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BigWinData = exports.getBigWinLevel = exports.getBigWinLevelIndex = exports.getTotalSec = exports.bigWinConfig = exports.xWinMinScale = exports.BIG_WIN_LEVELS = exports.BigWinConfig = exports.BIG_WIN_LEVEL = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var _b = cc._decorator, ccclass = _b.ccclass, property = _b.property;
    var BIG_WIN_LEVEL;
    (function(BIG_WIN_LEVEL) {
      BIG_WIN_LEVEL["BIG"] = "bigwin";
      BIG_WIN_LEVEL["SUPER"] = "superwin";
      BIG_WIN_LEVEL["EPIC"] = "epicwin";
      BIG_WIN_LEVEL["MEGA"] = "megawin";
      BIG_WIN_LEVEL["NONE"] = "";
    })(BIG_WIN_LEVEL = exports.BIG_WIN_LEVEL || (exports.BIG_WIN_LEVEL = {}));
    var BigWinConfig = function() {
      function BigWinConfig(sec, times, scaleXWin, coinsPerDt, coinSpeed) {
        this.sec = sec;
        this.times = times;
        this.scaleXWin = scaleXWin;
        this.coinsPerDt = coinsPerDt;
        this.coinSpeed = coinSpeed;
      }
      return BigWinConfig;
    }();
    exports.BigWinConfig = BigWinConfig;
    exports.BIG_WIN_LEVELS = [ BIG_WIN_LEVEL.BIG, BIG_WIN_LEVEL.SUPER, BIG_WIN_LEVEL.EPIC, BIG_WIN_LEVEL.MEGA ];
    var coinSpeedBase = 250;
    exports.xWinMinScale = .5;
    exports.bigWinConfig = (_a = {}, _a[BIG_WIN_LEVEL.BIG] = {
      times: 10,
      sec: 3,
      scaleXWin: .55,
      coinsPerDt: 10,
      coinSpeed: 1 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.SUPER] = {
      times: 20,
      sec: 3,
      scaleXWin: .62,
      coinsPerDt: 20,
      coinSpeed: 1.2 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.EPIC] = {
      times: 50,
      sec: 3,
      scaleXWin: .8,
      coinsPerDt: 40,
      coinSpeed: 2.5 * coinSpeedBase
    }, _a[BIG_WIN_LEVEL.MEGA] = {
      times: 100,
      sec: 5,
      scaleXWin: 1,
      coinsPerDt: 80,
      coinSpeed: 4.2 * coinSpeedBase
    }, _a);
    function getTotalSec(lv) {
      return [ 3, 3, 3, 5 ].slice(0, exports.BIG_WIN_LEVELS.indexOf(lv) + 1).reduce(Utils_1.sumReducer, 0);
    }
    exports.getTotalSec = getTotalSec;
    function getBigWinLevelIndex(lv) {
      return exports.BIG_WIN_LEVELS.indexOf(lv);
    }
    exports.getBigWinLevelIndex = getBigWinLevelIndex;
    function getBigWinLevel(totalBet, totalWin) {
      var ary = exports.BIG_WIN_LEVELS.slice().reverse();
      var times = totalWin / totalBet;
      for (var i = 0; i < ary.length; i += 1) {
        var lv = ary[i];
        var config = exports.bigWinConfig[lv];
        if (times >= config.times) return lv;
      }
      return BIG_WIN_LEVEL.NONE;
    }
    exports.getBigWinLevel = getBigWinLevel;
    var BigWinData = function() {
      function BigWinData(totalBet, totalWins) {
        void 0 === totalBet && (totalBet = 1);
        void 0 === totalWins && (totalWins = 1);
        this.totalBet = totalBet;
        this.totalWins = totalWins;
      }
      return BigWinData;
    }();
    exports.BigWinData = BigWinData;
    var BigWinBase = function(_super) {
      __extends(BigWinBase, _super);
      function BigWinBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.canvasWidget = [];
        _this.doneHandler = null;
        _this.data = null;
        return _this;
      }
      BigWinBase.prototype.setCanvasWidgetTarget = function(target) {
        this.canvasWidget.forEach(Utils_1.nodeProperty("target", target));
      };
      BigWinBase.prototype.calculate = function(totalBet, totalWins) {
        var level = getBigWinLevel(totalBet, totalWins);
        var totalBetReal = Utils_1.fixBalanceNumber(totalBet);
        var times = totalWins / totalBet;
        var totalSec = getTotalSec(level);
        var weights = [ 1.5 ];
        var winss = [ totalBetReal * exports.bigWinConfig[BIG_WIN_LEVEL.BIG].times ];
        var maxScaleXWin = 0;
        for (var i = 1; i <= exports.BIG_WIN_LEVELS.length; i += 1) {
          var lv = exports.BIG_WIN_LEVELS[i];
          var config = exports.bigWinConfig[lv] || exports.bigWinConfig[BIG_WIN_LEVEL.MEGA];
          if (!(i !== exports.BIG_WIN_LEVELS.length && times >= config.times)) {
            maxScaleXWin = config.scaleXWin;
            var prevConfig = exports.bigWinConfig[exports.BIG_WIN_LEVELS[i - 1]];
            var w = Utils_1.lowerThen(5, Utils_1.biggerThen(.1, (times - prevConfig.times) / prevConfig.times * prevConfig.sec));
            weights.push(w);
            winss.push(Utils_1.fixBalanceNumber(totalWins));
            break;
          }
          weights.push(config.sec);
          winss.push(totalBetReal * config.times);
        }
        var totalWeight = weights.reduce(Utils_1.sumReducer, 0);
        var arr = Utils_1.loop2ArrayWithMinLength(winss, weights, function(wins, weight, idx) {
          var levelUp = 1 !== idx;
          var sec = weight / totalWeight * totalSec;
          LibGlobal_1.log(sec, wins);
          return {
            weight: weight,
            levelUp: levelUp,
            sec: sec,
            wins: wins
          };
        });
        return {
          totalSec: totalSec,
          totalWeight: totalWeight,
          maxScaleXWin: maxScaleXWin,
          arr: arr
        };
      };
      __decorate([ property([ cc.Widget ]) ], BigWinBase.prototype, "canvasWidget", void 0);
      __decorate([ property(cc.Component.EventHandler) ], BigWinBase.prototype, "doneHandler", void 0);
      BigWinBase = __decorate([ ccclass ], BigWinBase);
      return BigWinBase;
    }(cc.Component);
    exports.default = BigWinBase;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  ButtonAudio: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68a8acfe2JFUaznEvlPbJYL", "ButtonAudio");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Audio_1 = require("./Audio");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ButtonAudio = function(_super) {
      __extends(ButtonAudio, _super);
      function ButtonAudio() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.audioName = "";
        return _this;
      }
      ButtonAudio.prototype.play = function() {
        var cb = this.getComponent(CommonButton_1.default);
        if (cb && false === cb.interactable) return;
        var b = this.getComponent(cc.Button);
        if (b && false === b.interactable) return;
        Audio_1.audioPlay(this.audioName || Audio_1.audioDefaultButtonAudioName());
      };
      ButtonAudio.prototype.onEnable = function() {
        this.node.on(cc.Node.EventType.TOUCH_START, this.play, this);
      };
      ButtonAudio.prototype.onDisable = function() {
        this.node.off(cc.Node.EventType.TOUCH_START, this.play, this);
      };
      __decorate([ property(cc.String) ], ButtonAudio.prototype, "audioName", void 0);
      ButtonAudio = __decorate([ ccclass, menu("Button/ButtonAudio") ], ButtonAudio);
      return ButtonAudio;
    }(cc.Component);
    exports.default = ButtonAudio;
    cc._RF.pop();
  }, {
    "./Audio": "Audio",
    "./CommonButton": "CommonButton"
  } ],
  ButtonInteractable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "94ddbBRaxVFbK9UOy1VDx/0", "ButtonInteractable");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ButtonInteractable = function(_super) {
      __extends(ButtonInteractable, _super);
      function ButtonInteractable() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zone = "";
        return _this;
      }
      ButtonInteractable.prototype.onLoad = function() {
        LibGlobal_1.bindExclusiveButtonInteractable(this.zone, this);
      };
      ButtonInteractable.prototype.onDestroy = function() {
        LibGlobal_1.unbindExclusiveButtonInteractable(this.zone, this);
      };
      ButtonInteractable.prototype.triggerExclusive = function(able) {
        able ? LibGlobal_1.activeButtonExclusive(this.zone, this) : LibGlobal_1.disableButtonExclusive(this.zone);
      };
      ButtonInteractable.prototype.interactable = function(able) {
        var buttons = this.node.getComponentsInChildren(CommonButton_1.default);
        buttons.forEach(Utils_1.nodeProperty("interactable", able));
      };
      __decorate([ property(cc.String) ], ButtonInteractable.prototype, "zone", void 0);
      ButtonInteractable = __decorate([ ccclass ], ButtonInteractable);
      return ButtonInteractable;
    }(cc.Component);
    exports.default = ButtonInteractable;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  CameraControl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bca79u3mcNMI44hE/iRt6Ft", "CameraControl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MOVE_LEFT = 1;
    var MOVE_RIGHT = 2;
    var MOVE_UP = 4;
    var MOVE_DOWN = 8;
    var ZOOM_IN = 16;
    var ZOOM_OUT = 32;
    var CameraControl = function(_super) {
      __extends(CameraControl, _super);
      function CameraControl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.label = null;
        _this.flag = 0;
        _this.mouseWheelZoom = false;
        return _this;
      }
      CameraControl.prototype.onLoad = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
        this.node.on(cc.Node.EventType.MOUSE_WHEEL, this.onMouseWheel, this);
      };
      CameraControl.prototype.onMouseWheel = function(event) {
        this.mouseWheelZoom && (event.getScrollY() > 1 && this.camera.zoomRatio < 1 ? this.camera.zoomRatio += .01 : event.getScrollY() < -1 && this.camera.zoomRatio > .1 && (this.camera.zoomRatio -= .01));
      };
      CameraControl.prototype.onKeyDown = function(event) {
        switch (event.keyCode) {
         case cc.macro.KEY.a:
         case cc.macro.KEY.left:
          this.flag |= MOVE_LEFT;
          break;

         case cc.macro.KEY.d:
         case cc.macro.KEY.right:
          this.flag |= MOVE_RIGHT;
          break;

         case cc.macro.KEY.w:
         case cc.macro.KEY.up:
          this.flag |= MOVE_UP;
          break;

         case cc.macro.KEY.s:
         case cc.macro.KEY.down:
          this.flag |= MOVE_DOWN;
          break;

         case cc.macro.KEY.q:
         case cc.macro.KEY["+"]:
         case cc.macro.KEY["="]:
          this.flag |= ZOOM_IN;
          break;

         case cc.macro.KEY.e:
         case cc.macro.KEY["-"]:
         case cc.macro.KEY.dash:
          this.flag |= ZOOM_OUT;
          break;

         case cc.macro.KEY.z:
          this.mouseWheelZoom = true;
        }
      };
      CameraControl.prototype.onKeyUp = function(event) {
        switch (event.keyCode) {
         case cc.macro.KEY.a:
         case cc.macro.KEY.left:
          this.flag &= ~MOVE_LEFT;
          break;

         case cc.macro.KEY.d:
         case cc.macro.KEY.right:
          this.flag &= ~MOVE_RIGHT;
          break;

         case cc.macro.KEY.w:
         case cc.macro.KEY.up:
          this.flag &= ~MOVE_UP;
          break;

         case cc.macro.KEY.s:
         case cc.macro.KEY.down:
          this.flag &= ~MOVE_DOWN;
          break;

         case cc.macro.KEY.q:
         case cc.macro.KEY["+"]:
         case cc.macro.KEY["="]:
          this.flag &= ~ZOOM_IN;
          break;

         case cc.macro.KEY.e:
         case cc.macro.KEY["-"]:
         case cc.macro.KEY.dash:
          this.flag &= ~ZOOM_OUT;
          break;

         case cc.macro.KEY.space:
          this.camera.node.x = 0;
          this.camera.node.y = 0;
          this.camera.zoomRatio = 1;
          this.updateLabel();
          break;

         case cc.macro.KEY.z:
          this.mouseWheelZoom = false;
        }
      };
      CameraControl.prototype.update = function() {
        if (0 !== this.flag) {
          this.flag & MOVE_LEFT | 0 && (this.camera.node.x += 10);
          this.flag & MOVE_RIGHT | 0 && (this.camera.node.x -= 10);
          this.flag & MOVE_UP | 0 && (this.camera.node.y -= 10);
          this.flag & MOVE_DOWN | 0 && (this.camera.node.y += 10);
          this.flag & ZOOM_IN | 0 && this.camera.zoomRatio < 5 && (this.camera.zoomRatio += .01);
          this.flag & ZOOM_OUT | 0 && this.camera.zoomRatio > .1 && (this.camera.zoomRatio -= .01);
          this.updateLabel();
        }
      };
      CameraControl.prototype.updateCamera = function(camera) {
        this.camera = camera;
        this.updateLabel();
      };
      CameraControl.prototype.updateLabel = function() {
        if (this.label) {
          var str = [ Math.round(this.camera.node.x), Math.round(this.camera.node.y), Math.round(1e3 * this.camera.zoomRatio) / 1e3 ].join("/");
          this.label.string = str;
        }
      };
      __decorate([ property(cc.Camera) ], CameraControl.prototype, "camera", void 0);
      __decorate([ property(cc.Label) ], CameraControl.prototype, "label", void 0);
      CameraControl = __decorate([ ccclass ], CameraControl);
      return CameraControl;
    }(cc.Component);
    exports.default = CameraControl;
    cc._RF.pop();
  }, {} ],
  CardBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9b927DDrlhP1Lc13x6R0/YV", "CardBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardBase = function(_super) {
      __extends(CardBase, _super);
      function CardBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.cardBGSprite = null;
        _this.cardNumSprite = null;
        _this.cardFlowerSprite = null;
        _this.cardFlowerSprite2 = null;
        return _this;
      }
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardBGSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardNumSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardFlowerSprite", void 0);
      __decorate([ property(cc.Sprite) ], CardBase.prototype, "cardFlowerSprite2", void 0);
      CardBase = __decorate([ ccclass ], CardBase);
      return CardBase;
    }(cc.Component);
    exports.default = CardBase;
    cc._RF.pop();
  }, {} ],
  CardFlip2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4ef23V5CbBKwYgjXsj/sQ5m", "CardFlip2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ResourcesKeeper_1 = require("../script/ResourcesKeeper");
    var Utils_1 = require("../utils/Utils");
    var CardBase_1 = require("./CardBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardFlip2 = function(_super) {
      __extends(CardFlip2, _super);
      function CardFlip2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.anim = null;
        _this.card = null;
        return _this;
      }
      CardFlip2.prototype.onLoad = function() {
        var k = ResourcesKeeper_1.getResourcesKeeper();
        var anim = this.getComponent(cc.Animation);
        if (!anim) {
          anim = this.addComponent(cc.Animation);
          anim.addClip(k.animationClips[0]);
          anim.addClip(k.animationClips[1]);
        }
        this.card = this.getComponent(CardBase_1.default);
        this.anim = anim;
      };
      CardFlip2.prototype.flip = function(result, delay, speed, start, middle) {
        void 0 === delay && (delay = 0);
        void 0 === speed && (speed = 1);
        void 0 === start && (start = Utils_1.noop);
        void 0 === middle && (middle = Utils_1.noop);
        return __awaiter(this, void 0, Promise, function() {
          var anim, s0, s1;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              anim = this.anim;
              s0 = PromiseManager_1.animationGetState(anim, 0);
              s1 = PromiseManager_1.animationGetState(anim, 1);
              s0.speed = speed;
              s1.speed = speed;
              return [ 4, this.schedulePromise(delay) ];

             case 1:
              _a.sent();
              start();
              return [ 4, PromiseManager_1.resolveWrapper(PromiseManager_1.animationPlayToPromise(this.anim, 0)) ];

             case 2:
              _a.sent();
              middle();
              result && this.card.setData(result);
              return [ 4, PromiseManager_1.resolveWrapper(PromiseManager_1.animationPlayToPromise(this.anim, 1)) ];

             case 3:
              _a.sent();
              return [ 2 ];
            }
          });
        });
      };
      CardFlip2.prototype.reset = function() {
        this.card.reset();
        this.node.eulerAngles.set(cc.v3(0, 0, 0));
        this.node.y = 0;
      };
      CardFlip2.prototype.finish = function(result) {
        this.card.setData(result);
        this.node.eulerAngles.set(cc.v3(0, 0, 0));
        this.node.y = 0;
      };
      CardFlip2.prototype.schedulePromise = function(delay) {
        var _this = this;
        return new Promise(function(resolve) {
          setTimeout(resolve, 1e3 * delay);
          _this.scheduleOnce(resolve, delay);
        });
      };
      CardFlip2 = __decorate([ ccclass ], CardFlip2);
      return CardFlip2;
    }(cc.Component);
    exports.default = CardFlip2;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "../script/ResourcesKeeper": "ResourcesKeeper",
    "../utils/Utils": "Utils",
    "./CardBase": "CardBase"
  } ],
  CardsFlip2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "14267Rb4kpHmbrxVSaLHmWq", "CardsFlip2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var CardFlip2_1 = require("./CardFlip2");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CardsFlip2 = function(_super) {
      __extends(CardsFlip2, _super);
      function CardsFlip2() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      CardsFlip2.prototype.flip = function(results, interval, speed, start, middle) {
        void 0 === interval && (interval = 0);
        void 0 === speed && (speed = 1);
        return __awaiter(this, void 0, Promise, function() {
          var cards, intervals;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              cards = this.node.getComponentsInChildren(CardFlip2_1.default);
              if (results.length !== cards.length) {
                LibGlobal_1.warn("flip data length not match.");
                return [ 2 ];
              }
              intervals = interval;
              "number" === typeof interval && (intervals = cards.map(function(c, i) {
                return interval * i;
              }));
              return [ 4, Promise.all(cards.map(function(card, i) {
                return card.flip(results[i], intervals[i], speed, start, middle);
              })) ];

             case 1:
              _a.sent();
              cards.forEach(function(card, i) {
                card.finish(results[i]);
              });
              return [ 2 ];
            }
          });
        });
      };
      CardsFlip2.prototype.reset = function() {
        var cards = this.node.getComponentsInChildren(CardFlip2_1.default);
        cards.forEach(function(card) {
          return card.reset();
        });
      };
      CardsFlip2 = __decorate([ ccclass ], CardsFlip2);
      return CardsFlip2;
    }(cc.Component);
    exports.default = CardsFlip2;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./CardFlip2": "CardFlip2"
  } ],
  CiBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d3019xgbdZPdYSY0GjEGgtZ", "CiBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.checkDisconnect = exports.ccfindGenerator2 = exports.ccfindGenerator = exports.CiCode = exports.ccfind = void 0;
    var LoginState_1 = require("../data/LoginState");
    var CommunicationBase_1 = require("../script/CommunicationBase");
    function ccfind(path, referenceNode) {
      try {
        var cc = window.document.getElementsByTagName("iframe")[0].contentWindow.cc;
        return cc.find(path, referenceNode);
      } catch (error) {
        return null;
      }
    }
    exports.ccfind = ccfind;
    var CiCode;
    (function(CiCode) {
      CiCode["SUCCESS"] = "ci_code_success";
      CiCode["RETRY"] = "ci_code_retry";
      CiCode["DISCONNECT"] = "ci_code_disconnect";
      CiCode["FAIL"] = "ci_code_fail";
    })(CiCode = exports.CiCode || (exports.CiCode = {}));
    function ccfindGenerator(path, handler, noNodeFail, handleCode) {
      void 0 === noNodeFail && (noNodeFail = true);
      void 0 === handleCode && (handleCode = false);
      return function() {
        var node = ccfind(path);
        if (!node) return noNodeFail ? CiCode.FAIL : CiCode.RETRY;
        if (!handler) return CiCode.SUCCESS;
        try {
          var res = handler(node);
          if (handleCode && res.startsWith && res.startsWith("ci_code_")) return res;
          return CiCode.SUCCESS;
        } catch (error) {
          return CiCode.FAIL;
        }
      };
    }
    exports.ccfindGenerator = ccfindGenerator;
    function ccfindGenerator2(path, handler, opt) {
      void 0 === opt && (opt = {
        noNodeFail: true,
        handleCode: false
      });
      return ccfindGenerator(path, handler, opt.noNodeFail, opt.handleCode);
    }
    exports.ccfindGenerator2 = ccfindGenerator2;
    exports.checkDisconnect = ccfindGenerator("Game", function(node) {
      var cb = node.getComponent(CommunicationBase_1.default);
      switch (cb.loginState) {
       case LoginState_1.LoginState.BEFORE_LOGIN:
        return CiCode.RETRY;

       case LoginState_1.LoginState.LOGIN:
        return CiCode.SUCCESS;

       case LoginState_1.LoginState.KICKOUT:
       case LoginState_1.LoginState.OFFLINE:
        return CiCode.DISCONNECT;

       default:
        return CiCode.FAIL;
      }
    }, false, true);
    cc._RF.pop();
  }, {
    "../data/LoginState": "LoginState",
    "../script/CommunicationBase": "CommunicationBase"
  } ],
  ColAnimation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7dd5faRnn5Lh6Y7IJYkGkXK", "ColAnimation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColAnimation = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColAnimation = function(_super) {
      __extends(ColAnimation, _super);
      function ColAnimation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.playAnimationAnyway = false;
        _this.state = null;
        _this.clips = [];
        _this.loaded = false;
        return _this;
      }
      ColAnimation.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.animation = this.animation || this.node.getComponent(cc.Animation);
        this.clips = this.animation.getClips();
      };
      ColAnimation.prototype.reset = function(prev, value) {
        this.pre();
        if (!this.playAnimationAnyway && this.prev === value) return;
        var bool = Boolean(value);
        var idx = bool ? 1 : 0;
        this.animation.stop();
        this.state = this.animation.play(this.clips[idx].name);
        this.prev = value;
      };
      __decorate([ property(cc.Animation) ], ColAnimation.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], ColAnimation.prototype, "playAnimationAnyway", void 0);
      ColAnimation = __decorate([ ccclass, menu("Col/ColAnimation") ], ColAnimation);
      return ColAnimation;
    }(ColBase_1.default);
    exports.ColAnimation = ColAnimation;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "27b51JFlLBMaJIBRCOc1TcU", "ColBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ColBase = function(_super) {
      __extends(ColBase, _super);
      function ColBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colKey = "";
        _this.passScan = false;
        _this.prev = null;
        return _this;
      }
      __decorate([ property(cc.String) ], ColBase.prototype, "colKey", void 0);
      __decorate([ property(cc.Boolean) ], ColBase.prototype, "passScan", void 0);
      ColBase = __decorate([ ccclass ], ColBase);
      return ColBase;
    }(cc.Component);
    exports.default = ColBase;
    cc._RF.pop();
  }, {} ],
  ColCallback: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "33abbNkknZDv7x3iOJ2D/qL", "ColCallback");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColCallback = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColCallback = function(_super) {
      __extends(ColCallback, _super);
      function ColCallback() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.component = "";
        _this.handler = null;
        _this.onlyPassFirstNode = false;
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColCallback.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColCallback.prototype.reset = function(prev, value, col) {
        var _this = this;
        this.pre();
        var pass = this.component ? this.onlyPassFirstNode ? this.nodes[0].getComponent(this.component) : this.nodes.map(function(n) {
          return n.getComponent(_this.component);
        }) : this.onlyPassFirstNode ? this.nodes[0] : this.nodes;
        this.handler.emit([ value, pass, this.prev, col ]);
        this.prev = value;
      };
      __decorate([ property(cc.String) ], ColCallback.prototype, "component", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ColCallback.prototype, "handler", void 0);
      __decorate([ property(cc.Boolean) ], ColCallback.prototype, "onlyPassFirstNode", void 0);
      __decorate([ property([ cc.Node ]) ], ColCallback.prototype, "nodes", void 0);
      ColCallback = __decorate([ ccclass, menu("Col/ColCallback") ], ColCallback);
      return ColCallback;
    }(ColBase_1.default);
    exports.ColCallback = ColCallback;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColComponentProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "15727kbbg9Ojrm9o8svpnCQ", "ColComponentProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColComponentProperty = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColComponentProperty = function(_super) {
      __extends(ColComponentProperty, _super);
      function ColComponentProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.component = "CommonButton";
        _this.property = "isChecked";
        _this.isMethod = false;
        _this.reverse = false;
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColComponentProperty.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColComponentProperty.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var comp = this.component;
        var prop = this.property;
        var val = value;
        this.reverse && (val = !value);
        this.nodes.forEach(function(node) {
          _this.isMethod ? node.getComponent(comp)[prop](val) : node.getComponent(comp)[prop] = val;
        });
      };
      __decorate([ property(cc.String) ], ColComponentProperty.prototype, "component", void 0);
      __decorate([ property(cc.String) ], ColComponentProperty.prototype, "property", void 0);
      __decorate([ property(cc.Boolean) ], ColComponentProperty.prototype, "isMethod", void 0);
      __decorate([ property(cc.Boolean) ], ColComponentProperty.prototype, "reverse", void 0);
      __decorate([ property([ cc.Node ]) ], ColComponentProperty.prototype, "nodes", void 0);
      ColComponentProperty = __decorate([ ccclass, menu("Col/ColComponentProperty") ], ColComponentProperty);
      return ColComponentProperty;
    }(ColBase_1.default);
    exports.ColComponentProperty = ColComponentProperty;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColDataBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e4ffa9AJOlAG6JJHgTRZulF", "ColDataBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var computedPrefix = "anonymous";
    var computedIndex = 0;
    var ColDataBase = function() {
      function ColDataBase() {
        this.dirty = [];
        this.item = null;
        this.pauseRefresh = false;
        this.refs = {};
        this.computeds = {};
        this.loaded = false;
      }
      ColDataBase.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.doPre && this.doPre();
      };
      ColDataBase.prototype.set = function(col, val, force) {
        var _this = this;
        void 0 === force && (force = false);
        this.pre();
        var old = this[col];
        (force || old !== val) && this.dirty.push(col);
        this[col] = val;
        this.item && !this.pauseRefresh && this.item.refresh();
        this.refs[col] && this.refs[col].forEach(function(refCol) {
          _this.set(refCol, _this.computeds[refCol].call(null, _this));
        });
      };
      ColDataBase.prototype.registComputed = function(col, refCols, fn) {
        var _this = this;
        var cols = [].concat(col);
        "" === col && (cols = [ computedPrefix + "_" + (computedIndex += 1) ]);
        [].concat(refCols).forEach(function(refCol) {
          _this.refs[refCol] || (_this.refs[refCol] = []);
          cols.forEach(function(c) {
            _this.refs[refCol].push(c);
          });
        });
        cols.forEach(function(c) {
          _this.computeds[c] = fn;
        });
      };
      ColDataBase.prototype.bindItem = function(item) {
        if (this.item === item) return;
        this.item = item;
        this.item.bindData(this);
      };
      return ColDataBase;
    }();
    exports.default = ColDataBase;
    cc._RF.pop();
  }, {} ],
  ColEditBox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f3bd2Y6B71LZo8YXmK+y+UX", "ColEditBox");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColEditBox = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColEditBox = function(_super) {
      __extends(ColEditBox, _super);
      function ColEditBox() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.box = null;
        _this.loaded = false;
        return _this;
      }
      ColEditBox.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.box = this.box || this.node.getComponent(cc.EditBox);
      };
      ColEditBox.prototype.reset = function(prev, value) {
        this.pre();
        this.box && (this.box.string = value);
        this.prev = value;
      };
      __decorate([ property(cc.EditBox) ], ColEditBox.prototype, "box", void 0);
      ColEditBox = __decorate([ ccclass, menu("Col/ColEditBox") ], ColEditBox);
      return ColEditBox;
    }(ColBase_1.default);
    exports.ColEditBox = ColEditBox;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColFadeActive: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cda09aDx+tGDYD9vF0R2TUQ", "ColFadeActive");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColFadeActive = function(_super) {
      __extends(ColFadeActive, _super);
      function ColFadeActive() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.reverse = false;
        _this.hasActive = true;
        _this.hasFade = false;
        _this.fadeTime = .2;
        _this.loaded = false;
        return _this;
      }
      ColFadeActive.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColFadeActive.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var val = value;
        this.reverse && (val = !value);
        var next = function() {
          _this.nodes.forEach(Utils_1.nodeProperty("active", val));
        };
        if (this.hasFade) {
          if (val) {
            this.nodes.forEach(Utils_1.nodeProperty("opacity", 0));
            this.nodes.forEach(Utils_1.nodeProperty("active", val));
          }
          var action_1;
          action_1 = val ? cc.fadeTo(this.fadeTime, 255) : cc.fadeTo(this.fadeTime, 0);
          this.hasActive && (action_1 = cc.sequence(action_1, cc.callFunc(next)));
          this.nodes.forEach(function(node) {
            node.stopAllActions();
            cc.tween(node).then(action_1).start();
          });
        } else next();
      };
      __decorate([ property([ cc.Node ]) ], ColFadeActive.prototype, "nodes", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "reverse", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "hasActive", void 0);
      __decorate([ property(cc.Boolean) ], ColFadeActive.prototype, "hasFade", void 0);
      __decorate([ property(cc.Float) ], ColFadeActive.prototype, "fadeTime", void 0);
      ColFadeActive = __decorate([ ccclass, menu("Col/ColFadeActive") ], ColFadeActive);
      return ColFadeActive;
    }(ColBase_1.default);
    exports.default = ColFadeActive;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColFade: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c5fb5+BO/ZPG71bEZlZrrBu", "ColFade");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColFade = void 0;
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColFade = function(_super) {
      __extends(ColFade, _super);
      function ColFade() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.slowStartSec = 0;
        _this.perSec = 360;
        _this.maxOpacity = 180;
        _this.minOpacity = 0;
        _this.handler = null;
        _this.nodes = [];
        _this.loaded = false;
        _this.targetOpacity = 0;
        _this.opacity = 0;
        _this.skip = 0;
        return _this;
      }
      ColFade.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        this.opacity = this.node.opacity;
        this.targetOpacity = this.opacity;
        this.nodes.length || this.nodes.push(this.node);
        this.handler && this.nodes.forEach(function(node) {
          node.on(cc.Node.EventType.TOUCH_START, function(event) {
            var clickable = _this.targetOpacity === _this.maxOpacity;
            clickable && _this.handler.emit([]);
            node._touchListener.setSwallowTouches(clickable);
          }, _this);
        });
      };
      ColFade.prototype.reset = function(prev, value) {
        this.pre();
        var bool = Boolean(value);
        this.reverse && (bool = !bool);
        this.targetOpacity = bool ? this.maxOpacity : this.minOpacity;
        this.skip = this.slowStartSec;
        var bie = this.getComponent(cc.BlockInputEvents);
        bie && (bie.enabled = bool);
      };
      ColFade.prototype.update = function(dt) {
        if (this.opacity === this.targetOpacity) return;
        if (this.skip > 0) {
          this.skip -= dt;
          return;
        }
        this.opacity > this.targetOpacity ? this.opacity = Utils_1.biggerThen(this.minOpacity, this.opacity - this.perSec * dt) : this.opacity = Utils_1.lowerThen(this.maxOpacity, this.opacity + this.perSec * dt);
        this.node.opacity = this.opacity;
      };
      __decorate([ property(cc.Boolean) ], ColFade.prototype, "reverse", void 0);
      __decorate([ property(cc.Integer) ], ColFade.prototype, "slowStartSec", void 0);
      __decorate([ property(cc.Integer) ], ColFade.prototype, "perSec", void 0);
      __decorate([ property({
        type: cc.Integer,
        slide: true,
        range: [ 0, 255 ]
      }) ], ColFade.prototype, "maxOpacity", void 0);
      __decorate([ property({
        type: cc.Integer,
        slide: true,
        range: [ 0, 255 ]
      }) ], ColFade.prototype, "minOpacity", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ColFade.prototype, "handler", void 0);
      __decorate([ property([ cc.Node ]) ], ColFade.prototype, "nodes", void 0);
      ColFade = __decorate([ ccclass, menu("Col/ColFade") ], ColFade);
      return ColFade;
    }(ColBase_1.default);
    exports.ColFade = ColFade;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColItemBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46a24r6c2pLd5uZnuTJoCHR", "ColItemBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var KeyCol_1 = require("./KeyCol");
    var KeyNode_1 = require("./KeyNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ColItemBase = function(_super) {
      __extends(ColItemBase, _super);
      function ColItemBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.colScanNodes = [];
        _this.keyCol = [];
        _this.keyColNode = [];
        _this.mapCol = {};
        _this.loaded = false;
        return _this;
      }
      ColItemBase.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        [].push.apply(this.keyCol, this.keyColNode.map(function(kn) {
          var col = kn.node.getComponent(ColBase_1.default);
          col.pre && col.pre();
          return {
            key: kn.key || col.colKey,
            col: kn.node.getComponent(ColBase_1.default)
          };
        }));
        this.mapCol = this.keyCol.reduce(Utils_1.toObjectAccumulateReducer(function(obj) {
          return obj.key || obj.col.colKey;
        }, "col"), {});
        var each = function(colBase) {
          colBase.pre && colBase.pre();
          if (!colBase.passScan && colBase.colKey) {
            _this.mapCol[colBase.colKey] || (_this.mapCol[colBase.colKey] = []);
            -1 === _this.mapCol[colBase.colKey].indexOf(colBase) && _this.mapCol[colBase.colKey].push(colBase);
          }
        };
        [ this.node ].concat(this.colScanNodes).forEach(function(node) {
          node.getComponents(ColBase_1.default).forEach(each);
          node.getComponentsInChildren(ColBase_1.default).forEach(each);
        });
      };
      ColItemBase.prototype.refresh = function(force) {
        var _this = this;
        void 0 === force && (force = false);
        this.pre();
        var data = this.data;
        var ary = data.dirty;
        force && (ary = Utils_1.flattenDeep([ Object.keys(this.mapCol), data.dirty ]).filter(Utils_1.onlyUnique));
        ary.forEach(function(colKey) {
          var cols = _this.mapCol[colKey];
          cols && cols.forEach(function(col) {
            col.reset(null, data[colKey], colKey);
          });
        });
        data.dirty.length = 0;
      };
      ColItemBase.prototype.reset = function(data, force) {
        void 0 === force && (force = false);
        this.pre();
        this.bindData(data);
        this.refresh(force);
      };
      ColItemBase.prototype.bindData = function(data) {
        if (this.data === data) return;
        this.data = data;
        this.data.bindItem(this);
      };
      ColItemBase.prototype.getData = function() {
        return this.data;
      };
      __decorate([ property([ cc.Node ]) ], ColItemBase.prototype, "colScanNodes", void 0);
      __decorate([ property([ KeyCol_1.KeyCol ]) ], ColItemBase.prototype, "keyCol", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], ColItemBase.prototype, "keyColNode", void 0);
      ColItemBase = __decorate([ ccclass ], ColItemBase);
      return ColItemBase;
    }(cc.Component);
    exports.default = ColItemBase;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase",
    "./KeyCol": "KeyCol",
    "./KeyNode": "KeyNode"
  } ],
  ColLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7768bvrGu9BZ6UAALCl91ID", "ColLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColLabel = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColLabel = function(_super) {
      __extends(ColLabel, _super);
      function ColLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.richText = null;
        _this.loaded = false;
        return _this;
      }
      ColLabel.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.label = this.label || this.node.getComponent(cc.Label);
        this.richText = this.richText = this.node.getComponent(cc.RichText);
      };
      ColLabel.prototype.reset = function(prev, value) {
        this.pre();
        this.label && (this.label.string = value);
        this.richText && (this.richText.string = value);
        this.prev = value;
      };
      __decorate([ property(cc.Label) ], ColLabel.prototype, "label", void 0);
      __decorate([ property(cc.RichText) ], ColLabel.prototype, "richText", void 0);
      ColLabel = __decorate([ ccclass, menu("Col/ColLabel") ], ColLabel);
      return ColLabel;
    }(ColBase_1.default);
    exports.ColLabel = ColLabel;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColLayout: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "66725MmxlJC27w8qRq77Uba", "ColLayout");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var ColProperty_1 = require("./ColProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColLayout = function(_super) {
      __extends(ColLayout, _super);
      function ColLayout() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.property = "x";
        _this.nodes = [];
        _this.colKey = "layout";
        _this.positionPC = new cc.Vec2();
        _this.positionMH = new cc.Vec2();
        _this.positionMV = new cc.Vec2();
        _this.scalePC = 1;
        _this.scaleMH = 1;
        _this.scaleMV = 1;
        return _this;
      }
      ColLayout.prototype.reset = function(prev, value) {
        this.pre();
        var scales = [ this.scalePC, this.scaleMH, this.scaleMV, 1 ];
        var positions = [ this.positionPC, this.positionMH, this.positionMV, cc.v2() ];
        var scale = scales[value];
        var pos = positions[value];
        this.nodes.forEach(Utils_1.nodeProperty("scale", scale));
        this.nodes.forEach(Utils_1.nodeProperty("position", cc.v3(pos)));
      };
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "reverse", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "property", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "nodes", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColLayout.prototype, "colKey", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionPC", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionMH", void 0);
      __decorate([ property(cc.Vec2) ], ColLayout.prototype, "positionMV", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scalePC", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scaleMH", void 0);
      __decorate([ property(cc.Float) ], ColLayout.prototype, "scaleMV", void 0);
      ColLayout = __decorate([ ccclass, menu("Col/ColLayout") ], ColLayout);
      return ColLayout;
    }(ColProperty_1.ColProperty);
    exports.default = ColLayout;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColProperty": "ColProperty"
  } ],
  ColPropertyEvent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f07b1XgJNxEd5tdU0wUpFgc", "ColPropertyEvent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColPropertyEvent = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColPropertyEvent = function(_super) {
      __extends(ColPropertyEvent, _super);
      function ColPropertyEvent() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.property = "active";
        _this.event = null;
        _this.loaded = false;
        return _this;
      }
      ColPropertyEvent.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
      };
      ColPropertyEvent.prototype.reset = function(prev, value) {
        this.pre();
        var val = value;
        this.reverse && (val = !value);
        this.event.emit([ this.property ]);
      };
      __decorate([ property(cc.Boolean) ], ColPropertyEvent.prototype, "reverse", void 0);
      __decorate([ property(cc.String) ], ColPropertyEvent.prototype, "property", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ColPropertyEvent.prototype, "event", void 0);
      ColPropertyEvent = __decorate([ ccclass, menu("Col/ColPropertyEvent") ], ColPropertyEvent);
      return ColPropertyEvent;
    }(ColBase_1.default);
    exports.ColPropertyEvent = ColPropertyEvent;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "52243Lwo0xJ0q3PE8B57uie", "ColProperty");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColProperty = void 0;
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColProperty = function(_super) {
      __extends(ColProperty, _super);
      function ColProperty() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.reverse = false;
        _this.property = "active";
        _this.nodes = [];
        _this.loaded = false;
        return _this;
      }
      ColProperty.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      ColProperty.prototype.reset = function(prev, value) {
        this.pre();
        var val = value;
        this.reverse && (val = !value);
        this.nodes.forEach(Utils_1.nodeProperty(this.property, val));
      };
      __decorate([ property(cc.Boolean) ], ColProperty.prototype, "reverse", void 0);
      __decorate([ property(cc.String) ], ColProperty.prototype, "property", void 0);
      __decorate([ property([ cc.Node ]) ], ColProperty.prototype, "nodes", void 0);
      ColProperty = __decorate([ ccclass, menu("Col/ColProperty") ], ColProperty);
      return ColProperty;
    }(ColBase_1.default);
    exports.ColProperty = ColProperty;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase"
  } ],
  ColSlotUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cb98excYjRH05XAlMsvy7fz", "ColSlotUI");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.UIDATABASE_PROPERTY = void 0;
    var Utils_1 = require("../utils/Utils");
    var ColProperty_1 = require("./ColProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var UIDATABASE_PROPERTY;
    (function(UIDATABASE_PROPERTY) {
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["None"] = 0] = "None";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Horizontal"] = 1] = "Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Vertical"] = 2] = "Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["PC Horizontal"] = 3] = "PC Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile"] = 4] = "Mobile";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile Horizontal"] = 5] = "Mobile Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Mobile Vertical"] = 6] = "Mobile Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game"] = 91] = "Normal game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game And Horizontal"] = 92] = "Normal game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Normal game And Vertical"] = 93] = "Normal game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game"] = 101] = "Free game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game And Horizontal"] = 102] = "Free game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Free game And Vertical"] = 103] = "Free game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game"] = 111] = "Bonus game";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game And Horizontal"] = 112] = "Bonus game And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Bonus game And Vertical"] = 113] = "Bonus game And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3"] = 121] = "Special mode 3";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3 And Horizontal"] = 122] = "Special mode 3 And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 3 And Vertical"] = 123] = "Special mode 3 And Vertical";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4"] = 131] = "Special mode 4";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4 And Horizontal"] = 132] = "Special mode 4 And Horizontal";
      UIDATABASE_PROPERTY[UIDATABASE_PROPERTY["Special mode 4 And Vertical"] = 133] = "Special mode 4 And Vertical";
    })(UIDATABASE_PROPERTY = exports.UIDATABASE_PROPERTY || (exports.UIDATABASE_PROPERTY = {}));
    var keyMap = {
      0: "",
      1: "isH",
      2: "isV",
      3: "isPCH",
      4: "isM",
      5: "isMH",
      6: "isMV",
      91: "inNG",
      92: "inNGAndH",
      93: "inNGAndV",
      101: "inFG",
      102: "inFGAndH",
      103: "inFGAndV",
      111: "inBonus",
      112: "inBonusAndH",
      113: "inBonusAndV",
      121: "inSpecialMode3",
      122: "inSpecialMode3AndH",
      123: "inSpecialMode3AndV",
      131: "inSpecialMode4",
      132: "inSpecialMode4AndH",
      133: "inSpecialMode4AndV"
    };
    var ColSlotUI = function(_super) {
      __extends(ColSlotUI, _super);
      function ColSlotUI() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.key = UIDATABASE_PROPERTY.None;
        _this.property = "active";
        _this.nodes = [];
        _this.colKey = "";
        _this.hasActive = true;
        _this.hasFade = false;
        _this.fadeTime = .2;
        return _this;
      }
      ColSlotUI.prototype.pre = function() {
        _super.prototype.pre.call(this);
        this.colKey = keyMap[this.key];
      };
      ColSlotUI.prototype.reset = function(prev, value) {
        var _this = this;
        this.pre();
        var val = value;
        this.reverse && (val = !value);
        var next = function() {
          _this.nodes.forEach(Utils_1.nodeProperty(_this.property, val));
        };
        if (this.hasFade) if (0 !== this.fadeTime || this.hasActive) {
          var action_1;
          if (val) {
            this.nodes.forEach(function(node) {
              node.active = true;
              node.opacity = 0;
            });
            action_1 = cc.fadeIn(this.fadeTime);
          } else action_1 = cc.fadeOut(this.fadeTime);
          this.hasActive && (action_1 = cc.sequence(action_1, cc.callFunc(next)));
          this.nodes.forEach(function(node) {
            cc.tween(node).then(action_1.clone()).start();
          });
        } else {
          this.nodes.forEach(Utils_1.nodeActive(true));
          this.nodes.forEach(Utils_1.nodeOpacity(val ? 255 : 0));
        } else next();
      };
      __decorate([ property({
        type: cc.Enum(UIDATABASE_PROPERTY)
      }) ], ColSlotUI.prototype, "key", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColSlotUI.prototype, "property", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColSlotUI.prototype, "nodes", void 0);
      __decorate([ property({
        override: true,
        readonly: true,
        visible: false
      }) ], ColSlotUI.prototype, "colKey", void 0);
      __decorate([ property(cc.Boolean) ], ColSlotUI.prototype, "hasActive", void 0);
      __decorate([ property(cc.Boolean) ], ColSlotUI.prototype, "hasFade", void 0);
      __decorate([ property(cc.Float) ], ColSlotUI.prototype, "fadeTime", void 0);
      ColSlotUI = __decorate([ ccclass, menu("Col/ColSlotUI") ], ColSlotUI);
      return ColSlotUI;
    }(ColProperty_1.ColProperty);
    exports.default = ColSlotUI;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./ColProperty": "ColProperty"
  } ],
  ColSpSkeleton2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "001b3F4nRtB9Lmo1Ohr4P6R", "ColSpSkeleton2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var ColSpSkeleton2 = function(_super) {
      __extends(ColSpSkeleton2, _super);
      function ColSpSkeleton2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animation = "";
        _this.loop = false;
        _this.playing = false;
        return _this;
      }
      ColSpSkeleton2.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        this.animation = this.animation || this.skeleton.animation;
        PromiseManager_1.spSkeletonSetAnimation(this.skeleton, "");
        this.skeleton.setCompleteListener(function() {
          _this.playing = false;
        });
      };
      ColSpSkeleton2.prototype.reset = function(prev, value) {
        var ske = this.skeleton;
        var able = Boolean(value);
        if (able && !this.playing) {
          PromiseManager_1.spSkeletonSetAnimation(ske, this.animation, this.loop);
          this.playing = true;
        } else if (!able && this.playing) {
          PromiseManager_1.spSkeletonSetAnimation(ske, "");
          this.playing = false;
        }
      };
      __decorate([ property(sp.Skeleton) ], ColSpSkeleton2.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], ColSpSkeleton2.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], ColSpSkeleton2.prototype, "loop", void 0);
      ColSpSkeleton2 = __decorate([ ccclass, executionOrder(-1) ], ColSpSkeleton2);
      return ColSpSkeleton2;
    }(ColBase_1.default);
    exports.default = ColSpSkeleton2;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSpSkeletonAnimation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22fefbmSCxGuZT95dxQ5Jgz", "ColSpSkeletonAnimation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var ColSpSkeletonAnimation = function(_super) {
      __extends(ColSpSkeletonAnimation, _super);
      function ColSpSkeletonAnimation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        return _this;
      }
      ColSpSkeletonAnimation.prototype.onLoad = function() {
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
      };
      ColSpSkeletonAnimation.prototype.reset = function(prev, value, col) {
        var ske = this.skeleton;
        PromiseManager_1.spSkeletonSetAnimation(ske, value);
      };
      __decorate([ property(sp.Skeleton) ], ColSpSkeletonAnimation.prototype, "skeleton", void 0);
      ColSpSkeletonAnimation = __decorate([ ccclass, executionOrder(-1) ], ColSpSkeletonAnimation);
      return ColSpSkeletonAnimation;
    }(ColBase_1.default);
    exports.default = ColSpSkeletonAnimation;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSpSkeleton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50b7bif+L9Azryz0Yu6o/ez", "ColSpSkeleton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder;
    var ColSpSkeleton = function(_super) {
      __extends(ColSpSkeleton, _super);
      function ColSpSkeleton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animations = [];
        _this.animationsLoop = [];
        _this.currentValue = 0;
        return _this;
      }
      ColSpSkeleton.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        this.animations.length || (this.animations = [ this.skeleton.animation ]);
        this.animationsLoop.length || (this.animationsLoop = [ this.skeleton.loop ]);
        this.skeleton.animation = "";
        PromiseManager_1.spSkeletonEmpty(this.skeleton);
        this.skeleton.setCompleteListener(function() {
          _this.currentValue = 0;
        });
      };
      ColSpSkeleton.prototype.reset = function(prev, value, col) {
        var skeleton = this.skeleton;
        var able = Boolean(value);
        if (able) {
          var temp = Math.ceil(value);
          if (temp && this.currentValue !== temp) {
            this.currentValue = temp;
            var animName = this.animations[this.currentValue - 1];
            var loop = this.animationsLoop[this.currentValue - 1];
            if (skeleton.animation === animName) return;
            PromiseManager_1.spSkeletonSetAnimation(skeleton, animName, loop);
          }
        } else if (!able && this.currentValue) {
          this.currentValue = 0;
          PromiseManager_1.spSkeletonEmpty(skeleton);
          PromiseManager_1.spSkeletonSetAnimation(skeleton, "");
        }
      };
      __decorate([ property(sp.Skeleton) ], ColSpSkeleton.prototype, "skeleton", void 0);
      __decorate([ property([ cc.String ]) ], ColSpSkeleton.prototype, "animations", void 0);
      __decorate([ property([ cc.Boolean ]) ], ColSpSkeleton.prototype, "animationsLoop", void 0);
      ColSpSkeleton = __decorate([ ccclass, executionOrder(-1) ], ColSpSkeleton);
      return ColSpSkeleton;
    }(ColBase_1.default);
    exports.default = ColSpSkeleton;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSpine: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d08b0qtPqtOXKGP0IAfeRNz", "ColSpine");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executionOrder = _a.executionOrder;
    var ColSpine = function(_super) {
      __extends(ColSpine, _super);
      function ColSpine() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animation = "";
        _this.animationLoop = false;
        _this.loaded = false;
        return _this;
      }
      ColSpine.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return;
        this.loaded = true;
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        "" === this.animation && (this.animation = this.skeleton.animation);
        PromiseManager_1.spSkeletonEmpty(this.skeleton);
        this.skeleton.setCompleteListener(function() {
          PromiseManager_1.spSkeletonEmpty(_this.skeleton);
        });
      };
      ColSpine.prototype.reset = function(prev, value) {
        this.pre();
        var skeleton = this.skeleton;
        var able = Boolean(value);
        able && PromiseManager_1.spSkeletonSetAnimation(skeleton, this.animation, this.animationLoop);
      };
      __decorate([ property(sp.Skeleton) ], ColSpine.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], ColSpine.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], ColSpine.prototype, "animationLoop", void 0);
      ColSpine = __decorate([ ccclass, menu("Col/ColSpine") ], ColSpine);
      return ColSpine;
    }(ColBase_1.default);
    exports.default = ColSpine;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager",
    "./ColBase": "ColBase"
  } ],
  ColSpriteFrame: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47854f1flNKu4hKaer6h+RV", "ColSpriteFrame");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColSpriteFrame = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColSpriteFrame = function(_super) {
      __extends(ColSpriteFrame, _super);
      function ColSpriteFrame() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.loaded = false;
        return _this;
      }
      ColSpriteFrame.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.sprite = this.sprite || this.node.getComponent(cc.Sprite);
      };
      ColSpriteFrame.prototype.reset = function(prev, value) {
        this.pre();
        this.sprite.spriteFrame = value.spriteFrame;
        value.scale && (this.sprite.node.scale = value.scale);
        this.prev = value;
      };
      __decorate([ property(cc.Sprite) ], ColSpriteFrame.prototype, "sprite", void 0);
      ColSpriteFrame = __decorate([ ccclass, menu("Col/ColSpriteFrame") ], ColSpriteFrame);
      return ColSpriteFrame;
    }(ColBase_1.default);
    exports.ColSpriteFrame = ColSpriteFrame;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  ColSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "88b95tK2GJGHYtsR/cqPjnF", "ColSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ColSprite = void 0;
    var LoadAtlasSprite_1 = require("../component/LoadAtlasSprite");
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var ColBase_1 = require("./ColBase");
    var KeyFrame_1 = require("./KeyFrame");
    var KeyNode_1 = require("./KeyNode");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ColSprite = function(_super) {
      __extends(ColSprite, _super);
      function ColSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyFrames = [];
        _this.keyNodes = [];
        _this.framesNodeRoot = null;
        _this.sprite = null;
        _this.shrink = null;
        _this.loaded = false;
        return _this;
      }
      ColSprite.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.sprite = this.sprite || this.node.getComponent(cc.Sprite);
        this.keyNodes.length && (this.keyFrames = this.keyFrames.concat(this.keyNodes.map(function(kn) {
          var las = kn.node.getComponent(LoadAtlasSprite_1.default);
          las.saveFrame = true;
          las.pre();
          return {
            key: kn.key,
            frame: las.frame
          };
        })));
        this.framesNodeRoot && (this.keyFrames = this.keyFrames.concat(this.framesNodeRoot.getComponentsInChildren(cc.Sprite).map(function(sprite) {
          return {
            key: sprite.node.name,
            frame: sprite.spriteFrame
          };
        })));
      };
      ColSprite.prototype.onLoad = function() {
        this.pre();
      };
      ColSprite.prototype.reset = function(prev, value, col) {
        this.pre();
        var kf = this.keyFrames.find(function(kf) {
          return kf.key == value;
        });
        var frame;
        kf && (frame = kf.frame);
        (true, frame) || LibGlobal_1.warn("No frame", value);
        if (this.shrink && frame) {
          var rect = frame.getRect();
          var sw = this.shrink.width;
          var sh = this.shrink.height;
          var rw = rect.width;
          var rh = rect.height;
          var arr = [ 1 ];
          sw && arr.push(sw / rw);
          sh && arr.push(sh / rh);
          this.sprite.node.scale = Utils_1.lowerThen(1, Math.min.apply(null, arr));
        }
        this.sprite.spriteFrame = frame || null;
        this.prev = value;
      };
      __decorate([ property([ KeyFrame_1.KeyFrame ]) ], ColSprite.prototype, "keyFrames", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], ColSprite.prototype, "keyNodes", void 0);
      __decorate([ property(cc.Node) ], ColSprite.prototype, "framesNodeRoot", void 0);
      __decorate([ property(cc.Sprite) ], ColSprite.prototype, "sprite", void 0);
      __decorate([ property(cc.Size) ], ColSprite.prototype, "shrink", void 0);
      ColSprite = __decorate([ ccclass, menu("Col/ColSprite") ], ColSprite);
      return ColSprite;
    }(ColBase_1.default);
    exports.ColSprite = ColSprite;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/LoadAtlasSprite": "LoadAtlasSprite",
    "../utils/Utils": "Utils",
    "./ColBase": "ColBase",
    "./KeyFrame": "KeyFrame",
    "./KeyNode": "KeyNode"
  } ],
  CollisionHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1d351XSee9Kpr1mePcIQbC6", "CollisionHandler");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var CollisionHandler = function(_super) {
      __extends(CollisionHandler, _super);
      function CollisionHandler() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        return _this;
      }
      CollisionHandler.prototype.onCollisionEnter = function(other, self) {
        this.handler && this.handler.emit([ other, self, "enter" ]);
      };
      CollisionHandler.prototype.onCollisionStay = function(other, self) {
        this.handler && this.handler.emit([ other, self, "stay" ]);
      };
      CollisionHandler.prototype.onCollisionExit = function(other, self) {
        this.handler && this.handler.emit([ other, self, "exit" ]);
      };
      __decorate([ property(cc.Component.EventHandler) ], CollisionHandler.prototype, "handler", void 0);
      CollisionHandler = __decorate([ ccclass, requireComponent(cc.Collider) ], CollisionHandler);
      return CollisionHandler;
    }(cc.Component);
    exports.default = CollisionHandler;
    cc._RF.pop();
  }, {} ],
  CommData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ac713DQAh5EO5vA3HdyV6RH", "CommData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommData = function() {
      function CommData(key, data) {
        void 0 === key && (key = "");
        this.key = key;
        this.data = data;
      }
      CommData.prototype.clone = function() {
        return new CommData(this.key, this.data);
      };
      return CommData;
    }();
    exports.default = CommData;
    cc._RF.pop();
  }, {} ],
  CommListener: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d0a3auXOnBLm4JoR9jtCeTD", "CommListener");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    cc._RF.pop();
  }, {} ],
  CommonButton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e8e60BdDTdLKboM5v6ANqtS", "CommonButton");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyBlendMode = exports.applyColor = void 0;
    var NodeTween_1 = require("../data/NodeTween");
    var Utils_1 = require("../utils/Utils");
    var LoadAtlasSprite_1 = require("./LoadAtlasSprite");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var TYPE;
    (function(TYPE) {
      TYPE[TYPE["NORMAL"] = 0] = "NORMAL";
      TYPE[TYPE["DARK"] = 1] = "DARK";
      TYPE[TYPE["BRIGHT"] = 2] = "BRIGHT";
    })(TYPE || (TYPE = {}));
    var CommonButton = function(_super) {
      __extends(CommonButton, _super);
      function CommonButton() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.scaleNode = null;
        _this.hoverNode = null;
        _this.backgroundSpriteFrame = null;
        _this.textSpriteFrame = null;
        _this.label = null;
        _this.onClickHandler = null;
        _this.onClickHandlers = [];
        _this.cantClickWhenKeepBright = false;
        _this.enableAutoGrayEffect = false;
        _this.zoomScale = .9;
        _this.brightColor = new cc.Color(255, 255, 255, 80);
        _this.darkColor = new cc.Color(0, 0, 0, 180);
        _this.checkmarks = [];
        _this.notCheckmarks = [];
        _this.brightNodes = [];
        _this.fade = false;
        _this._keepBright = false;
        _this._interactable = true;
        _this._isChecked = false;
        _this.isHover = false;
        _this.loaded = false;
        _this.bright = false;
        _this.dark = false;
        _this.scaleButton = null;
        _this.darkNode = null;
        _this.brightNode = null;
        return _this;
      }
      CommonButton.prototype.onLoad = function() {
        this.pre();
      };
      CommonButton.prototype.pre = function() {
        var _a;
        if (this.loaded) return;
        this.loaded = true;
        this.targetNode = this.targetNode || this.node;
        this.scaleNode = this.scaleNode || this.node;
        this.hoverNode = this.hoverNode || this.targetNode || this.node;
        var backgroundSprite = this.targetNode.getComponent(cc.Sprite);
        if (backgroundSprite) {
          var las = this.getComponent(LoadAtlasSprite_1.default);
          las && las.pre();
        } else {
          backgroundSprite = this.targetNode.addComponent(cc.Sprite);
          backgroundSprite.spriteFrame = this.backgroundSpriteFrame;
        }
        applyColor(this.targetNode, TYPE.NORMAL);
        !this.backgroundSpriteFrame && backgroundSprite && (this.backgroundSpriteFrame = backgroundSprite.spriteFrame);
        this.scaleButton = this.scaleNode.addComponent(cc.Button);
        try {
          this.scaleButton.target = this.scaleNode;
        } catch (_b) {}
        this.scaleButton.transition = cc.Button.Transition.SCALE;
        this.scaleButton.enableAutoGrayEffect = this.enableAutoGrayEffect;
        var handler = new cc.Component.EventHandler();
        handler.component = "CommonButton";
        handler.target = this.targetNode;
        handler.handler = "toggleChecked";
        (_a = this.scaleButton.clickEvents).push.apply(_a, __spreadArrays([ handler, this.onClickHandler ], this.onClickHandlers));
        this.scaleButton.zoomScale = this.zoomScale;
        if (!this.targetNode.children.length && this.textSpriteFrame) {
          var textNode = new cc.Node();
          textNode.addComponent(cc.Sprite).spriteFrame = this.textSpriteFrame;
          this.targetNode.addChild(textNode);
        }
        this.darkNode = new cc.Node();
        var darkSprite = this.darkNode.addComponent(cc.Sprite);
        darkSprite.type = backgroundSprite.type;
        darkSprite.sizeMode = backgroundSprite.sizeMode;
        darkSprite.trim = backgroundSprite.trim;
        darkSprite.spriteFrame = this.backgroundSpriteFrame;
        this.darkNode.height = this.targetNode.height;
        this.darkNode.width = this.targetNode.width;
        applyBlendMode(darkSprite, TYPE.DARK);
        this.darkNode.color = this.darkColor.clone().setA(255);
        this.darkNode.opacity = this.darkColor.getA();
        this.targetNode.addChild(this.darkNode);
        this.brightNode = new cc.Node();
        var brightSprite = this.brightNode.addComponent(cc.Sprite);
        brightSprite.type = backgroundSprite.type;
        brightSprite.sizeMode = backgroundSprite.sizeMode;
        brightSprite.trim = backgroundSprite.trim;
        brightSprite.spriteFrame = this.backgroundSpriteFrame;
        this.brightNode.height = this.targetNode.height;
        this.brightNode.width = this.targetNode.width;
        applyBlendMode(brightSprite, TYPE.BRIGHT);
        this.brightNode.color = this.brightColor.clone().setA(255);
        this.brightNode.opacity = this.brightColor.getA();
        this.targetNode.addChild(this.brightNode);
        this.loopBrightNodes(false, true);
        this.loopDarkNodes(false, true);
        this.apply();
      };
      CommonButton.prototype.onClick = function() {
        this.toggleChecked();
        __spreadArrays([ this.onClickHandler ], this.onClickHandlers).forEach(function(h) {
          return h && h.emit([]);
        });
      };
      CommonButton.prototype.loopBrightNodes = function(able, force) {
        void 0 === force && (force = false);
        if (this.bright === able && !force) return;
        this.bright = able;
        var nodes = this.brightNodes.concat(this.brightNode);
        if (this.fade) {
          var to_1 = able ? this.brightColor.getA() : 0;
          nodes.forEach(function(node) {
            node.stopAllActions();
            NodeTween_1.applyNodeTween({
              node: node,
              action: cc.fadeTo(.1, to_1)
            });
          });
        } else {
          this.brightNode.active = able;
          this.brightNodes.forEach(function(node) {
            node.active = able;
          });
        }
      };
      CommonButton.prototype.loopDarkNodes = function(able, force) {
        void 0 === force && (force = false);
        if (this.dark === able && !force) return;
        this.dark = able;
        var to = able ? this.darkColor.getA() : 0;
        var node = this.darkNode;
        if (this.fade) {
          node.stopAllActions();
          NodeTween_1.applyNodeTween({
            node: node,
            action: cc.fadeTo(.1, to)
          });
        } else this.darkNode.active = able;
      };
      CommonButton.prototype.bindMouseEnter = function(fn) {
        this.mouseEnter = fn;
      };
      CommonButton.prototype.bindMouseLeave = function(fn) {
        this.mouseLeave = fn;
      };
      CommonButton.prototype.onMouseEnter = function() {
        this.mouseEnter && this.mouseEnter();
        this.isHover = true;
        this.interactable && this.loopBrightNodes(true);
      };
      CommonButton.prototype.onMouseLeave = function() {
        this.mouseLeave && this.mouseLeave();
        this.isHover = false;
        this.interactable && (this._keepBright || this.loopBrightNodes(false));
      };
      CommonButton.prototype.onEnable = function() {
        if (cc.sys.isMobile) {
          this.hoverNode.on(cc.Node.EventType.TOUCH_START, this.onMouseEnter, this);
          this.hoverNode.on(cc.Node.EventType.TOUCH_END, this.onMouseLeave, this);
          this.hoverNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onMouseLeave, this);
        } else {
          this.hoverNode.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.hoverNode.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
        }
        this.apply();
      };
      CommonButton.prototype.onDisable = function() {
        if (cc.sys.isMobile) {
          this.hoverNode.off(cc.Node.EventType.TOUCH_START, this.onMouseEnter, this);
          this.hoverNode.off(cc.Node.EventType.TOUCH_END, this.onMouseLeave, this);
          this.hoverNode.off(cc.Node.EventType.TOUCH_CANCEL, this.onMouseLeave, this);
        } else {
          this.hoverNode.off(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
          this.hoverNode.off(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
        }
        this.isHover = false;
      };
      Object.defineProperty(CommonButton.prototype, "keepBright", {
        get: function() {
          return this._keepBright;
        },
        set: function(value) {
          this._keepBright = value;
          this.apply();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CommonButton.prototype, "interactable", {
        get: function() {
          return this._interactable;
        },
        set: function(value) {
          this._interactable = value;
          this.apply();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CommonButton.prototype, "isChecked", {
        get: function() {
          return this._isChecked;
        },
        set: function(value) {
          this.checkmarks.forEach(Utils_1.nodeActive(value));
          this.notCheckmarks.forEach(Utils_1.nodeActive(!value));
          this._isChecked = value;
        },
        enumerable: false,
        configurable: true
      });
      CommonButton.prototype.isHovered = function() {
        return this.isHover;
      };
      CommonButton.prototype.toggleChecked = function() {
        this.isChecked = !this.isChecked;
      };
      CommonButton.prototype.apply = function() {
        this.pre();
        var keepBright = this.keepBright;
        var interactable = this.interactable;
        var bright = false;
        var dark = false;
        if (interactable) {
          (keepBright || this.isHover) && (bright = true);
          this.cantClickWhenKeepBright && keepBright ? this.scaleButton.interactable = false : this.scaleButton.interactable = true;
        } else {
          keepBright ? bright = true : dark = true;
          this.scaleButton.interactable = false;
        }
        this.loopBrightNodes(bright);
        this.loopDarkNodes(dark);
      };
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u4eae\u6697\u6309\u9215"
      }) ], CommonButton.prototype, "targetNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u4e3b\u6309\u9215\uff0c\u6703\u88ab\u7e2e\u653e\u7684"
      }) ], CommonButton.prototype, "scaleNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: ""
      }) ], CommonButton.prototype, "hoverNode", void 0);
      __decorate([ property(cc.SpriteFrame) ], CommonButton.prototype, "backgroundSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], CommonButton.prototype, "textSpriteFrame", void 0);
      __decorate([ property(cc.Label) ], CommonButton.prototype, "label", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonButton.prototype, "onClickHandler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], CommonButton.prototype, "onClickHandlers", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "cantClickWhenKeepBright", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "enableAutoGrayEffect", void 0);
      __decorate([ property(cc.Float) ], CommonButton.prototype, "zoomScale", void 0);
      __decorate([ property(cc.Color) ], CommonButton.prototype, "brightColor", void 0);
      __decorate([ property(cc.Color) ], CommonButton.prototype, "darkColor", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "checkmarks", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "notCheckmarks", void 0);
      __decorate([ property([ cc.Node ]) ], CommonButton.prototype, "brightNodes", void 0);
      __decorate([ property(cc.Boolean) ], CommonButton.prototype, "fade", void 0);
      CommonButton = __decorate([ ccclass, menu("Button/CommonButton") ], CommonButton);
      return CommonButton;
    }(cc.Component);
    exports.default = CommonButton;
    function applyColor(node, type) {
      if (type === TYPE.NORMAL) {
        node.color = cc.color(255, 255, 255);
        node.opacity = 255;
      } else if (type === TYPE.BRIGHT) {
        node.color = cc.color(255, 255, 255);
        node.opacity = 80;
      } else if (type === TYPE.DARK) {
        node.color = cc.color(0, 0, 0);
        node.opacity = 180;
      }
    }
    exports.applyColor = applyColor;
    function applyBlendMode(sprite, type) {
      if (type === TYPE.NORMAL) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
      } else if (type === TYPE.BRIGHT) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE;
      } else if (type === TYPE.DARK) {
        sprite.srcBlendFactor = cc.macro.BlendFactor.ONE;
        sprite.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
      }
    }
    exports.applyBlendMode = applyBlendMode;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween",
    "../utils/Utils": "Utils",
    "./LoadAtlasSprite": "LoadAtlasSprite"
  } ],
  CommonUIData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f72cfPwPklFr66BuVMSMDY1", "CommonUIData");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CurrencyGlobal_1 = require("../CurrencyGlobal");
    var ColDataBase_1 = require("../data/ColDataBase");
    var I18nGlobal_1 = require("../I18nGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var OptionPanel_1 = require("./OptionPanel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIData = function(_super) {
      __extends(CommonUIData, _super);
      function CommonUIData() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.currencyCode = "";
        _this.currencySymbol = "";
        _this.currencySymbol2 = "";
        _this.currencyTail = "";
        _this.betable = true;
        _this.animation = false;
        _this.isSpecialMode = false;
        _this.isSpin = false;
        _this.isStop = false;
        _this.skippable = false;
        _this.autoRound = 0;
        _this.autoRoundView = "0";
        _this.stopWhenWins = false;
        _this.stopWins = 0;
        _this.stopWhenSpecialMode = false;
        _this.stopWhenBalanceIncrease = false;
        _this.stopBalanceIncrease = 0;
        _this.stopWhenBalanceLose = false;
        _this.stopBalacneLose = 0;
        _this.displayStopWhenSpecialMode = true;
        _this.speedUp = true;
        _this.displaySpin = true;
        _this.displaySpinAuto = false;
        _this.displayStop = false;
        _this.displayStopAuto = false;
        _this.displayAuto = true;
        _this.displayLevel = true;
        _this.displaySpeedUp = true;
        _this.displayCtrl = true;
        _this.customCtrl = false;
        _this.displayBack = true;
        _this.displayRecord = true;
        _this.displaySetting = true;
        _this.displayInfo = true;
        _this.allowSpin = true;
        _this.allowSpinAuto = false;
        _this.allowStop = true;
        _this.allowStopAuto = true;
        _this.allowAuto = true;
        _this.allowLevel = true;
        _this.displayAutoPanel = false;
        _this.autoPanelAutos = [];
        _this.autoPanelAuto = "";
        _this.displayLevelPanel = false;
        _this.levelPanelLevels = [];
        _this.levelPanelLevel = "";
        _this.allowMenu = true;
        _this.displayMenu = false;
        _this.displayInfoPanel = false;
        _this.displaySettingPanel = false;
        _this.spinSpeed = 1;
        _this.displayStartPage = true;
        _this.displayCurrencySymbol = false;
        _this.spaceSpin = false;
        _this.playEffect = false;
        _this.playMusic = false;
        _this.playSound = false;
        _this.soundRatio = .4;
        _this.balanceNumber = 0;
        _this.balance = "0.00";
        _this.balanceView = "0.00";
        _this.wins = "0.00";
        _this.winsView = "0.00";
        _this.level = "";
        _this.totalBet = "0.00";
        _this.totalBetView = "0.00";
        _this.line = "0";
        _this.now = "00:00";
        _this.message = "";
        _this.version = "v0";
        _this.singleWinAtLeast = "";
        _this.balIncreased = "";
        _this.balLosed = "";
        return _this;
      }
      CommonUIData.prototype.set = function(key, val, force) {
        void 0 === force && (force = false);
        return _super.prototype.set.call(this, "" + key, val, force);
      };
      CommonUIData.prototype.registComputed = function(col, refCols, fn) {
        return _super.prototype.registComputed.call(this, col, refCols, fn);
      };
      CommonUIData.prototype.registCallback = function(refCols, fn) {
        return _super.prototype.registComputed.call(this, "", refCols, fn);
      };
      CommonUIData.prototype.doPre = function() {
        var _this = this;
        this.registComputed("displayCtrl", [ "customCtrl", "betable", "layout", "displayInfoPanel", "animation", "displayAutoPanel", "displayLevelPanel", "displaySettingPanel" ], function() {
          if (_this.customCtrl) return false;
          if (_this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL || _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL) {
            if (_this.displayInfoPanel) return false;
            if (_this.animation && !(_this.displayAutoPanel || _this.displayLevelPanel || _this.displaySettingPanel)) return false;
          }
          return true;
        });
        this.registComputed("displaySpin", [ "betable", "autoRound" ], function() {
          return _this.betable;
        });
        this.registComputed("displaySpinAuto", [ "betable", "autoRound" ], function() {
          return !_this.betable && 0 !== _this.autoRound;
        });
        this.registComputed("displayStop", [ "betable", "autoRound", "isSpecialMode" ], function() {
          return !_this.betable && 0 === _this.autoRound;
        });
        this.registComputed("displayAuto", [ "betable", "autoRound", "isSpecialMode" ], function() {
          return 0 === _this.autoRound;
        });
        this.registComputed("displayStopAuto", [ "betable", "autoRound", "isSpecialMode" ], function() {
          return 0 !== _this.autoRound;
        });
        this.registComputed([ "allowStop", "allowSpinAuto" ], [ "isSpin", "isStop", "autoRound", "skippable", "isSpecialMode" ], function() {
          if (_this.isSpecialMode) return false;
          return _this.isSpin && !_this.isStop || _this.skippable;
        });
        this.registComputed([ "allowLevel", "allowAuto", "allowMenu" ], [ "betable" ], function() {
          return _this.betable;
        });
        this.registComputed("balance", [ "balanceNumber" ], function() {
          return Utils_1.fixBalanceThousandth(_this.balanceNumber);
        });
        this.registComputed("autoRoundView", [ "autoRound" ], function() {
          if (Infinity === _this.autoRound) return OptionPanel_1.INFINITY_MARK;
          return "" + _this.autoRound;
        });
        this.registComputed("balanceView", [ "balance", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.balance + CurrencyGlobal_1.getCurrencySuffix();
          return _this.balance;
        });
        this.registComputed("winsView", [ "wins", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.wins + CurrencyGlobal_1.getCurrencySuffix();
          return _this.wins;
        });
        this.registComputed("totalBetView", [ "totalBet", "displayCurrencySymbol", "currencySymbol" ], function() {
          if (_this.displayCurrencySymbol) return CurrencyGlobal_1.getCurrencyPrefix() + _this.totalBet + CurrencyGlobal_1.getCurrencySuffix();
          return _this.totalBet;
        });
        this.registComputed("singleWinAtLeast", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.single_win_at_least") + _this.currencySymbol2 + _this.currencyTail;
        });
        this.registComputed("balIncreased", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.bal_increased") + _this.currencySymbol2 + _this.currencyTail;
        });
        this.registComputed("balLosed", [ "currencyCode", "currencySymbol2", "currencyTail" ], function() {
          return I18nGlobal_1.translate("COMMONUI.bal_losed") + _this.currencySymbol2 + _this.currencyTail;
        });
      };
      CommonUIData = __decorate([ ccclass ], CommonUIData);
      return CommonUIData;
    }(ColDataBase_1.default);
    exports.default = CommonUIData;
    cc._RF.pop();
  }, {
    "../CurrencyGlobal": "CurrencyGlobal",
    "../I18nGlobal": "I18nGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../data/ColDataBase": "ColDataBase",
    "../utils/Utils": "Utils",
    "./OptionPanel": "OptionPanel"
  } ],
  CommonUIManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5f3f4cJswBEX7PnYGjbs/+x", "CommonUIManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.copyLabelProperty = void 0;
    var Alert_1 = require("../component/Alert");
    var ColAnimation_1 = require("../data/ColAnimation");
    var KeyNode_1 = require("../data/KeyNode");
    var KeyStr_1 = require("../data/KeyStr");
    var I18nGlobal_1 = require("../I18nGlobal");
    var IframeGlobal_1 = require("../IframeGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesSprite_1 = require("../script/ResourcesSprite");
    var Utils_1 = require("../utils/Utils");
    var CommonUI_1 = require("./CommonUI");
    var CommonUIData_1 = require("./CommonUIData");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var CommonUIStyleCopy_1 = require("./CommonUIStyleCopy");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIManager = function(_super) {
      __extends(CommonUIManager, _super);
      function CommonUIManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.size1280x720 = false;
        _this.mobileLayoutOnly = false;
        _this.mobileVerticalLayoutOnly = false;
        _this.mobileHorizontalLayoutOnly = false;
        _this.keyStr = [];
        _this.commonUINodes = [];
        _this.spinAnimationNode = null;
        _this.labelKeyNodes = [];
        _this.labelStyleNode = null;
        _this.spinHandler = null;
        _this.stopHandler = null;
        _this.stopAutoHandler = null;
        _this.lobbyHandler = null;
        _this.recordHandler = null;
        _this.levelHandler = null;
        _this.autoHandler = null;
        _this.startPageHandler = null;
        _this.textChangeHandler = null;
        _this.autoOptionClickHandler = null;
        _this.canvasNode = null;
        _this.commonUI = null;
        _this.data = new CommonUIData_1.default();
        return _this;
      }
      CommonUIManager.prototype.onLoad = function() {
        var _this = this;
        this.mobileLayoutOnly && LibGlobal_1.setIsMobile(true);
        if (this.mobileVerticalLayoutOnly) {
          LibGlobal_1.setIsMobile(true);
          ResizeGlobal_1.setVerticalOnly();
        }
        if (this.mobileHorizontalLayoutOnly) {
          LibGlobal_1.setIsMobile(true);
          ResizeGlobal_1.setHorizontalOnly();
        }
        var cuiNodes = this.commonUINodes;
        var eachDestroy = function(nodes, idx) {
          var node = nodes[idx];
          node && node.destroy();
          delete nodes[idx];
        };
        if (LibGlobal_1.isMobile) eachDestroy(cuiNodes, 0); else {
          eachDestroy(cuiNodes, 1);
          eachDestroy(cuiNodes, 2);
        }
        cuiNodes.forEach(function(node) {
          if (!node) return;
          var cui = node.getComponent(CommonUI_1.default);
          if (_this.size1280x720) {
            ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
            var anims = cui.getComponentsInChildren(cc.Animation);
            anims.forEach(function(anim) {
              anim.getClips().forEach(function(clip) {
                ResizeGlobal_1.resizeAnimationClip(ResizeGlobal_1.RESIZE_SCALE, clip);
              });
            });
          }
          cui.canvasWidget.forEach(Utils_1.nodeProperty("target", _this.canvasNode));
          cui.lobbyHandler = _this.lobbyHandler;
          cui.recordHandler = _this.recordHandler;
          cui.spinHandler = _this.spinHandler;
          cui.stopHandler = _this.stopHandler;
          cui.levelHandler = _this.levelHandler;
          cui.autoHandler = _this.autoHandler;
          cui.stopAutoHandler = _this.stopAutoHandler;
          cui.startPageHandler = _this.startPageHandler;
          cui.textChangeHandler = _this.textChangeHandler;
          cui.autoOptionClickHandler = _this.autoOptionClickHandler;
        });
        if (this.labelStyleNode && this.labelStyleNode.childrenCount) {
          var kns = this.labelStyleNode.children.map(function(node) {
            return {
              node: node,
              key: node.name
            };
          });
          this.labelKeyNodes.push.apply(this.labelKeyNodes, kns);
        }
        this.getLayoutAutos().forEach(function(a) {
          a.labelKeyNodes = _this.labelKeyNodes;
        });
        var culs = this.getComponentsInChildren(CommonUIStyle_1.default);
        var arr = [];
        culs.forEach(function(cul) {
          var ks = Utils_1.flattenDeep([ cul.keys, cul.key ]).filter(Utils_1.identity);
          var tn = cul.node;
          ks.forEach(function(k) {
            var sns = KeyNode_1.getNodesByKey(_this.labelKeyNodes, k);
            sns.forEach(function(sn) {
              if (!sn) {
                arr.push(k);
                return;
              }
              var copy = sn.getComponent(CommonUIStyleCopy_1.default);
              copy ? copy.copyTo(tn) : copyLabelProperty(sn, tn);
            });
          });
        });
        true;
        LibGlobal_1.log("No", arr.filter(Utils_1.onlyUnique).sort(), "in", this.labelKeyNodes.map(function(kn) {
          return kn.key;
        }));
        var gidks = this.keyStr.find(function(ks) {
          return "gid" === ks.key;
        });
        if (gidks.key) {
          var replace_1 = function(ks) {
            ks.key = ks.key.replace("{gid}", gidks.str);
            ks.str = ks.str.replace("{gid}", gidks.str);
          };
          this.getComponentsInChildren(ResourcesSprite_1.default).forEach(function(rls) {
            rls.keyStrs.forEach(replace_1);
          });
          this.getLayoutAutos().forEach(function(a) {
            a.size1280x720 = _this.size1280x720;
            a.replace = replace_1;
          });
        }
      };
      CommonUIManager.prototype.toggleLayout = function(layout, size) {
        var _this = this;
        if (this.layout !== layout) {
          this.commonUINodes.forEach(Utils_1.nodeActive(false));
          this.commonUINodes[layout].active = true;
        }
        this.layout = layout;
        var node = this.commonUINodes[layout];
        node.setContentSize(size);
        this.scheduleOnce(function() {
          node.getComponentsInChildren(cc.Widget).forEach(function(w) {
            return w.updateAlignment();
          });
          _this.scheduleOnce(function() {
            node.getComponentsInChildren(cc.Layout).forEach(function(l) {
              return l.updateLayout();
            });
          }, 0);
        }, 0);
        var cui = node.getComponent(CommonUI_1.default);
        this.data.bindItem(cui);
        var btn = IframeGlobal_1.getHrefURLParams("btn");
        if (btn && 3 === btn.length) {
          "0" === btn[0] && this.data.set("displayBack", false);
          "0" === btn[2] && this.data.set("displayRecord", false);
        }
        cui.reset(this.data, true);
        this.commonUI = cui;
        cui.messageLabel && (cui.messageLabel.string = this.data.message);
        cui.getComponentsInChildren(ColAnimation_1.ColAnimation).forEach(function(ca) {
          if (ca.state && ca.state.isPlaying) {
            var dur = ca.state.clip.duration;
            ca.animation.setCurrentTime(dur);
          }
        });
        return cui;
      };
      CommonUIManager.prototype.closePanel = function() {
        this.commonUI && this.commonUI.closePanel();
      };
      CommonUIManager.prototype.loadResourceFail = function(code) {
        this.closePanel();
        Alert_1.gameAlert(I18nGlobal_1.translateError("GAME.download_error", code), "", LibGlobal_1.ALERT_LEVEL.DEFAULT, function() {});
      };
      CommonUIManager.prototype.getLayoutInfos = function() {
        return this.commonUINodes.map(function(node) {
          if (node) return node.getComponent(CommonUI_1.default).slotInfo;
        });
      };
      CommonUIManager.prototype.getLayoutAutos = function() {
        return this.commonUINodes.map(function(node) {
          if (node) return node.getComponent(CommonUI_1.default).slotAuto;
        });
      };
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "size1280x720", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileLayoutOnly", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileVerticalLayoutOnly", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIManager.prototype, "mobileHorizontalLayoutOnly", void 0);
      __decorate([ property([ KeyStr_1.KeyStr ]) ], CommonUIManager.prototype, "keyStr", void 0);
      __decorate([ property([ cc.Node ]) ], CommonUIManager.prototype, "commonUINodes", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "spinAnimationNode", void 0);
      __decorate([ property([ KeyNode_1.KeyNode ]) ], CommonUIManager.prototype, "labelKeyNodes", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "labelStyleNode", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "spinHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "stopHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "stopAutoHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "lobbyHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "recordHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "levelHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "autoHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "startPageHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "textChangeHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], CommonUIManager.prototype, "autoOptionClickHandler", void 0);
      __decorate([ property(cc.Node) ], CommonUIManager.prototype, "canvasNode", void 0);
      CommonUIManager = __decorate([ ccclass ], CommonUIManager);
      return CommonUIManager;
    }(cc.Component);
    exports.default = CommonUIManager;
    function copyLabelProperty(source, target) {
      Utils_1.copyNodeProperty(source, target, [ "x", "y", "color" ], true);
      1 !== source.scale && (target.scale = source.scale);
      var slo = source.getComponent(cc.LabelOutline);
      var tlo = target.getComponent(cc.LabelOutline);
      slo && tlo && Utils_1.copyProperty(slo, tlo, [ "color", "width" ]);
    }
    exports.copyLabelProperty = copyLabelProperty;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../IframeGlobal": "IframeGlobal",
    "../LibGlobal": "LibGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../component/Alert": "Alert",
    "../data/ColAnimation": "ColAnimation",
    "../data/KeyNode": "KeyNode",
    "../data/KeyStr": "KeyStr",
    "../script/ResourcesSprite": "ResourcesSprite",
    "../utils/Utils": "Utils",
    "./CommonUI": "CommonUI",
    "./CommonUIData": "CommonUIData",
    "./CommonUIStyle": "CommonUIStyle",
    "./CommonUIStyleCopy": "CommonUIStyleCopy"
  } ],
  CommonUIStyleCopy: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "98e72mIuZ1Pv5b3MIIkhqU2", "CommonUIStyleCopy");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIStyleCopy = function(_super) {
      __extends(CommonUIStyleCopy, _super);
      function CommonUIStyleCopy() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.position = false;
        _this.color = false;
        _this.scale = false;
        _this.labelOutlineColor = false;
        _this.labelOutlineWidth = false;
        return _this;
      }
      CommonUIStyleCopy.prototype.copyTo = function(node) {
        var source = this.node;
        var target = node;
        this.position && Utils_1.copyProperty(source, target, [ "x", "y" ]);
        this.color && Utils_1.copyProperty(source, target, [ "color" ]);
        this.scale && Utils_1.copyProperty(source, target, [ "scale" ]);
        if (this.labelOutlineColor || this.labelOutlineWidth) {
          var slo = source.getComponent(cc.LabelOutline);
          var tlo = target.getComponent(cc.LabelOutline);
          if (slo && tlo) {
            this.labelOutlineColor && Utils_1.copyProperty(slo, tlo, [ "color" ]);
            if (this.labelOutlineWidth) if (0 === slo.width) tlo.enabled = false; else {
              tlo.enabled = true;
              Utils_1.copyProperty(slo, tlo, [ "width" ]);
            }
          }
        }
      };
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "position", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "color", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "scale", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "labelOutlineColor", void 0);
      __decorate([ property(cc.Boolean) ], CommonUIStyleCopy.prototype, "labelOutlineWidth", void 0);
      CommonUIStyleCopy = __decorate([ ccclass ], CommonUIStyleCopy);
      return CommonUIStyleCopy;
    }(cc.Component);
    exports.default = CommonUIStyleCopy;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  CommonUIStyle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e69cfEAsJpGgZR/JsZg5DiY", "CommonUIStyle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CommonUIStyle = function(_super) {
      __extends(CommonUIStyle, _super);
      function CommonUIStyle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.key = "";
        _this.keys = [];
        return _this;
      }
      __decorate([ property({
        tooltip: "\u512a\u5148\u6b0a\u9806\u5e8f\u70ba keys[0], keys[1], key\uff0c\u8d8a\u5f8c\u65b9\u8d8a\u9ad8"
      }) ], CommonUIStyle.prototype, "key", void 0);
      __decorate([ property([ cc.String ]) ], CommonUIStyle.prototype, "keys", void 0);
      CommonUIStyle = __decorate([ ccclass ], CommonUIStyle);
      return CommonUIStyle;
    }(cc.Component);
    exports.default = CommonUIStyle;
    cc._RF.pop();
  }, {} ],
  CommonUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a8bfaoaKv9ES51rw3RkUVB3", "CommonUI");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BET_LEVEL_ACTION = void 0;
    var SlotAuto_1 = require("../auto/SlotAuto");
    var I18nLabel_1 = require("../component/I18nLabel");
    var LoadAtlasSprite_1 = require("../component/LoadAtlasSprite");
    var UpdatePositionSlider_1 = require("../component/UpdatePositionSlider");
    var ColBase_1 = require("../data/ColBase");
    var ColItemBase_1 = require("../data/ColItemBase");
    var KeyNode_1 = require("../data/KeyNode");
    var SlotInfo_1 = require("../info/SlotInfo");
    var StorageGlobal_1 = require("../StorageGlobal");
    var CommonUIStyle_1 = require("./CommonUIStyle");
    var OptionPanel_1 = require("./OptionPanel");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BET_LEVEL_ACTION;
    (function(BET_LEVEL_ACTION) {
      BET_LEVEL_ACTION["MORE"] = "more";
      BET_LEVEL_ACTION["LESS"] = "less";
    })(BET_LEVEL_ACTION = exports.BET_LEVEL_ACTION || (exports.BET_LEVEL_ACTION = {}));
    var CommonUI = function(_super) {
      __extends(CommonUI, _super);
      function CommonUI() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyNodes = [];
        _this.canvasWidget = [];
        _this.slotInfo = null;
        _this.slotAuto = null;
        _this.lobbyHandler = null;
        _this.recordHandler = null;
        _this.spinHandler = null;
        _this.stopHandler = null;
        _this.stopAutoHandler = null;
        _this.levelHandler = null;
        _this.autoHandler = null;
        _this.textChangeHandler = null;
        _this.autoOptionClickHandler = null;
        _this.startPageHandler = null;
        _this.messageLabel = null;
        _this.sliderTimeout = null;
        _this.sliderTimeout2 = null;
        return _this;
      }
      CommonUI.prototype.updateMessage = function() {
        this.messageLabel.string = this.data.message;
      };
      CommonUI.prototype.colDisplayMenu = function(able, nodes) {
        var menuNode = nodes[0];
        var bgNode = nodes[1];
        var maskNode = nodes[2];
        var layoutNode = nodes[3];
        var height = 0;
        if (able) {
          var len = layoutNode.children.filter(function(n) {
            return !n.active;
          }).length;
          var ch = layoutNode.children[0].height;
          var nh = menuNode.height;
          var sy = layoutNode.getComponent(cc.Layout).spacingY;
          height = nh - (0 === len ? 0 : ch * len + sy * (len - 1));
        }
        cc.tween(bgNode).to(able ? .13 : .16, {
          height: height
        }).start();
        cc.tween(maskNode).to(able ? .16 : .13, {
          height: height
        }).start();
      };
      CommonUI.prototype.getNodeByKey = function(key) {
        return KeyNode_1.getNodeByKey(this.keyNodes, key);
      };
      CommonUI.prototype.getNodesByColKey = function(key) {
        return this.getComponentsInChildren(ColBase_1.default).filter(function(col) {
          return col.colKey === key;
        }).map(function(c) {
          return c.node;
        });
      };
      CommonUI.prototype.getNodesByLoadAtlasSpriteKey = function(key) {
        return this.getComponentsInChildren(LoadAtlasSprite_1.default).filter(function(col) {
          return col.key === key || col.keyStrs.some(function(ks) {
            return ks.str === key;
          });
        }).map(function(las) {
          return las.node;
        });
      };
      CommonUI.prototype.getNodeByPath = function(path) {
        return cc.find(path, this.node);
      };
      CommonUI.prototype.getNodesByUIStyleKey = function(key) {
        return this.getComponentsInChildren(CommonUIStyle_1.default).filter(function(col) {
          return col.key === key || col.keys.some(function(k) {
            return k === key;
          });
        }).map(function(s) {
          return s.node;
        });
      };
      CommonUI.prototype.getNodesByI18nKey = function(key) {
        return this.getComponentsInChildren(I18nLabel_1.I18nLabel).filter(function(l) {
          return l.dataID === key;
        }).map(function(s) {
          return s.node;
        });
      };
      CommonUI.prototype.toggleStartPage = function(able) {
        void 0 === able && (able = !this.data.displayStartPage);
        this.data.set("displayStartPage", able);
        this.startPageHandler.emit([ able ]);
      };
      CommonUI.prototype.toggleSound = function(able) {
        void 0 === able && (able = !this.data.playSound);
        this.data.set("playEffect", able);
        this.data.set("playMusic", able);
        this.data.set("playSound", able);
      };
      CommonUI.prototype.toggleMusic = function(able) {
        void 0 === able && (able = !this.data.playMusic);
        this.data.set("playMusic", able);
        able ? false === this.data.playSound && this.data.set("playSound", true) : false === this.data.playEffect && this.data.set("playSound", false);
      };
      CommonUI.prototype.toggleEffect = function(able) {
        void 0 === able && (able = !this.data.playEffect);
        this.data.set("playEffect", able);
        able ? false === this.data.playSound && this.data.set("playSound", true) : false === this.data.playMusic && this.data.set("playSound", false);
      };
      CommonUI.prototype.toggleSetting = function(able) {
        void 0 === able && (able = !this.data.displaySettingPanel);
        this.data.set("displaySettingPanel", able);
        return able;
      };
      CommonUI.prototype.toggleLevelPanel = function(able) {
        void 0 === able && (able = !this.data.displayLevelPanel);
        this.data.set("displayLevelPanel", able);
        return able;
      };
      CommonUI.prototype.toggleAutoPanel = function(able) {
        void 0 === able && (able = !this.data.displayAutoPanel);
        this.data.set("displayAutoPanel", able);
        return able;
      };
      CommonUI.prototype.toggleMenu = function(able) {
        void 0 === able && (able = !this.data.displayMenu);
        this.data.set("displayMenu", able);
        return able;
      };
      CommonUI.prototype.toggleInfoPanel = function(able) {
        void 0 === able && (able = !this.data.displayInfoPanel);
        this.data.set("displayInfoPanel", able);
        return able;
      };
      CommonUI.prototype.toggleCurrencySymbol = function(able) {
        void 0 === able && (able = !this.data.displayCurrencySymbol);
        this.data.set("displayCurrencySymbol", able);
        StorageGlobal_1.setCurrencySymbol(able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenBalanceIncrease = function(able) {
        void 0 === able && (able = !this.data.stopWhenBalanceIncrease);
        this.data.set("stopWhenBalanceIncrease", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenBalanceLose = function(able) {
        void 0 === able && (able = !this.data.stopWhenBalanceLose);
        this.data.set("stopWhenBalanceLose", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenSpecialMode = function(able) {
        void 0 === able && (able = !this.data.stopWhenSpecialMode);
        this.data.set("stopWhenSpecialMode", able);
        return able;
      };
      CommonUI.prototype.toggleStopWhenWins = function(able) {
        void 0 === able && (able = !this.data.stopWhenWins);
        this.data.set("stopWhenWins", able);
        return able;
      };
      CommonUI.prototype.toggleSpaceSpin = function(able) {
        void 0 === able && (able = !this.data.spaceSpin);
        this.data.set("spaceSpin", able);
        StorageGlobal_1.setSpaceSpin(able);
        return able;
      };
      CommonUI.prototype.toggleSpeedUp = function(able) {
        void 0 === able && (able = !this.data.speedUp);
        this.data.set("speedUp", able);
        return able;
      };
      CommonUI.prototype.autoRoundViewCallback = function(value, label) {
        value !== OptionPanel_1.INFINITY_MARK ? label.string = value : label.string = "";
      };
      CommonUI.prototype.onTextChange = function(value, ebox, data) {
        value = value.replace(/[^0-9.]/g, "").replace(/(\..*)\./g, "$1");
        value.length > 1 && "0" === value[0] && "." !== value[1] && (value = value.substring(1));
        try {
          ebox["_impl"]._elem.value = value;
        } catch (_a) {}
        "" === value && (value = "0");
        ebox.string = value;
        this.textChangeHandler.emit([ data, value ]);
      };
      CommonUI.prototype.onAutoOptionClick = function() {
        this.autoOptionClickHandler.emit([]);
      };
      CommonUI.prototype.onStopWhenBalanceIncreaseToggleClick = function() {
        this.toggleStopWhenBalanceIncrease();
      };
      CommonUI.prototype.onStopWhenBalanceLoseToggleClick = function() {
        this.toggleStopWhenBalanceLose();
      };
      CommonUI.prototype.onStopWhenSpecialModeToggleClick = function() {
        this.toggleStopWhenSpecialMode();
      };
      CommonUI.prototype.onStopWhenWinsToggleClick = function() {
        this.toggleStopWhenWins();
      };
      CommonUI.prototype.closePanel = function(opt) {
        void 0 === opt && (opt = {
          auto: false,
          level: false,
          setting: false
        });
        this.toggleMenu(false);
        opt.auto || this.toggleAutoPanel(false);
        opt.level || this.toggleLevelPanel(false);
        opt.setting || this.toggleSetting(false);
        opt.info || this.toggleInfoPanel(false);
      };
      CommonUI.prototype.onLobbyClick = function() {
        this.lobbyHandler.emit([]);
      };
      CommonUI.prototype.onRecordClick = function() {
        this.recordHandler.emit([]);
      };
      CommonUI.prototype.onSpinClick = function() {
        this.spinHandler.emit([]);
      };
      CommonUI.prototype.onStopClick = function() {
        this.stopHandler.emit([]);
      };
      CommonUI.prototype.onStopAutoClick = function() {
        this.stopAutoHandler.emit([]);
      };
      CommonUI.prototype.onLevelClick = function(levelString) {
        this.levelHandler.emit([ levelString ]);
        this.onLevelPanelCloseClick();
      };
      CommonUI.prototype.onLevelMoreClick = function() {
        this.levelHandler.emit([ BET_LEVEL_ACTION.MORE ]);
      };
      CommonUI.prototype.onLevelLessClick = function() {
        this.levelHandler.emit([ BET_LEVEL_ACTION.LESS ]);
      };
      CommonUI.prototype.onAutoClick = function(autoString) {
        this.autoHandler.emit([ autoString ]);
        this.onAutoPanelCloseClick();
      };
      CommonUI.prototype.onMenuCloseClick = function() {
        this.toggleMenu(false);
      };
      CommonUI.prototype.onMenuOpenClick = function() {
        this.toggleMenu(true);
      };
      CommonUI.prototype.onMenuToggleClick = function() {
        this.toggleMenu();
      };
      CommonUI.prototype.onSoundOffClick = function() {
        this.toggleSound(false);
      };
      CommonUI.prototype.onSoundOnClick = function() {
        this.toggleSound(true);
      };
      CommonUI.prototype.onSoundToggleClick = function() {
        this.toggleSound();
      };
      CommonUI.prototype.onEffectOnClick = function() {
        this.toggleEffect(true);
      };
      CommonUI.prototype.onEffectOffClick = function() {
        this.toggleEffect(false);
      };
      CommonUI.prototype.onEffectToggleClick = function() {
        this.toggleEffect();
      };
      CommonUI.prototype.onMusicOnClick = function() {
        this.toggleMusic(true);
      };
      CommonUI.prototype.onMusicOffClick = function() {
        this.toggleMusic(false);
      };
      CommonUI.prototype.onMusicToggleClick = function() {
        this.toggleMusic();
      };
      CommonUI.prototype.onSettingOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleSetting(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onSettingCloseClick = function() {
        this.toggleSetting(false);
      };
      CommonUI.prototype.onSettingToggleClick = function() {
        var settingAble = this.toggleSetting();
        if (settingAble) {
          this.closePanel({
            setting: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onLevelPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleLevelPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onLevelPanelCloseClick = function() {
        this.toggleLevelPanel(false);
      };
      CommonUI.prototype.onLevelPanelToggleClick = function() {
        var settingAble = this.toggleLevelPanel();
        if (settingAble) {
          this.closePanel({
            level: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onAutoPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleAutoPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onAutoPanelCloseClick = function() {
        this.toggleAutoPanel(false);
      };
      CommonUI.prototype.onAutoPanelToggleClick = function() {
        var settingAble = this.toggleAutoPanel();
        if (settingAble) {
          this.closePanel({
            auto: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onInfoPanelOpenClick = function() {
        this.onPanelCloseClick();
        this.toggleInfoPanel(true);
        this.toggleMenu(false);
      };
      CommonUI.prototype.onInfoPanelCloseClick = function() {
        this.toggleInfoPanel(false);
      };
      CommonUI.prototype.onInfoPanelToggleClick = function() {
        var settingAble = this.toggleInfoPanel();
        if (settingAble) {
          this.closePanel({
            info: true
          });
          this.toggleMenu(false);
        }
      };
      CommonUI.prototype.onPanelCloseClick = function() {
        this.toggleAutoPanel(false);
        this.toggleLevelPanel(false);
        this.toggleSetting(false);
        this.toggleInfoPanel(false);
      };
      CommonUI.prototype.onSoundRatioSliderChange = function(slider) {
        this.data.set("soundRatio", slider.progress);
      };
      CommonUI.prototype.soundRatioColCallback = function(value, nodes) {
        clearTimeout(this.sliderTimeout);
        var next = function() {
          var slider = nodes[0].getComponent(UpdatePositionSlider_1.default);
          slider.updateHandlePosition(value);
        };
        this.sliderTimeout = setTimeout(next, 5);
      };
      CommonUI.prototype.onSpinSpeedSliderChange = function(slider) {
        this.data.set("spinSpeed", slider.progress);
        StorageGlobal_1.setSpinSpeed(slider.progress);
      };
      CommonUI.prototype.spinSpeedColCallback = function(value, nodes) {
        clearTimeout(this.sliderTimeout2);
        var next = function() {
          var slider = nodes[0].getComponent(UpdatePositionSlider_1.default);
          slider.updateHandlePosition(value);
        };
        this.sliderTimeout2 = setTimeout(next, 5);
      };
      CommonUI.prototype.onStartPageToggleClick = function() {
        this.toggleStartPage();
      };
      CommonUI.prototype.onStartPageOpenClick = function() {
        this.toggleStartPage(true);
      };
      CommonUI.prototype.onStartPageCloseClick = function() {
        this.toggleStartPage(false);
      };
      CommonUI.prototype.onCurrencySymbolToggleClick = function() {
        this.toggleCurrencySymbol();
      };
      CommonUI.prototype.onCurrencySymbolOpenClick = function() {
        this.toggleCurrencySymbol(true);
      };
      CommonUI.prototype.onCurrencySymbolCloseClick = function() {
        this.toggleCurrencySymbol(false);
      };
      CommonUI.prototype.onSpaceSpinToggleClick = function() {
        this.toggleSpaceSpin();
      };
      CommonUI.prototype.onSpaceSpinOpenClick = function() {
        this.toggleSpaceSpin(true);
      };
      CommonUI.prototype.onSpaceSpinCloseClick = function() {
        this.toggleSpaceSpin(false);
      };
      CommonUI.prototype.onSpeedUpToggleClick = function() {
        this.toggleSpeedUp();
      };
      CommonUI.prototype.onSpeedUpOpenClick = function() {
        this.toggleSpeedUp(true);
      };
      CommonUI.prototype.onSpeedUpCloseClick = function() {
        this.toggleSpeedUp(false);
      };
      __decorate([ property([ KeyNode_1.KeyNode ]) ], CommonUI.prototype, "keyNodes", void 0);
      __decorate([ property([ cc.Widget ]) ], CommonUI.prototype, "canvasWidget", void 0);
      __decorate([ property(SlotInfo_1.default) ], CommonUI.prototype, "slotInfo", void 0);
      __decorate([ property(SlotAuto_1.default) ], CommonUI.prototype, "slotAuto", void 0);
      __decorate([ property(cc.Label) ], CommonUI.prototype, "messageLabel", void 0);
      CommonUI = __decorate([ ccclass ], CommonUI);
      return CommonUI;
    }(ColItemBase_1.default);
    exports.default = CommonUI;
    cc._RF.pop();
  }, {
    "../StorageGlobal": "StorageGlobal",
    "../auto/SlotAuto": "SlotAuto",
    "../component/I18nLabel": "I18nLabel",
    "../component/LoadAtlasSprite": "LoadAtlasSprite",
    "../component/UpdatePositionSlider": "UpdatePositionSlider",
    "../data/ColBase": "ColBase",
    "../data/ColItemBase": "ColItemBase",
    "../data/KeyNode": "KeyNode",
    "../info/SlotInfo": "SlotInfo",
    "./CommonUIStyle": "CommonUIStyle",
    "./OptionPanel": "OptionPanel"
  } ],
  CommunicationBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f7954UPBrZNoKH4Bj3JeKgL", "CommunicationBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.mapAnyWarper = exports.mapAny = void 0;
    var user_pb_1 = require("game-protobuf/ts/account/user_pb");
    var base_pb_1 = require("game-protobuf/ts/base/base_pb");
    var rxjs_1 = require("rxjs");
    var operators_1 = require("rxjs/operators");
    var LoginState_1 = require("../data/LoginState");
    var PingData_1 = require("../data/PingData");
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var ccclass = cc._decorator.ccclass;
    function mapAny(_a) {
      var key = _a[0], any = _a[1];
      if (!any) throw new Error("not a good format");
      return any;
    }
    exports.mapAny = mapAny;
    function mapAnyWarper(next) {
      if (next) return function(val) {
        return next(mapAny(val));
      };
    }
    exports.mapAnyWarper = mapAnyWarper;
    var CommunicationBase = function(_super) {
      __extends(CommunicationBase, _super);
      function CommunicationBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loginState = LoginState_1.LoginState.BEFORE_LOGIN;
        _this.ping = [];
        _this.lastPingAt = 0;
        _this.updatePingTime = 0;
        _this.retryCount = 0;
        _this.timeDifference = 0;
        _this.minAvgPing = LibGlobal_1.MAX_LATENCY;
        _this.forceHeartbeatCount = 10;
        _this.listenerMap = new Map();
        _this.observer = null;
        _this.streamObserver = null;
        _this.errorObserver = null;
        _this.errorObservable = null;
        _this.subscriptioMap = new Map();
        _this.loaded = false;
        _this.netQuality = null;
        return _this;
      }
      CommunicationBase.prototype.getGameService = function() {
        throw new Error("Method not implemented.");
      };
      CommunicationBase.prototype.fixTimeDifference = function(serverTime) {
        return Utils_1.serverTime2ClientTimeDiff(serverTime, this.timeDifference);
      };
      CommunicationBase.prototype.appendBaseReq = function(req) {
        if (req.setBaseReq) {
          var bq = new base_pb_1.BaseReq();
          bq.setToken(this.main.token);
          req.setBaseReq(bq);
          return req;
        }
        LibGlobal_1.warn("try to append non-baseReq req");
        return req;
      };
      CommunicationBase.prototype.requestAuth = function(gid) {
        var _this = this;
        var req = new user_pb_1.AuthReq();
        req.setGid(gid);
        this.appendBaseReq(req);
        this.toggleLoading(true);
        return this.getGameService().streamAuth(req).pipe(operators_1.tap(function() {
          return _this.toggleLoading(false);
        }), operators_1.tap(this.observer), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestUserInfo = function() {
        var _this = this;
        var req = new user_pb_1.UserInfoReq();
        this.appendBaseReq(req);
        return this.getGameService().streamGetUserInfo(req).pipe(operators_1.tap(function() {
          return _this.toggleLoading(false);
        }), operators_1.tap(this.observer), operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestPlatformAuthInfo = function() {
        return this.getGameService().streamGetPlatfromAuthInfo().pipe(operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestLink = function(gid) {
        return this.getGameService().streamGetLink(gid).pipe(operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestDisconnect = function() {
        return this.getGameService().streamDisconnect().pipe(operators_1.map(mapAny));
      };
      CommunicationBase.prototype.requestUpdateBalance = function() {
        return this.getGameService().streamGetUpdateBalance().subscribe(this.streamObserver);
      };
      CommunicationBase.prototype.observerNext = function(_a) {
        var key = _a[0], resp = _a[1];
        this.emitListener(key, resp);
        this.retryCount = 0;
      };
      CommunicationBase.prototype.observerError = function(error) {
        LibGlobal_1.log("observerError: ", error);
      };
      CommunicationBase.prototype.streamObserverError = function(error) {
        this.errorObserver.next(error);
        LibGlobal_1.log("streamObserverError: ", error);
      };
      CommunicationBase.prototype.observerComplete = function() {};
      CommunicationBase.prototype.retry = function() {
        var key = this.streamAliveKey();
        if (this.subscriptioMap.get(key) && !this.subscriptioMap.get(key).closed) return;
        if (this.loginState === LoginState_1.LoginState.KICKOUT) return;
        if (this.loginState === LoginState_1.LoginState.OFFLINE) return;
        this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error", -1), -1, true, true);
      };
      CommunicationBase.prototype.generateAnyObserver = function(next, error, complete) {
        var out = {};
        Object.assign(out, this.streamObserver, {
          error: error,
          complete: complete,
          next: mapAnyWarper(next)
        });
        return out;
      };
      CommunicationBase.prototype.registListener = function(keyOrKeys, listener, priority) {
        var _this = this;
        void 0 === priority && (priority = 1);
        if (Array.isArray(keyOrKeys)) {
          keyOrKeys.forEach(function(key) {
            return _this.registListener(key, listener, priority);
          });
          return;
        }
        this.listenerMap.has(keyOrKeys) || this.listenerMap.set(keyOrKeys, []);
        this.listenerMap.get(keyOrKeys).push({
          listener: listener,
          priority: priority
        });
        this.listenerMap.get(keyOrKeys).sort(function(a, b) {
          return b.priority - a.priority;
        });
      };
      CommunicationBase.prototype.unregistListener = function(keyOrKeys, listener) {
        var _this = this;
        if (!this.listenerMap) return;
        if (Array.isArray(keyOrKeys)) {
          keyOrKeys.forEach(function(key) {
            return _this.unregistListener(key, listener);
          });
          return;
        }
        var ary = this.listenerMap.get(keyOrKeys);
        if (!ary || !ary.length) return;
        var idx = ary.findIndex(function(a) {
          return a.listener === listener;
        });
        -1 !== idx && this.listenerMap.get(keyOrKeys).splice(idx, 1);
      };
      CommunicationBase.prototype.emitListener = function(key, resp, opts) {
        if (!this.listenerMap.has(key)) {
          "game.HeartbeatRes" !== key && LibGlobal_1.warn("emitListener: 0", key, resp && resp.toObject ? resp.toObject() : resp, opts);
          return;
        }
        this.listenerMap.get(key).forEach(function(listener) {
          listener.listener.onMessage(resp, opts);
        });
      };
      CommunicationBase.prototype.clearListener = function(key) {
        key ? this.listenerMap.delete(key) : this.listenerMap.clear();
      };
      CommunicationBase.prototype.onLoad = function() {
        this.pre();
      };
      CommunicationBase.prototype.pre = function() {
        var _this = this;
        if (this.loaded) return true;
        this.loaded = true;
        this.errorObservable = rxjs_1.Observable.create(function(observer) {
          _this.errorObserver = observer;
        }).pipe(operators_1.debounceTime(500)).subscribe(this.retry.bind(this));
        this.observerNext = this.observerNext.bind(this);
        this.observerError = this.observerError.bind(this);
        this.streamObserverError = this.streamObserverError.bind(this);
        this.observerComplete = this.observerComplete.bind(this);
        this.observer = {
          next: this.observerNext,
          error: this.observerError,
          complete: this.observerComplete
        };
        this.streamObserver = {
          next: this.observerNext,
          error: this.streamObserverError,
          complete: this.observerComplete
        };
        this.tapHideLoading = operators_1.tap(function() {
          return _this.toggleLoading(false);
        }, function() {
          return _this.toggleLoading(false);
        });
        this.doPre && this.doPre();
        return false;
      };
      CommunicationBase.prototype.startHeartbeat = function() {
        this.schedule(this.heartbeatCheck, LibGlobal_1.HEARTBEAT_CHECK_INTERVAL);
      };
      CommunicationBase.prototype.stopHeartbeatCheck = function() {
        this.unschedule(this.heartbeatCheck);
      };
      CommunicationBase.prototype.heartbeatCheck = function() {
        var _this = this;
        if (this.forceHeartbeatCount > 0 || Date.now() - this.lastPingAt > LibGlobal_1.HEARTBEAT_INTERVAL_MS) {
          var requestAt_1 = Date.now();
          var subscription_1 = this.streamHeartbeat().subscribe(function(resp) {
            _this.updateTimeDifference(Math.floor(resp.cTime / 1e6), resp.sTime);
            _this.forceHeartbeatCount -= 1;
            clearTimeout(timeoutId_1);
          }, function(e) {
            LibGlobal_1.log("\u53d6\u6d88\u5fc3\u8df3\u6aa2\u67e5");
            _this.unschedule(_this.heartbeatCheck);
            clearTimeout(timeoutId_1);
          });
          var timeoutId_1 = setTimeout(function() {
            subscription_1.unsubscribe();
            _this.updateTimeDifference(requestAt_1, Utils_1.clientTime2ServerTime(Date.now()));
          }, LibGlobal_1.MAX_LATENCY);
        }
      };
      CommunicationBase.prototype.updateTimeDifference = function(clientTime, serverTime) {
        this.pre();
        var avgPing = this.avgPing(clientTime);
        if (avgPing > 0 && avgPing < this.minAvgPing) {
          this.timeDifference = Utils_1.clientTimeDifferenceServerTime(clientTime, serverTime);
          this.timeDifference > 0 ? this.timeDifference = this.timeDifference - avgPing : this.timeDifference = this.timeDifference + avgPing;
          this.minAvgPing = avgPing;
          LibGlobal_1.log("clientTime: %d serverTime: %d timeDifference: %d avgPing: %d", clientTime, serverTime, this.timeDifference, avgPing);
        }
        if (avgPing >= LibGlobal_1.MAX_LATENCY) {
          this.unschedule(this.heartbeatCheck);
          if (this.loginState === LoginState_1.LoginState.OFFLINE) return;
          this.main.offline(I18nGlobal_1.translateError("NETWORK.sys_net_error", -1), -1, true, true);
        }
      };
      CommunicationBase.prototype.avgPing = function(timestamp) {
        var currentTime = Date.now();
        var latencyTime = currentTime - timestamp;
        var ping;
        if (this.ping.length >= 5) {
          ping = this.ping.shift();
          ping.timestamp = timestamp;
          ping.latencyTime = latencyTime;
        } else ping = new PingData_1.default(timestamp, latencyTime);
        this.lastPingAt = timestamp;
        this.ping.push(ping);
        if (currentTime - this.updatePingTime > 1e3) {
          var avgTime_1 = 0;
          var count_1 = 0;
          this.ping.forEach(function(t) {
            if (currentTime - t.timestamp < 1e3 + LibGlobal_1.MAX_LATENCY) {
              avgTime_1 += t.latencyTime;
              count_1 += 1;
            }
          });
          if (0 === count_1) return LibGlobal_1.MAX_LATENCY + 1;
          avgTime_1 /= count_1;
          this.updatePingTime = currentTime;
          this.netQuality && this.netQuality.setPing(avgTime_1);
          return avgTime_1;
        }
      };
      CommunicationBase.prototype.bindNetQuality = function(netQuality) {
        this.netQuality = netQuality;
      };
      CommunicationBase.prototype.unbindNetQuality = function(netQuality) {
        this.netQuality = null;
      };
      CommunicationBase.prototype.bindMain = function(main) {
        this.main = main;
      };
      CommunicationBase = __decorate([ ccclass ], CommunicationBase);
      return CommunicationBase;
    }(cc.Component);
    exports.default = CommunicationBase;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal",
    "../data/LoginState": "LoginState",
    "../data/PingData": "PingData",
    "../utils/Utils": "Utils",
    "game-protobuf/ts/account/user_pb": 23,
    "game-protobuf/ts/base/base_pb": 24,
    rxjs: 36,
    "rxjs/operators": 232
  } ],
  Count: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "10f956XPf9N8oTdbeQmLbrM", "Count");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.globalDebugCreator = exports.countCreator = void 0;
    function countCreator(MMM, getRespTypeKey) {
      return function(obj, key) {
        void 0 === key && (key = "");
        var protoInstanceName = getRespTypeKey(obj);
        key = key || protoInstanceName && protoInstanceName.toString ? protoInstanceName.toString() : ("", 
        "");
        obj = protoInstanceName ? obj.toObject() : obj;
        if (!MMM.keyTimes[key]) {
          MMM.keyTimes[key] = 0;
          MMM.keyArray[key] = [];
        }
        MMM.keyTimes[key] += 1;
        MMM.keyArray[key].push(obj);
        MMM.array.push([ Date.now(), key, obj.id, obj ]);
        return protoInstanceName;
      };
    }
    exports.countCreator = countCreator;
    function globalDebugCreator(NNN) {
      false;
      return function(obj) {
        NNN.push(obj);
      };
    }
    exports.globalDebugCreator = globalDebugCreator;
    cc._RF.pop();
  }, {} ],
  CurrencyGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c1a1cqQRshKtJkMf+JipYJT", "CurrencyGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getCurrencySuffix = exports.getCurrencyPrefix2 = exports.getCurrencyPrefix = exports.getCurrencyISO = exports.setCurrencyCode = void 0;
    var CURRENCY_SYMBOL_MAP = {
      CNY: [ "\xa5", "1:1" ],
      EUR: [ "\u20ac", "1:1" ],
      GBP: [ "\xa3", "1:1" ],
      HKD: [ "HK$", "1:1" ],
      IDR: [ "\u20a8", "1:1000" ],
      JPY: [ "\xa5", "1:1" ],
      KRW: [ "\u20a9", "1:1" ],
      MYR: [ "RM", "1:1" ],
      SGD: [ "$", "1:1" ],
      THB: [ "\u0e3f", "1:1" ],
      USD: [ "$", "1:1" ],
      VND: [ "\u20ab", "1:1000" ],
      MMK: [ "K", "1:1000" ],
      RUB: [ "\u20bd", "1:1" ],
      TTT: [ "$", "1:1" ],
      INR: [ "\u20b9", "1:1" ],
      AMD: [ "\u0564\u0580.", "1:1" ],
      LKR: [ "\u0bb0\u0bc2", "1:1" ],
      UGX: [ "Sh", "1:1000" ],
      TRY: [ "\u20a4", "1:1" ],
      UAH: [ "\u20b4", "1:1" ],
      NOK: [ "kr", "1:1" ],
      SEK: [ "kr", "1:1" ],
      AUD: [ "$", "1:1" ],
      PLN: [ "z\u0142", "1:1" ],
      KZT: [ "\u0422", "1:1" ],
      BND: [ "$", "1:1" ],
      NGN: [ "\u20a6", "1:1" ],
      KES: [ "Sh", "1:1" ],
      BRL: [ "R$", "1:1" ],
      MXN: [ "$", "1:1" ],
      COP: [ "$", "1:1000" ],
      PEN: [ "S/.", "1:1" ],
      ARS: [ "$", "1:1" ],
      CLP: [ "$", "1:1" ],
      ZAR: [ "R", "1:1" ],
      CAD: [ "$", "1:1" ],
      PKR: [ "\u20a8", "1:1" ],
      IRR: [ "\ufdfc", "1:1000" ],
      TZS: [ "Sh", "1:1000" ],
      NZD: [ "$", "1:1" ],
      CZK: [ "K\u010d", "1:1" ],
      BYN: [ "Br", "1:1" ],
      AZN: [ "\u20bc", "1:1" ],
      TND: [ "\u062f.\u062a", "1:1" ],
      UZS: [ "\u043b\u0432", "1:1000" ],
      XBT: [ "\u20bf", "1000:1" ],
      GEL: [ "\u10da", "1:1" ],
      CHF: [ "Fr", "1:1" ],
      ZMW: [ "ZK", "1:1" ],
      MDL: [ "L", "1:1" ],
      HUF: [ "Ft", "1:1" ],
      "1VND": [ "\u20ab", "1:1" ],
      kVND: [ "\u20ab", "1:1000" ],
      "1IDR": [ "\u20a8", "1:1" ],
      kIDR: [ "Rp", "1:1000" ],
      XAF: [ "Fr", "1:1" ],
      NPR: [ "\u20a8", "1:1" ],
      "1LAK": [ "\u20ad", "1:1" ],
      kLAK: [ "\u20ad", "1:1000" ],
      PHP: [ "\u20b1", "1:1" ],
      KGS: [ "\u043b\u0432", "1:1" ],
      TMT: [ "T", "1:1" ],
      BDT: [ "\u09f3", "1:1" ],
      GHS: [ "GH\u20b5", "1:1" ],
      NIO: [ "C$", "1:1" ],
      USDT: [ "$", "1:1" ],
      IN5: [ "\u20a8", "1:1" ],
      PK5: [ "\u20a8", "1:1" ],
      KHR: [ "\u17db", "1:1" ],
      AED: [ "\u062f.\u0625", "1:1" ]
    };
    var isoCode = "";
    var symbol = "";
    var prefix = "";
    var prefix2 = "";
    var tail = "";
    function setCurrencyCode(code) {
      isoCode = code;
      var arr = CURRENCY_SYMBOL_MAP[isoCode] || [];
      symbol = arr[0] || "";
      var ratio = arr[1] || "";
      if ("kIDR" === isoCode) {
        prefix = symbol;
        prefix2 = "kIDR";
        tail = "";
        return;
      }
      prefix = symbol;
      prefix2 = symbol;
      tail = "1:1000" === ratio ? "K" : "";
    }
    exports.setCurrencyCode = setCurrencyCode;
    function getCurrencyISO() {
      return isoCode;
    }
    exports.getCurrencyISO = getCurrencyISO;
    function getCurrencyPrefix() {
      return prefix;
    }
    exports.getCurrencyPrefix = getCurrencyPrefix;
    function getCurrencyPrefix2() {
      return prefix2;
    }
    exports.getCurrencyPrefix2 = getCurrencyPrefix2;
    function getCurrencySuffix() {
      return tail;
    }
    exports.getCurrencySuffix = getCurrencySuffix;
    cc._RF.pop();
  }, {} ],
  DefaultZIndex: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b781ds7u+BCOJTmg6jsziXI", "DefaultZIndex");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DefaultZIndex = function(_super) {
      __extends(DefaultZIndex, _super);
      function DefaultZIndex() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zIndex = 0;
        return _this;
      }
      DefaultZIndex.prototype.onLoad = function() {
        this.node.zIndex = this.zIndex;
      };
      __decorate([ property(cc.Integer) ], DefaultZIndex.prototype, "zIndex", void 0);
      DefaultZIndex = __decorate([ ccclass ], DefaultZIndex);
      return DefaultZIndex;
    }(cc.Component);
    exports.default = DefaultZIndex;
    cc._RF.pop();
  }, {} ],
  DragControl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "00d8e3psbhIip+OkUv4FnI/", "DragControl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DragControl = function(_super) {
      __extends(DragControl, _super);
      function DragControl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.onDragMoveHandler = null;
        _this.dragNode = null;
        _this.enable = false;
        return _this;
      }
      DragControl.prototype.onLoad = function() {
        var id = this._id;
        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this);
      };
      DragControl.prototype.mouseDown = function(event, moveTarget) {
        this.enable = true;
        this.dragNode = moveTarget || event.getCurrentTarget();
      };
      DragControl.prototype.mouseUp = function() {
        this.enable = false;
        this.dragNode = null;
      };
      DragControl.prototype.mouseMove = function(event) {
        if (this.enable) {
          var loc = event.getLocation();
          var tmp = new cc.Vec2();
          this.camera.getScreenToWorldPoint(loc, tmp);
          var node = this.dragNode;
          var size = cc.view.getVisibleSize();
          var pos = tmp.sub(cc.v2(size.width / 2, size.height / 2));
          pos.x = Math.round(pos.x);
          pos.y = Math.round(pos.y);
          node.setPosition(pos);
          this.onDragMoveHandler && this.onDragMoveHandler.emit([ pos ]);
        }
      };
      __decorate([ property(cc.Camera) ], DragControl.prototype, "camera", void 0);
      __decorate([ property(cc.Component.EventHandler) ], DragControl.prototype, "onDragMoveHandler", void 0);
      DragControl = __decorate([ ccclass ], DragControl);
      return DragControl;
    }(cc.Component);
    exports.default = DragControl;
    cc._RF.pop();
  }, {} ],
  DragPoint: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e13c0G9PVlEvKoRS6Bt9BHg", "DragPoint");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var DragControl_1 = require("./DragControl");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var DragPoint = function(_super) {
      __extends(DragPoint, _super);
      function DragPoint() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dragControlNode = null;
        _this.dragControl = null;
        _this.moveTarget = null;
        _this.draggable = true;
        return _this;
      }
      DragPoint.prototype.onLoad = function() {
        this.dragControl = this.dragControlNode.getComponent(DragControl_1.default);
        this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDown, this);
        this.node.on(cc.Node.EventType.MOUSE_UP, this.mouseUp, this);
        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this);
      };
      DragPoint.prototype.mouseDown = function(event) {
        this.draggable && this.dragControl.mouseDown(event, this.moveTarget);
      };
      DragPoint.prototype.mouseUp = function() {
        this.draggable && this.dragControl.mouseUp();
      };
      DragPoint.prototype.mouseMove = function(event) {
        this.draggable && this.dragControl.mouseMove(event);
      };
      __decorate([ property(cc.Node) ], DragPoint.prototype, "dragControlNode", void 0);
      __decorate([ property(cc.Node) ], DragPoint.prototype, "moveTarget", void 0);
      DragPoint = __decorate([ ccclass ], DragPoint);
      return DragPoint;
    }(cc.Component);
    exports.default = DragPoint;
    cc._RF.pop();
  }, {
    "./DragControl": "DragControl"
  } ],
  FileDrop: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c2c37P02jhAaaO1oONSm2EF", "FileDrop");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var FileDrop = function(_super) {
      __extends(FileDrop, _super);
      function FileDrop() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.onDropHandler = null;
        return _this;
      }
      FileDrop.prototype.onLoad = function() {
        var el = document.getElementById("GameCanvas");
        el.addEventListener("dragover", this.handleDragOver, false);
        el.addEventListener("drop", this.handleFileSelect.bind(this), false);
      };
      FileDrop.prototype.handleDragOver = function(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        evt.dataTransfer.dropEffect = "copy";
      };
      FileDrop.prototype.handleFileSelect = function(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        var files = evt.dataTransfer.files;
        Promise.all(Array.from(files).map(fileReaderPromise)).then(this.readerOnLoadHandler.bind(this));
      };
      FileDrop.prototype.readerOnLoadHandler = function(rs) {
        this.onDropHandler && this.onDropHandler.emit([ rs ]);
      };
      __decorate([ property(cc.Component.EventHandler) ], FileDrop.prototype, "onDropHandler", void 0);
      FileDrop = __decorate([ ccclass ], FileDrop);
      return FileDrop;
    }(cc.Component);
    exports.default = FileDrop;
    function fileReaderPromise(file) {
      var name = file.name;
      var type = file.type;
      return new Promise(function(res, rej) {
        var reader = new FileReader();
        switch (file.type) {
         case "image/png":
         case "image/jpeg":
         case "image/jpg":
          reader.readAsArrayBuffer(file);
          reader.onload = function(e) {
            var image = new Image();
            var url = window.URL.createObjectURL(new Blob([ e.target.result ], {
              type: file.type
            }));
            image.src = url;
            image.onload = function() {
              var d = {
                name: name,
                type: type,
                result: image
              };
              res(d);
            };
          };
          break;

         default:
          reader.readAsText(file);
          reader.onload = function(e) {
            file;
            var d = {
              name: name,
              type: type,
              result: e.target.result
            };
            res(d);
          };
        }
      });
    }
    cc._RF.pop();
  }, {} ],
  ForegroundBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fa4188yEZtNSYVj4zzZyi4c", "ForegroundBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var BigWinBase_1 = require("./BigWinBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ForegroundBase = function(_super) {
      __extends(ForegroundBase, _super);
      function ForegroundBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.canvasNode = null;
        _this.bigWinNode = null;
        _this.bigWin = null;
        _this.commonUIData = null;
        _this.loaded = false;
        _this.bigWinPromise = null;
        return _this;
      }
      ForegroundBase.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.bigWin = this.bigWinNode.getComponent(BigWinBase_1.default);
        this.bigWin.setCanvasWidgetTarget(this.canvasNode);
        this.doPre();
      };
      ForegroundBase.prototype.preloadBigWin = function() {
        var _this = this;
        this.pre();
        if (this.bigWinPromise) return this.bigWinPromise;
        LibGlobal_1.log("load start");
        var next = function() {
          LibGlobal_1.log("load ok");
        };
        var reject = function() {
          (true, _this.bigWinPromise === p) && (_this.bigWinPromise = null);
        };
        var p = this.bigWin.preload().then(next, reject);
        this.bigWinPromise = p;
        return this.bigWinPromise;
      };
      ForegroundBase.prototype.playBigWin = function(data) {
        return __awaiter(this, void 0, void 0, function() {
          var p, e_1;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              p = this.bigWinPromise;
              p || (p = this.preloadBigWin());
              _a.label = 1;

             case 1:
              _a.trys.push([ 1, 3, , 4 ]);
              return [ 4, p ];

             case 2:
              _a.sent();
              return [ 3, 4 ];

             case 3:
              e_1 = _a.sent();
              LibGlobal_1.log("load fail");
              this.done();
              return [ 2 ];

             case 4:
              LibGlobal_1.log("load ok");
              this.deactive(true);
              this.bigWin.node.active = true;
              return [ 4, this.bigWin.play(data) ];

             case 5:
              _a.sent();
              this.done();
              return [ 2 ];
            }
          });
        });
      };
      ForegroundBase.prototype.deactive = function(setAnimation) {
        void 0 === setAnimation && (setAnimation = false);
        setAnimation && this.commonUIData.set("animation", true);
        this.pre();
        [ this.bigWinNode ].forEach(Utils_1.nodeActive(false));
      };
      ForegroundBase.prototype.done = function() {
        this.commonUIData.set("animation", false);
      };
      __decorate([ property(cc.Node) ], ForegroundBase.prototype, "canvasNode", void 0);
      __decorate([ property(cc.Node) ], ForegroundBase.prototype, "bigWinNode", void 0);
      ForegroundBase = __decorate([ ccclass ], ForegroundBase);
      return ForegroundBase;
    }(cc.Component);
    exports.default = ForegroundBase;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./BigWinBase": "BigWinBase"
  } ],
  GraphicsProfile: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "414dbBm/79NdL47A6fLMswR", "GraphicsProfile");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GraphicsProfile = function(_super) {
      __extends(GraphicsProfile, _super);
      function GraphicsProfile() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.graphics = null;
        _this.label = null;
        _this.data = [];
        return _this;
      }
      GraphicsProfile.prototype.onLoad = function() {
        this.graphics = this.graphics || this.getComponent(cc.Graphics);
      };
      GraphicsProfile.prototype.start = function() {
        var node = new cc.Node();
        var label = node.addComponent(cc.Label);
        label.fontSize = 16;
        this.label = label;
        this.label.string = "0.0";
        this.node.addChild(node);
      };
      GraphicsProfile.prototype.pushData = function(num) {
        this.data.push(num);
        this.data.splice(0, this.data.length - this.node.width);
        this.graphics.clear();
        this.graphics.moveTo(-this.node.width / 2, 0);
        for (var i = 0; i < this.data.length - 1; i += 1) this.graphics.lineTo(1 * i - this.node.width / 2, this.data[i]);
        this.graphics.stroke();
        var max = Math.max.apply(Math, this.data);
        var index = this.data.lastIndexOf(max);
        this.label.node.setPosition(cc.v2(index - this.node.width / 2, max));
        this.label.string = max.toFixed(0);
      };
      __decorate([ property(cc.Graphics) ], GraphicsProfile.prototype, "graphics", void 0);
      GraphicsProfile = __decorate([ ccclass ], GraphicsProfile);
      return GraphicsProfile;
    }(cc.Component);
    exports.default = GraphicsProfile;
    cc._RF.pop();
  }, {} ],
  GraphicsTable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b38eKkKqNLzp5kNzKvtDXs", "GraphicsTable");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode;
    var GraphicsTable = function(_super) {
      __extends(GraphicsTable, _super);
      function GraphicsTable() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.graphics = null;
        _this.fill = false;
        _this.xs = [];
        _this.ys = [];
        _this.rect = null;
        return _this;
      }
      GraphicsTable.prototype.onLoad = function() {
        this.graphics = this.graphics || this.getComponent(cc.Graphics);
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onFocusInEditor = function() {
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onLostFocusInEditor = function() {
        this.onLoadDraw();
      };
      GraphicsTable.prototype.onLoadDraw = function() {
        var rect = this.rect;
        var xs = this.xs.slice(0);
        var ys = this.ys.slice(0);
        if (rect && !xs.length && !ys.length) {
          xs = Utils_1.range2(rect.x).map(function(x) {
            return rect.width;
          });
          ys = Utils_1.range2(rect.y).map(function(y) {
            return rect.height;
          });
        }
        this.clear();
        xs.length && ys.length && this.draw(xs, ys);
      };
      GraphicsTable.prototype.draw = function(xs, ys, offset) {
        void 0 === offset && (offset = cc.v2(0, 0));
        var g = this.graphics;
        xs = xs || this.xs;
        ys = ys || this.ys;
        if (!xs.length || !ys.length) return;
        var lx = xs.reduce(Utils_1.sumReducer, 0);
        var ly = ys.reduce(Utils_1.sumReducer, 0);
        var ox = offset.x;
        var oy = offset.y;
        var x = 0;
        var y = 0;
        for (var i = 0; i < xs.length - 1; i += 1) {
          x += xs[i];
          g.moveTo(ox + x, -oy);
          g.lineTo(ox + x, -(oy + ly));
        }
        for (var i = 0; i < ys.length - 1; i += 1) {
          y += ys[i];
          g.moveTo(ox, -(oy + y));
          g.lineTo(ox + lx, -(oy + y));
        }
        g.moveTo(ox, -oy);
        g.lineTo(ox + lx, -oy);
        g.lineTo(ox + lx, -(ox + ly));
        g.lineTo(ox, -(ox + ly));
        g.lineTo(ox, -oy);
        this.fill && g.fill();
        g.stroke();
      };
      GraphicsTable.prototype.clear = function() {
        var g = this.graphics;
        g.clear();
      };
      __decorate([ property(cc.Graphics) ], GraphicsTable.prototype, "graphics", void 0);
      __decorate([ property(cc.Boolean) ], GraphicsTable.prototype, "fill", void 0);
      __decorate([ property({
        type: [ cc.Integer ],
        tooltip: ""
      }) ], GraphicsTable.prototype, "xs", void 0);
      __decorate([ property([ cc.Integer ]) ], GraphicsTable.prototype, "ys", void 0);
      __decorate([ property(cc.Rect) ], GraphicsTable.prototype, "rect", void 0);
      GraphicsTable = __decorate([ ccclass, executeInEditMode ], GraphicsTable);
      return GraphicsTable;
    }(cc.Component);
    exports.default = GraphicsTable;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  Handler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a2931rXoadByY3dl5Jv5uhe", "Handler");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Handler = function(_super) {
      __extends(Handler, _super);
      function Handler() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        _this.customTriggerHandlerName = "";
        _this.handlers = [];
        return _this;
      }
      Handler.prototype.onLoad = function() {
        this.customTriggerHandlerName && (this[this.customTriggerHandlerName] = this.triggerHandler);
      };
      Handler.prototype.triggerHandler = function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        if (!this.handler) return;
        this.handler.emit(__spreadArrays(args));
      };
      Handler.prototype.triggerHandlers = function(index) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
        if (!this.handlers[index]) return;
        this.handlers[index].emit(__spreadArrays(args));
      };
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "triggerHandler"
      }) ], Handler.prototype, "handler", void 0);
      __decorate([ property(cc.String) ], Handler.prototype, "customTriggerHandlerName", void 0);
      __decorate([ property({
        type: [ cc.Component.EventHandler ],
        tooltip: "triggerHandlers"
      }) ], Handler.prototype, "handlers", void 0);
      Handler = __decorate([ ccclass ], Handler);
      return Handler;
    }(cc.Component);
    exports.default = Handler;
    cc._RF.pop();
  }, {} ],
  Hover: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "378b9dg/NZCUp/yzZvmFWql", "Hover");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Hover = function(_super) {
      __extends(Hover, _super);
      function Hover() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.hoverNodes = [];
        return _this;
      }
      Hover.prototype.onEnable = function() {
        this.node.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
        this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
      };
      Hover.prototype.onDisable = function() {
        this.node.off(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);
        this.node.off(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);
      };
      Hover.prototype.onMouseEnter = function() {
        this.hoverNodes.forEach(function(node) {
          return node.active = true;
        });
      };
      Hover.prototype.onMouseLeave = function() {
        this.hoverNodes.forEach(function(node) {
          return node.active = false;
        });
      };
      __decorate([ property([ cc.Node ]) ], Hover.prototype, "hoverNodes", void 0);
      Hover = __decorate([ ccclass ], Hover);
      return Hover;
    }(cc.Component);
    exports.default = Hover;
    cc._RF.pop();
  }, {} ],
  I18nActive: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61a93wM4sdM0ZSS5IWirxGT", "I18nActive");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var I18nManager_1 = require("./I18nManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var I18nActive = function(_super) {
      __extends(I18nActive, _super);
      function I18nActive() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zh_cn = false;
        _this.en_us = false;
        _this.vi_vn = false;
        _this.th_th = false;
        _this.id_id = false;
        _this.ru_ru = false;
        _this.zh_hk = false;
        _this.nodes = [];
        _this.reverse = false;
        _this.loaded = false;
        return _this;
      }
      I18nActive.prototype.onLoad = function() {
        this.pre();
        this.reset(I18nManager_1.getLang());
      };
      I18nActive.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.nodes.length || this.nodes.push(this.node);
      };
      I18nActive.prototype.reset = function(lang) {
        this.pre();
        var bool = Boolean(this[lang]);
        this.reverse && (bool = !bool);
        this.nodes.forEach(Utils_1.nodeActive(bool));
      };
      __decorate([ property({
        displayName: "zh_cn"
      }) ], I18nActive.prototype, "zh_cn", void 0);
      __decorate([ property({
        displayName: "en_us"
      }) ], I18nActive.prototype, "en_us", void 0);
      __decorate([ property({
        displayName: "vi_vn"
      }) ], I18nActive.prototype, "vi_vn", void 0);
      __decorate([ property({
        displayName: "th_th"
      }) ], I18nActive.prototype, "th_th", void 0);
      __decorate([ property({
        displayName: "id_id"
      }) ], I18nActive.prototype, "id_id", void 0);
      __decorate([ property({
        displayName: "ru_ru"
      }) ], I18nActive.prototype, "ru_ru", void 0);
      __decorate([ property({
        displayName: "zh_hk"
      }) ], I18nActive.prototype, "zh_hk", void 0);
      __decorate([ property([ cc.Node ]) ], I18nActive.prototype, "nodes", void 0);
      __decorate([ property({
        displayName: "reverse"
      }) ], I18nActive.prototype, "reverse", void 0);
      I18nActive = __decorate([ ccclass, menu("I18n/I18nActive") ], I18nActive);
      return I18nActive;
    }(cc.Component);
    exports.default = I18nActive;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./I18nManager": "I18nManager"
  } ],
  I18nGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e635enB3hxFv6IXTbxVOR3h", "I18nGlobal");
    "use strict";
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.translateError = exports.translate = exports.setDocumentTitle = exports.extendPolyglot = exports.getMeta = void 0;
    var Polyglot = require("node-polyglot");
    var polyglot = null;
    var metaData = [];
    var metaCache = {};
    function initPolyglot(data) {
      polyglot = new Polyglot({
        phrases: data,
        allowMissing: true
      });
    }
    function getMeta(key) {
      var cache = metaCache[key];
      if (cache) return "{}" === cache ? null : JSON.parse(metaCache[key]);
      var meta = {};
      var len = key.split(".").length;
      var has = false;
      metaData.forEach(function(_a) {
        var k = _a[0], l = _a[1], regex = _a[2], prop = _a[3], v = _a[4];
        if (l < len && regex.test(key)) {
          meta[prop] = v;
          has = true;
        } else if (l === len && k === key) {
          meta[prop] = v;
          has = true;
        }
      });
      metaCache[key] = JSON.stringify(meta);
      return has ? meta : null;
    }
    exports.getMeta = getMeta;
    function extendPolyglot(data) {
      polyglot || initPolyglot({});
      polyglot.extend(data);
      metaData = Object.keys(polyglot.phrases).filter(function(k) {
        return k.startsWith("meta");
      }).map(function(k) {
        var v = polyglot.phrases[k];
        var p = k.replace("meta.", "").split(".");
        var prop = p.pop();
        var k1 = p.join(".");
        var l = p.length;
        var regex = new RegExp("^" + k1.replace(/\*/g, "\\w+").replace(/\./g, "\\."));
        return [ k1, l, regex, prop, v ];
      }).sort(function(a, b) {
        return a[1] - b[1];
      });
      metaCache = {};
    }
    exports.extendPolyglot = extendPolyglot;
    function setDocumentTitle(title) {
      try {
        document.title = title;
      } catch (e) {}
    }
    exports.setDocumentTitle = setDocumentTitle;
    function polyglotTranslate(key, opt) {
      if (polyglot) return polyglot.t(key, opt);
      return "";
    }
    function translate(key) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
      key += "";
      var opt = {};
      args.forEach(function(arg, index) {
        opt[index] = "" + arg;
      });
      return polyglotTranslate(key, opt);
    }
    exports.translate = translate;
    function translateError(key, errorCode) {
      var args = [];
      for (var _i = 2; _i < arguments.length; _i++) args[_i - 2] = arguments[_i];
      var str = translate.apply(void 0, __spreadArrays([ key ], args));
      false;
      return str + "(" + errorCode + ")";
    }
    exports.translateError = translateError;
    cc._RF.pop();
  }, {
    "node-polyglot": 31
  } ],
  I18nLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "31cb6B3xG9JaJHu2rGYrKAl", "I18nLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nLabel = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var I18nMeta_1 = require("./I18nMeta");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var LENGTH = 5;
    var I18nLabel = function(_super) {
      __extends(I18nLabel, _super);
      function I18nLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.refLabel = null;
        _this.parentNode = null;
        _this.active = "";
        _this.straight = false;
        return _this;
      }
      I18nLabel_1 = I18nLabel;
      I18nLabel.prototype.onLoad = function() {
        this.load();
      };
      I18nLabel.prototype.load = function() {
        var str = I18nGlobal_1.translate(this.dataID);
        var meta = I18nGlobal_1.getMeta(this.dataID);
        if (meta) {
          var meta2 = this.addComponent(I18nMeta_1.I18nMeta);
          meta2.dataID = this.dataID;
          meta2.active = this.active;
          meta2.load();
        }
        if (str === this.dataID) {
          if (this.parentNode) {
            this.parentNode.destroy();
            var cs = this.parentNode.getComponents(cc.Component);
            cs.forEach(function(c) {
              return c.destroy();
            });
          }
          this.node.active = false;
          true;
          LibGlobal_1.log("No", str, "in lang");
          return;
        }
        var label = this.getComponent(cc.Label);
        if (label) {
          if (this.straight) if (/[\u4e00-\u9fa5]/.test(str)) str = str.replace(/\s/g, "").split("").join("\n"); else {
            var n = label.node;
            var w = n.width;
            var h = n.height;
            n.angle = 90;
            n.width = h;
            n.height = w;
          }
          label.string = str;
          if (this.refLabel) {
            var i = this.refLabel.getComponent(I18nLabel_1);
            if (i) {
              var str2 = I18nGlobal_1.translate(i.dataID);
              if (str2 === i.dataID) {
                var len = str.split("\n").length;
                var str3 = Utils_1.range2(LENGTH, LENGTH - len + 1).map(function(l) {
                  return l + " -";
                }).join("\n");
                this.refLabel.node.active = true;
                this.refLabel.string = str3;
              }
            }
          }
          return;
        }
        var rtext = this.getComponent(cc.RichText);
        rtext && (rtext.string = str);
      };
      var I18nLabel_1;
      __decorate([ property(cc.String) ], I18nLabel.prototype, "dataID", void 0);
      __decorate([ property({
        type: cc.Label,
        tooltip: "\u8a08\u7b97 5 -\n4 -\n"
      }) ], I18nLabel.prototype, "refLabel", void 0);
      __decorate([ property(cc.Node) ], I18nLabel.prototype, "parentNode", void 0);
      __decorate([ property(cc.String) ], I18nLabel.prototype, "active", void 0);
      __decorate([ property(cc.Boolean) ], I18nLabel.prototype, "straight", void 0);
      I18nLabel = I18nLabel_1 = __decorate([ ccclass, menu("I18n/I18nLabel") ], I18nLabel);
      return I18nLabel;
    }(cc.Component);
    exports.I18nLabel = I18nLabel;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./I18nMeta": "I18nMeta"
  } ],
  I18nManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ff99aVKoMRJaqab4LWiZkRv", "I18nManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.setLang = exports.getLang = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var IframeGlobal_1 = require("../IframeGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var l = ResourcesLoader_1.DEFAULT_LANG;
    function getLang() {
      return l;
    }
    exports.getLang = getLang;
    function setLang(lang) {
      l = lang;
    }
    exports.setLang = setLang;
    var I18nManager = function(_super) {
      __extends(I18nManager, _super);
      function I18nManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.langJsonAssets = [];
        return _this;
      }
      I18nManager.prototype.onLoad = function() {
        var l = ResourcesLoader_1.getResourcesLoader();
        this.load(this.langJsonAssets.concat(l.keyJsonAssets.map(function(kja) {
          return kja.jsonAsset;
        })));
      };
      I18nManager.prototype.load = function(jsonAssets) {
        if (!jsonAssets.length) return;
        jsonAssets.map(function(jsonAsset) {
          return jsonAsset.json;
        }).forEach(I18nGlobal_1.extendPolyglot);
        var webTitle = I18nGlobal_1.translate("WEB.title");
        I18nGlobal_1.setDocumentTitle(webTitle);
        IframeGlobal_1.changeTitle(webTitle);
      };
      __decorate([ property([ cc.JsonAsset ]) ], I18nManager.prototype, "langJsonAssets", void 0);
      I18nManager = __decorate([ ccclass, menu("I18n/I18nManager") ], I18nManager);
      return I18nManager;
    }(cc.Component);
    exports.default = I18nManager;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../IframeGlobal": "IframeGlobal",
    "../script/ResourcesLoader": "ResourcesLoader"
  } ],
  I18nMetaActive: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6c698r9z+xLR5WsNCddi0Xm", "I18nMetaActive");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nMetaActive = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executionOrder = _a.executionOrder;
    var I18nMetaActive = function(_super) {
      __extends(I18nMetaActive, _super);
      function I18nMetaActive() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.active = "";
        return _this;
      }
      I18nMetaActive.prototype.start = function() {
        this.load();
      };
      I18nMetaActive.prototype.load = function() {
        var node = this.node;
        var meta = I18nGlobal_1.getMeta(this.dataID);
        if (!meta) return;
        if (meta.active) this.active && (node.active = this.active === meta.active); else {
          true;
          LibGlobal_1.warn("No meta ", this.dataID, ".active.");
        }
      };
      __decorate([ property ], I18nMetaActive.prototype, "dataID", void 0);
      __decorate([ property ], I18nMetaActive.prototype, "active", void 0);
      I18nMetaActive = __decorate([ ccclass, menu("I18n/I18nMetaActive") ], I18nMetaActive);
      return I18nMetaActive;
    }(cc.Component);
    exports.I18nMetaActive = I18nMetaActive;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal"
  } ],
  I18nMetaFont: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6e6303a5vFAErLWgQx0hh2E", "I18nMetaFont");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nMetaFont = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var ResourcesFont_1 = require("../script/ResourcesFont");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var I18nMetaFont = function(_super) {
      __extends(I18nMetaFont, _super);
      function I18nMetaFont() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        return _this;
      }
      I18nMetaFont.prototype.start = function() {
        this.load();
      };
      I18nMetaFont.prototype.load = function() {
        var node = this.node;
        var meta = I18nGlobal_1.getMeta(this.dataID);
        if (!meta) return;
        if (meta.fnt) {
          var lf = node.getComponent(ResourcesFont_1.default);
          lf || (lf = node.addComponent(ResourcesFont_1.default));
          lf.keyStrs = [ {
            key: meta.fnt,
            str: ""
          } ];
        }
      };
      __decorate([ property ], I18nMetaFont.prototype, "dataID", void 0);
      I18nMetaFont = __decorate([ ccclass, menu("I18n/I18nMetaFont"), requireComponent(cc.Label) ], I18nMetaFont);
      return I18nMetaFont;
    }(cc.Component);
    exports.I18nMetaFont = I18nMetaFont;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../script/ResourcesFont": "ResourcesFont"
  } ],
  I18nMeta: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "724a880npJD8pt0jGvDqX59", "I18nMeta");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nMeta = void 0;
    var I18nGlobal_1 = require("../I18nGlobal");
    var I18nMetaActive_1 = require("./I18nMetaActive");
    var I18nMetaFont_1 = require("./I18nMetaFont");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var I18nMeta = function(_super) {
      __extends(I18nMeta, _super);
      function I18nMeta() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.active = "";
        _this.loaded = false;
        return _this;
      }
      I18nMeta.prototype.onLoad = function() {
        this.load();
      };
      I18nMeta.prototype.load = function() {
        if (this.loaded) return;
        var node = this.node;
        var meta = I18nGlobal_1.getMeta(this.dataID);
        if (!meta) return;
        this.loaded = true;
        if (meta.fnt) {
          var font = node.addComponent(I18nMetaFont_1.I18nMetaFont);
          font.dataID = this.dataID;
        }
        if (meta.active) {
          var active = node.addComponent(I18nMetaActive_1.I18nMetaActive);
          active.dataID = this.dataID;
          active.active = this.active;
        }
        meta.scale && (this.node.scale = Number(meta.scale));
        meta.x && (this.node.x = Number(meta.x));
        meta.y && (this.node.y = Number(meta.y));
        meta.w && (this.node.width = Number(meta.w));
        meta.h && (this.node.height = Number(meta.h));
        if (meta.lineHeight) {
          var label = this.node.getComponent(cc.Label);
          label && (label.lineHeight = Number(meta.lineHeight));
          var richText = this.node.getComponent(cc.RichText);
          richText && (richText.lineHeight = Number(meta.lineHeight));
        }
      };
      __decorate([ property ], I18nMeta.prototype, "dataID", void 0);
      __decorate([ property ], I18nMeta.prototype, "active", void 0);
      I18nMeta = __decorate([ ccclass, menu("I18n/I18nMeta") ], I18nMeta);
      return I18nMeta;
    }(cc.Component);
    exports.I18nMeta = I18nMeta;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "./I18nMetaActive": "I18nMetaActive",
    "./I18nMetaFont": "I18nMetaFont"
  } ],
  I18nSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "25f74Eq/kxOya+jbJLEIWzA", "I18nSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.I18nSprite = void 0;
    var KeyStr_1 = require("../data/KeyStr");
    var I18nGlobal_1 = require("../I18nGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var PromiseManager_1 = require("../script/PromiseManager");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var LoadAtlas_1 = require("./LoadAtlas");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var delimiter0 = "&";
    var delimiter1 = ";";
    var delimiter2 = ",";
    var delimiter3 = "=";
    var I18nSprite = function(_super) {
      __extends(I18nSprite, _super);
      function I18nSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dataID = "";
        _this.parentNode = null;
        _this.delay = false;
        return _this;
      }
      I18nSprite.prototype.onLoad = function() {
        if (this.delay) return;
        this.load();
      };
      I18nSprite.prototype.load = function() {
        var _this = this;
        var str = I18nGlobal_1.translate(this.dataID);
        if (str === this.dataID) {
          this.node.active = false;
          this.parentNode && (this.parentNode.active = false);
          return;
        }
        var l = ResourcesLoader_1.getResourcesLoader();
        var la = LoadAtlas_1.getLoadAtlas();
        var sprite = this.getComponent(cc.Sprite);
        var skeleton = this.getComponent(sp.Skeleton);
        var clear = function(node) {
          node.x = 0;
          node.y = 0;
          node.scale = 1;
        };
        str.split(delimiter0).forEach(function(s, i) {
          var arr = s.split(delimiter1);
          var key = arr[0];
          var ks = KeyStr_1.str2KeyStr(key);
          var node;
          if (sprite) {
            var kas = l.keyAtlass.concat(la.keyAtlass);
            var arr_1 = [ ks ];
            ks.str || (arr_1 = kas.map(function(ka) {
              return {
                key: ka.key,
                str: ks.key
              };
            }));
            var f = KeyStr_1.findFrame(arr_1, kas);
            var sp0 = void 0;
            if (0 === i) {
              node = sprite.node;
              sp0 = sprite;
            } else {
              node = cc.instantiate(sprite.node);
              clear(node);
              sp0 = node.getComponent(cc.Sprite);
              _this.node.addChild(node);
            }
            sp0.spriteFrame = f.frame;
          } else if (skeleton) {
            var sds = la.skeletonDatas.concat(l.skeletonDatas);
            var ksd = sds.reduce(Utils_1.toObjectReducer("name"), {});
            if (!ks.str) {
              ks.str = ks.key;
              ks.key = "spine_symbol";
            }
            ksd[ks.key] || LibGlobal_1.warn("Can't find", ks.key, "in LoadAtlas#skeletonDatas", ksd);
            var ske = void 0;
            if (0 === i) {
              node = skeleton.node;
              ske = skeleton;
            } else {
              node = cc.instantiate(skeleton.node);
              clear(node);
              ske = node.getComponent(sp.Skeleton);
              _this.node.addChild(node);
            }
            ske.skeletonData = ksd[ks.key];
            PromiseManager_1.spSkeletonSetAnimation(ske, ks.str);
          }
          arr[1] && arr[1].split(delimiter2).map(function(p) {
            var _a = p.split(delimiter3), k = _a[0], v = _a[1];
            node[k] = Number(v);
          });
        });
      };
      __decorate([ property({
        tooltip: ""
      }) ], I18nSprite.prototype, "dataID", void 0);
      __decorate([ property(cc.Node) ], I18nSprite.prototype, "parentNode", void 0);
      __decorate([ property(cc.Boolean) ], I18nSprite.prototype, "delay", void 0);
      I18nSprite = __decorate([ ccclass, menu("I18n/I18nSprite") ], I18nSprite);
      return I18nSprite;
    }(cc.Component);
    exports.I18nSprite = I18nSprite;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../LibGlobal": "LibGlobal",
    "../data/KeyStr": "KeyStr",
    "../script/PromiseManager": "PromiseManager",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./LoadAtlas": "LoadAtlas"
  } ],
  ICCIinterface: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b577fLkZuhPGY0orLRLtEAK", "ICCIinterface");
    cc._RF.pop();
  }, {} ],
  IframeGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e0f7df5H9NO0YTFwEPoQl8w", "IframeGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.progressDraLoading = exports.showDraLoading = exports.hideDraLoading = exports.toggleDOMLandscapeHint = exports.iframeAlert = exports.downloadAlert = exports.DownloadAlertError = exports.report = exports.loginFinished2 = exports.loginFinished = exports.reload = exports.openPage = exports.gotoUrl = exports.changeTitle = exports.postOutGame = exports.openRecord = exports.genUrl = exports.doLocationReplace = exports.gotoGame = exports.backToLobby = exports.getHrefURLParams = exports.getLocationHref = exports.hasWindowParent = exports.getIsLoginFromLobby = exports.setIsLoginFromLobby = void 0;
    var base_pb_1 = require("@aceqilin/utilities-protobuf/ts/base/base_pb");
    var LibGlobal_1 = require("./LibGlobal");
    var WebViewGlobal_1 = require("./script/WebViewGlobal");
    var Utils_1 = require("./utils/Utils");
    var isLoginFromLobby = false;
    function setIsLoginFromLobby(isLobby) {
      isLoginFromLobby = isLobby;
    }
    exports.setIsLoginFromLobby = setIsLoginFromLobby;
    function getIsLoginFromLobby() {
      return isLoginFromLobby;
    }
    exports.getIsLoginFromLobby = getIsLoginFromLobby;
    var lobbyId = "0001";
    var staticUrlPath = "/h5/v3/";
    var urlPath = "game.html";
    function hasWindowParent() {
      return window.parent !== window;
    }
    exports.hasWindowParent = hasWindowParent;
    function getLocationHref() {
      return window.location.href;
    }
    exports.getLocationHref = getLocationHref;
    var hup;
    function getHrefURLParams(key) {
      hup || (hup = Utils_1.parseURLParams(getLocationHref()));
      return hup && hup[key] && hup[key][0] || "";
    }
    exports.getHrefURLParams = getHrefURLParams;
    function backToLobby(comm, callback, token, music, sound) {
      var isFromLobby = getIsLoginFromLobby();
      var hasParent = hasWindowParent();
      var path = hasParent ? urlPath : "";
      if (isFromLobby && hasParent) if ("guest" === token) {
        callback(base_pb_1.MsgCode.SUCCESS);
        doLocationReplace(getLocationHref(), lobbyId, path, token, music, sound, "0");
      } else comm.requestLink(lobbyId).subscribe(function(res) {
        var code = res.getResult ? res.getResult().getCode() : base_pb_1.MsgCode.SUCCESS;
        callback(code);
        if (code !== base_pb_1.MsgCode.SUCCESS) return;
        doLocationReplace(getLocationHref(), lobbyId, path, res.getToken(), music, sound, "0");
      }, function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        callback(-1);
        LibGlobal_1.warn.apply(void 0, args);
      }); else if (isFromLobby) callback(base_pb_1.MsgCode.SUCCESS); else {
        callback(base_pb_1.MsgCode.SUCCESS);
        WebViewGlobal_1.webViewMode() ? WebViewGlobal_1.exitApp() : postOutGame();
      }
    }
    exports.backToLobby = backToLobby;
    function gotoGame(comm, callback, token, music, sound, gid, lbi) {
      var hasParent = hasWindowParent();
      var path = hasParent ? urlPath : "";
      if ("guest" === token) {
        callback(base_pb_1.MsgCode.SUCCESS);
        doLocationReplace(getLocationHref(), gid, path, token, music, sound, "1", lbi);
      } else comm.requestLink(gid).subscribe(function(res) {
        LibGlobal_1.log(res.toObject());
        var code = res.getResult ? res.getResult().getCode() : base_pb_1.MsgCode.SUCCESS;
        callback(code);
        if (code !== base_pb_1.MsgCode.SUCCESS) return;
        doLocationReplace(getLocationHref(), gid, path, res.getToken(), music, sound, "1", lbi);
      }, function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        callback(-1);
        LibGlobal_1.warn.apply(void 0, args);
      });
    }
    exports.gotoGame = gotoGame;
    function doLocationReplace(url, gid, path, token, music, sound, isLobby, lbi, staticUrl, dynamicUrl) {
      void 0 === isLobby && (isLobby = "0");
      void 0 === lbi && (lbi = "");
      void 0 === staticUrl && (staticUrl = "");
      void 0 === dynamicUrl && (dynamicUrl = "");
      hasWindowParent() && parent.postMessage(JSON.stringify({
        method: "draLoadingShow",
        data: gid
      }), "*");
      LibGlobal_1.log("location replace", url);
      var rup = Utils_1.parseURLParams(url);
      var params = [ "1" === isLobby ? {
        k: "islobby",
        v: "1"
      } : null, "" === lbi ? null : {
        k: "lbi",
        v: lbi
      }, "" === lbi ? null : {
        k: "ii",
        v: lbi
      }, {
        k: "music",
        v: music
      }, {
        k: "sound",
        v: sound
      }, {
        k: "time",
        v: Date.now() + ""
      }, {
        k: "token",
        v: token
      } ];
      var skipParams = params.map(function(kv) {
        return kv ? kv.k : null;
      }).filter(Utils_1.identity);
      var host = rup.host && rup.host[0];
      host && params.push({
        k: "host",
        v: host.replace(/\/\d{4}$/, "/" + gid)
      });
      url = url.replace(/\/[\d]{4}([\/\?])/, "/" + gid + "$1");
      url = genUrl(url, params, path);
      LibGlobal_1.log("location replace", url);
      gotoUrl(url);
    }
    exports.doLocationReplace = doLocationReplace;
    function genUrl(linkUrl, params, path) {
      void 0 === path && (path = "");
      params.forEach(function(param) {
        if (!param) return;
        linkUrl = Utils_1.replaceParamVal(linkUrl, param.k, param.v);
      });
      if (path) {
        var lu0 = linkUrl.split("?")[0];
        var regex = new RegExp(path + "/?$");
        if (regex.test(lu0)) return linkUrl;
        var lu1 = linkUrl.split("?")[1];
        var lu0last = lu0[lu0.length - 1];
        return lu0 + ("/" === lu0last ? "" : "/") + path + "?" + lu1;
      }
      return linkUrl;
    }
    exports.genUrl = genUrl;
    function openRecord(token, gameId) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "betPageShow",
        data: {
          token: token,
          gid: gameId
        }
      }), "*");
    }
    exports.openRecord = openRecord;
    function postOutGame() {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "outGame"
      }), "*");
    }
    exports.postOutGame = postOutGame;
    function changeTitle(title) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "changeTitle",
        data: title
      }), "*");
    }
    exports.changeTitle = changeTitle;
    function gotoUrl(url) {
      if (hasWindowParent()) window.parent.postMessage(JSON.stringify({
        method: "goto",
        data: url
      }), "*"); else try {
        window.location.replace(url);
      } catch (e) {}
    }
    exports.gotoUrl = gotoUrl;
    function openPage(url) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "pageShow",
        data: {
          url: url
        }
      }), "*");
    }
    exports.openPage = openPage;
    function reload() {
      hasWindowParent() ? window.parent.postMessage(JSON.stringify({
        method: "reload"
      }), "*") : window.location.reload();
    }
    exports.reload = reload;
    function loginFinished(msg) {
      report("login", "finish", msg);
    }
    exports.loginFinished = loginFinished;
    function loginFinished2(gameId, msg, loadTime, balance, currency) {
      void 0 === loadTime && (loadTime = 0);
      void 0 === balance && (balance = 0);
      void 0 === currency && (currency = "CNY");
      LibGlobal_1.log("login", "", "login", {
        gameId: gameId,
        msg: msg,
        loadTime: loadTime,
        balance: balance,
        currency: currency
      });
      report("login", "", "login", {
        gameId: gameId,
        msg: msg,
        loadTime: loadTime,
        balance: balance,
        currency: currency
      });
    }
    exports.loginFinished2 = loginFinished2;
    function report(event, label, category, args) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "report",
        data: {
          event: event,
          label: label,
          category: category,
          args: args
        }
      }), "*");
    }
    exports.report = report;
    var DownloadAlertError;
    (function(DownloadAlertError) {
      DownloadAlertError[DownloadAlertError["NONE"] = 0] = "NONE";
      DownloadAlertError[DownloadAlertError["SCRIPT"] = -1] = "SCRIPT";
      DownloadAlertError[DownloadAlertError["SCENE"] = -2] = "SCENE";
      DownloadAlertError[DownloadAlertError["RESOURCE"] = -3] = "RESOURCE";
    })(DownloadAlertError = exports.DownloadAlertError || (exports.DownloadAlertError = {}));
    function downloadAlert(code) {
      iframeAlert("system.download_error", {
        code: code
      });
    }
    exports.downloadAlert = downloadAlert;
    function iframeAlert(key, args) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "alert",
        data: {
          key: key,
          args: args
        }
      }), "*");
    }
    exports.iframeAlert = iframeAlert;
    function toggleDOMLandscapeHint(able) {
      hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "showLandscape",
        data: able
      }), "*");
    }
    exports.toggleDOMLandscapeHint = toggleDOMLandscapeHint;
    function hideDraLoading() {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingHide",
        data: 0
      }), "*");
    }
    exports.hideDraLoading = hideDraLoading;
    function showDraLoading(gid) {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingShow",
        data: gid
      }), "*");
    }
    exports.showDraLoading = showDraLoading;
    function progressDraLoading(percent) {
      parent && window.parent !== window && parent.postMessage(JSON.stringify({
        method: "draLoadingUpdateProgress",
        data: percent
      }), "*");
    }
    exports.progressDraLoading = progressDraLoading;
    cc._RF.pop();
  }, {
    "./LibGlobal": "LibGlobal",
    "./script/WebViewGlobal": "WebViewGlobal",
    "./utils/Utils": "Utils",
    "@aceqilin/utilities-protobuf/ts/base/base_pb": 6
  } ],
  InfoBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f927eAw7PdO2ZmRsQDIsblT", "InfoBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIToggle_1 = require("../../../game-client-lib/runtime-scripts/component/UIToggle");
    var Utils_1 = require("../utils/Utils");
    var PrefabManager_1 = require("./PrefabManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoBase = function(_super) {
      __extends(InfoBase, _super);
      function InfoBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.prefabManager = null;
        _this.targetNode = null;
        _this.contentNodes = [];
        _this.uiToggle = null;
        _this.jsonAsset = null;
        _this.jsonRootName = "info";
        _this.keyAtlass = [];
        _this.currentIndex = 0;
        _this.loaded = false;
        return _this;
      }
      InfoBase.prototype.onLoad = function() {
        var _this = this;
        if (!this.jsonAsset || !this.jsonRootName || !this.prefabManager) return;
        var datas = this.jsonAsset.json[this.jsonRootName];
        this.pre(datas, this.prefabManager);
        this.contentNodes = datas.map(function(data) {
          var node = _this.drawContent(_this.prefabManager, data);
          _this.targetNode.addChild(node);
          return node;
        });
      };
      InfoBase.prototype.onEnable = function() {
        var datas = this.jsonAsset.json[this.jsonRootName];
        this.post(datas, this.prefabManager);
      };
      InfoBase.prototype.toggleContent = function(index) {
        this.contentNodes.forEach(Utils_1.nodeActive(false));
        this.contentNodes[index].active = true;
        this.currentIndex = index;
        this.postToggleContent(index);
      };
      InfoBase.prototype.toggle = function(able) {
        void 0 === able && (able = !this.uiToggle.able);
        this.uiToggle.toggle(able);
        able && this.toggleContent(0);
      };
      InfoBase.prototype.onToggleClick = function() {
        this.toggle();
      };
      InfoBase.prototype.onCloseClick = function() {
        this.toggle(false);
      };
      InfoBase.prototype.onOpenClick = function() {
        this.toggle(true);
      };
      __decorate([ property(PrefabManager_1.default) ], InfoBase.prototype, "prefabManager", void 0);
      __decorate([ property(cc.Node) ], InfoBase.prototype, "targetNode", void 0);
      __decorate([ property(UIToggle_1.default) ], InfoBase.prototype, "uiToggle", void 0);
      __decorate([ property(cc.String) ], InfoBase.prototype, "jsonRootName", void 0);
      InfoBase = __decorate([ ccclass ], InfoBase);
      return InfoBase;
    }(cc.Component);
    exports.default = InfoBase;
    cc._RF.pop();
  }, {
    "../../../game-client-lib/runtime-scripts/component/UIToggle": "UIToggle",
    "../utils/Utils": "Utils",
    "./PrefabManager": "PrefabManager"
  } ],
  InfoConfigBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0806bUspGhM8Z21k8aJoiA+", "InfoConfigBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var InfoBase_1 = require("./InfoBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoConfigBase = function(_super) {
      __extends(InfoConfigBase, _super);
      function InfoConfigBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.infoNode = null;
        _this.jsonAsset = null;
        _this.keyAtlass = [];
        return _this;
      }
      InfoConfigBase.prototype.onLoad = function() {
        var infoBase = this.infoNode.getComponent(InfoBase_1.default);
        infoBase.jsonAsset = this.jsonAsset;
        infoBase.keyAtlass = this.keyAtlass;
      };
      __decorate([ property(cc.Node) ], InfoConfigBase.prototype, "infoNode", void 0);
      __decorate([ property(cc.JsonAsset) ], InfoConfigBase.prototype, "jsonAsset", void 0);
      __decorate([ property([ KeyAtlas_1.KeyAtlas ]) ], InfoConfigBase.prototype, "keyAtlass", void 0);
      InfoConfigBase = __decorate([ ccclass ], InfoConfigBase);
      return InfoConfigBase;
    }(cc.Component);
    exports.default = InfoConfigBase;
    cc._RF.pop();
  }, {
    "../data/KeyAtlas": "KeyAtlas",
    "./InfoBase": "InfoBase"
  } ],
  InfoLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f56f5SE/hlPL4zL6KOmfIi/", "InfoLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LayoutShrinkLabel_1 = require("../component/LayoutShrinkLabel");
    var TemplateGenerator_1 = require("../component/TemplateGenerator");
    var I18nGlobal_1 = require("../I18nGlobal");
    var InfoPage_1 = require("../ui/InfoPage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var InfoLabel = function(_super) {
      __extends(InfoLabel, _super);
      function InfoLabel() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      InfoLabel.prototype.onLoad = function() {
        _super.prototype.onLoad.call(this);
        var ip = this.getComponent(InfoPage_1.default);
        var page = ip.page;
        var lsr = this.getComponent(LayoutShrinkLabel_1.default);
        for (var i = 1; i < 100; i += 1) {
          var kl = "INFO." + page + ".s" + i + "_l";
          var kr = "INFO." + page + ".s" + i + "_r";
          var ky = "INFO." + page + ".s" + i + "_y";
          var sl = I18nGlobal_1.translate(kl);
          var sr = I18nGlobal_1.translate(kr);
          var sy = I18nGlobal_1.translate(ky);
          var hr = sr !== kr;
          var hl = sl !== kl;
          var hy = sy !== ky;
          if (hy) {
            var node = this.getNode(2);
            var l = node.getComponent(cc.Label);
            l.string = sy;
            lsr.labels.push(l);
            this.node.addChild(node);
          }
          if (hl) {
            var node = this.getNode(0);
            var l = node.getComponent(cc.Label);
            l.string = sl;
            lsr.labels.push(l);
            this.node.addChild(node);
          }
          if (hr) {
            var node = this.getNode(1);
            var rt = node.getComponent(cc.RichText);
            rt.string = sr;
            lsr.richTexts.push(rt);
            this.node.addChild(node);
          }
          if (!hl && !hr && !hy) break;
        }
      };
      InfoLabel = __decorate([ ccclass, requireComponent(LayoutShrinkLabel_1.default), executionOrder(-1) ], InfoLabel);
      return InfoLabel;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = InfoLabel;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "../component/TemplateGenerator": "TemplateGenerator",
    "../ui/InfoPage": "InfoPage"
  } ],
  InfoPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e91f8Bss69LBKV3L01mbLID", "InfoPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var InfoPage = function(_super) {
      __extends(InfoPage, _super);
      function InfoPage() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.page = "";
        return _this;
      }
      __decorate([ property(cc.String) ], InfoPage.prototype, "page", void 0);
      InfoPage = __decorate([ ccclass ], InfoPage);
      return InfoPage;
    }(cc.Component);
    exports.default = InfoPage;
    cc._RF.pop();
  }, {} ],
  IosHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d70a4zAnYFDBqzvvpRTEkyf", "IosHack");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.iosHack = void 0;
    function iosHack() {
      if (!cc.sys.isMobile && cc.sys.BROWSER_TYPE_SAFARI) {
        var isMobile = iosSafariMobile();
        cc.sys.isMobile = isMobile;
      }
      if ("2.2.2" !== cc.ENGINE_VERSION) return;
      var isIOS14Device = cc.sys.os === cc.sys.OS_IOS && cc.sys.isBrowser && cc.sys.isMobile && /iPhone OS 14/.test(window.navigator.userAgent);
      "2.2.2" === cc.ENGINE_VERSION && isIOS14Device && ios14Hack();
    }
    exports.iosHack = iosHack;
    function iosSafariMobile() {
      if (/iPad/i.test(navigator.userAgent)) return true;
      if (/Macintosh/i.test(navigator.userAgent)) try {
        document.createEvent("TouchEvent");
        return true;
      } catch (e) {}
      return false;
    }
    function ios14Hack() {
      cc.MeshBuffer.prototype.checkAndSwitchBuffer = function(vertexCount) {
        if (this.vertexOffset + vertexCount > 65535) {
          this.uploadData();
          this._batcher._flush();
        }
      };
      cc.MeshBuffer.prototype.forwardIndiceStartToOffset = function() {
        this.uploadData();
        this.switchBuffer();
      };
    }
    cc._RF.pop();
  }, {} ],
  ItemReusableScrollView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2807b6r2ZhKLLXnzbbHNgiY", "ItemReusableScrollView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var EPSILON = 1e-4;
    function calHeight(len, height, spacing) {
      return Utils_1.toNaturalNumber(len) * height + Utils_1.toNaturalNumber(len - 1) * spacing;
    }
    var buffer = 1;
    var ItemReusableScrollView = function(_super) {
      __extends(ItemReusableScrollView, _super);
      function ItemReusableScrollView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templatePrefeb = null;
        _this.template = null;
        _this.contentLayout = null;
        _this.view = null;
        _this.datas = [];
        _this.applyDataToTemplate = null;
        _this.scrollbarNode = null;
        _this.scrollbarFrame = null;
        _this.barFrame = null;
        _this.dataNodePool = new cc.NodePool();
        _this.dataNodes = [];
        _this.firstIndex = 0;
        _this.dataIndexs = [];
        _this.topNode = new cc.Node("top");
        _this.bottomNode = new cc.Node("bottom");
        _this.prevTopZ = 0;
        _this.prevBottomZ = 0;
        _this.totalZ = 0;
        _this.maxZ = 0;
        _this.nodeCount = 0;
        _this.viewZ = 0;
        _this.templateZ = 0;
        _this.spacingZ = 0;
        _this.type = cc.Layout.Type.NONE;
        return _this;
      }
      ItemReusableScrollView.prototype.isX = function() {
        return this.type === cc.Layout.Type.HORIZONTAL;
      };
      ItemReusableScrollView.prototype.onLoad = function() {
        this.template = this.templatePrefeb ? cc.instantiate(this.templatePrefeb) : this.content.children[0];
        this.content.removeAllChildren();
        this.type = this.contentLayout.type;
        this.viewZ = this.isX() ? this.view.width : this.view.height;
        this.templateZ = this.isX() ? this.template.width : this.template.height;
        this.spacingZ = this.isX() ? this.contentLayout.spacingX : this.contentLayout.spacingY;
        this.nodeCount = Utils_1.toNaturalNumber(Math.ceil(this.viewZ / this.templateZ)) + 2 * buffer;
        this.content.addChild(this.topNode, 0);
        this.content.addChild(this.bottomNode, 2);
      };
      ItemReusableScrollView.prototype.setContentPosition = function(position, force) {
        void 0 === force && (force = false);
        if (!force && position.fuzzyEquals(this.getContentPosition(), EPSILON)) return;
        this.content.setPosition(position);
        this.updateContent();
        this._outOfBoundaryAmountDirty = true;
      };
      ItemReusableScrollView.prototype.posZtoZ = function(posZ) {
        var half = (this.totalZ - this.viewZ) / 2;
        return posZ + half;
      };
      ItemReusableScrollView.prototype.zToPosZ = function(z) {
        var half = (this.totalZ - this.viewZ) / 2;
        return (this.isX() ? -1 : 1) * (z - half);
      };
      ItemReusableScrollView.prototype.zToPctVec = function(z) {
        var pct = new cc.Vec2(0, 0);
        pct[this.isX() ? "x" : "y"] = z / this.totalZ;
        return pct;
      };
      ItemReusableScrollView.prototype.zToVec = function(z) {
        var v = new cc.Vec2(0, 0);
        v[this.isX() ? "x" : "y"] = this.zToPosZ(this.fixZ(z));
        return v;
      };
      ItemReusableScrollView.prototype.fixZ = function(z) {
        if (z < 0) return 0;
        if (z > this.maxZ) return this.maxZ;
        return z;
      };
      ItemReusableScrollView.prototype.setContentZ = function(z) {
        this.setContentPosition(this.zToVec(z), true);
      };
      ItemReusableScrollView.prototype.scrollToZ = function(z) {
        this.scrollTo(this.zToPctVec(z));
      };
      ItemReusableScrollView.prototype.getContentZ = function() {
        var pos = this.getContentPosition();
        var posZ = this.isX() ? -pos.x : pos.y;
        return this.fixZ(this.posZtoZ(posZ));
      };
      ItemReusableScrollView.prototype.updateContent = function(force, z) {
        void 0 === force && (force = false);
        var pos = this.getContentPosition();
        var posZ = this.isX() ? -pos.x : pos.y;
        var datas = this.datas;
        z = "undefined" === typeof z ? this.posZtoZ(posZ) : z;
        z = this.fixZ(z);
        if (z < this.templateZ) this.firstIndex = 0; else {
          var i = (z - this.templateZ) / (this.templateZ + this.spacingZ);
          this.firstIndex = Utils_1.toNaturalNumber(Math.floor(i) + 1 - buffer);
        }
        var topZ = calHeight(this.firstIndex, this.templateZ, this.spacingZ);
        var bottomZ = calHeight(datas.length - this.firstIndex - this.nodeCount, this.templateZ, this.spacingZ);
        var renderNodes = datas.slice(this.firstIndex, this.firstIndex + this.nodeCount);
        if (force || topZ !== this.prevTopZ || bottomZ !== this.prevBottomZ || renderNodes.length !== this.dataNodes.length) {
          this.apply(topZ, renderNodes, bottomZ);
          this.prevTopZ = topZ;
          this.prevBottomZ = bottomZ;
        }
      };
      ItemReusableScrollView.prototype.apply = function(topZ, datas, bottomZ) {
        var _this = this;
        this.topNode[this.isX() ? "width" : "height"] = topZ;
        var diff = datas.length - this.dataNodes.length;
        diff > 0 ? Utils_1.range(diff).map(function() {
          return _this.dataNodes.push(_this.getDataNode());
        }) : diff < 0 && Utils_1.range(-diff).map(function() {
          return _this.recycleDataNode(_this.dataNodes.pop());
        });
        this.dataIndexs = this.dataNodes.map(function(node, idx) {
          var data = datas[idx];
          _this.applyDataToTemplate.emit([ node, data ]);
          return data;
        });
        this.bottomNode[this.isX() ? "width" : "height"] = bottomZ;
        if (this.scrollbarNode) if (this.totalZ > this.viewZ) {
          this.scrollbarNode.getComponent(cc.Sprite).spriteFrame = this.scrollbarFrame;
          this.scrollbarNode.children[0].getComponent(cc.Sprite).spriteFrame = this.barFrame;
        } else {
          this.scrollbarNode.getComponent(cc.Sprite).spriteFrame = null;
          this.scrollbarNode.children[0].getComponent(cc.Sprite).spriteFrame = null;
        }
      };
      ItemReusableScrollView.prototype.getDataNode = function() {
        this.dataNodePool.size() || this.dataNodePool.put(cc.instantiate(this.template));
        var node = this.dataNodePool.get();
        this.content.addChild(node, 1);
        return node;
      };
      ItemReusableScrollView.prototype.recycleDataNode = function(node) {
        this.dataNodePool.put(node);
      };
      ItemReusableScrollView.prototype.refreshData = function() {
        this.apply(this.prevTopZ, this.dataIndexs, this.prevBottomZ);
      };
      ItemReusableScrollView.prototype.updateData = function(datas, toTopLeft) {
        void 0 === toTopLeft && (toTopLeft = false);
        var templateZ = this.isX() ? this.template.width : this.template.height;
        var spacingZ = this.isX() ? this.contentLayout.spacingX : this.contentLayout.spacingY;
        this.totalZ = calHeight(datas.length, templateZ, spacingZ);
        this.maxZ = calHeight(datas.length - this.nodeCount + 2 * buffer, templateZ, spacingZ);
        this.datas = datas;
        if (toTopLeft) {
          this.stopAutoScroll();
          this.updateContent(true, 0);
          this.scrollToTopLeft();
        } else {
          this.stopAutoScroll();
          this.updateContent(true);
        }
      };
      ItemReusableScrollView.prototype.getNodeByData = function(data) {
        var idx = this.dataIndexs.indexOf(data);
        return this.dataNodes[idx];
      };
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5982\u679c\u6c92\u6709\u6307\u5b9a prefeb\uff0c\u9810\u8a2d\u5c07\u70ba content.children[0]"
      }) ], ItemReusableScrollView.prototype, "templatePrefeb", void 0);
      __decorate([ property({
        type: cc.Layout,
        tooltip: "content \u7684 layout \u7d44\u4ef6\uff0c\u76ee\u524d\u53ea\u652f\u63f4\u76f4\u5411\u53ca\u6a6b\u5411"
      }) ], ItemReusableScrollView.prototype, "contentLayout", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u6703\u6293\u6b64\u7bc0\u9ede\u7684\u5bec\u5ea6\u6216\u9ad8\u5ea6\uff0c\u4f5c\u70ba\u5448\u73fe\u7684\u5927\u5c0f"
      }) ], ItemReusableScrollView.prototype, "view", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (node: cc.Node, data: any) \u7684\u65b9\u6cd5\uff0c\u5c07\u4e00\u7b46\u8cc7\u6599\u653e\u5165\u7bc0\u9ede\nps. \u9700\u81ea\u884c\u547c\u53eb scrollview.updateData(datas: any[]): void \u66f4\u65b0\u8cc7\u6599"
      }) ], ItemReusableScrollView.prototype, "applyDataToTemplate", void 0);
      __decorate([ property(cc.Node) ], ItemReusableScrollView.prototype, "scrollbarNode", void 0);
      __decorate([ property(cc.SpriteFrame) ], ItemReusableScrollView.prototype, "scrollbarFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], ItemReusableScrollView.prototype, "barFrame", void 0);
      ItemReusableScrollView = __decorate([ ccclass ], ItemReusableScrollView);
      return ItemReusableScrollView;
    }(cc.ScrollView);
    exports.default = ItemReusableScrollView;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  JsonAssetLoader: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c0949TYj0xDqoPwrnbge/LU", "JsonAssetLoader");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.JsonAssetLoader = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var KeyJsonAsset_1 = require("./KeyJsonAsset");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var JsonAssetLoader = function(_super) {
      __extends(JsonAssetLoader, _super);
      function JsonAssetLoader() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyJsonAssets = [];
        return _this;
      }
      JsonAssetLoader.prototype.getData = function(key, xpath) {
        void 0 === xpath && (xpath = "");
        var keyJsonAsset = this.keyJsonAssets.find(function(kj) {
          return kj.key === key;
        });
        if (!keyJsonAsset) return null;
        var json = keyJsonAsset.jsonAsset.json;
        var paths = xpath.split(".").filter(Utils_1.identity);
        var root = json;
        try {
          for (var i = 0; i < paths.length; i += 1) {
            var path = paths[i];
            root = root[path];
          }
          return root;
        } catch (e) {
          true;
          LibGlobal_1.warn("xpath not math:", key, xpath, json);
        }
      };
      __decorate([ property([ KeyJsonAsset_1.KeyJsonAsset ]) ], JsonAssetLoader.prototype, "keyJsonAssets", void 0);
      JsonAssetLoader = __decorate([ ccclass ], JsonAssetLoader);
      return JsonAssetLoader;
    }(cc.Component);
    exports.JsonAssetLoader = JsonAssetLoader;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./KeyJsonAsset": "KeyJsonAsset"
  } ],
  KeyAtlas: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ed172/RiutL17lxxJlnSTGT", "KeyAtlas");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyAtlas = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyAtlas = function() {
      function KeyAtlas() {
        this.key = "";
        this.atlas = null;
      }
      __decorate([ property(cc.String) ], KeyAtlas.prototype, "key", void 0);
      __decorate([ property(cc.SpriteAtlas) ], KeyAtlas.prototype, "atlas", void 0);
      KeyAtlas = __decorate([ ccclass("KeyAtlas") ], KeyAtlas);
      return KeyAtlas;
    }();
    exports.KeyAtlas = KeyAtlas;
    cc._RF.pop();
  }, {} ],
  KeyAudioClip: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "086efLFAKxCeLbKDFWTTSOa", "KeyAudioClip");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyAudioClip = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyAudioClip = function() {
      function KeyAudioClip() {
        this.key = "";
        this.audioClip = null;
      }
      __decorate([ property(cc.String) ], KeyAudioClip.prototype, "key", void 0);
      __decorate([ property({
        type: cc.AudioClip
      }) ], KeyAudioClip.prototype, "audioClip", void 0);
      KeyAudioClip = __decorate([ ccclass("KeyAudioClip") ], KeyAudioClip);
      return KeyAudioClip;
    }();
    exports.KeyAudioClip = KeyAudioClip;
    cc._RF.pop();
  }, {} ],
  KeyBitmapFont: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47bd34pqwVLArMPOKchh6hI", "KeyBitmapFont");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyBitmapFont = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyBitmapFont = function() {
      function KeyBitmapFont() {
        this.key = "";
        this.bitmapFont = null;
      }
      __decorate([ property(cc.String) ], KeyBitmapFont.prototype, "key", void 0);
      __decorate([ property(cc.BitmapFont) ], KeyBitmapFont.prototype, "bitmapFont", void 0);
      KeyBitmapFont = __decorate([ ccclass("KeyBitmapFont") ], KeyBitmapFont);
      return KeyBitmapFont;
    }();
    exports.KeyBitmapFont = KeyBitmapFont;
    cc._RF.pop();
  }, {} ],
  KeyCol: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "90ee67DpG1HQZVt7PfjNX0f", "KeyCol");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyCol = void 0;
    var ColBase_1 = require("./ColBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyCol = function() {
      function KeyCol() {
        this.key = "";
        this.col = null;
      }
      __decorate([ property(cc.String) ], KeyCol.prototype, "key", void 0);
      __decorate([ property(ColBase_1.default) ], KeyCol.prototype, "col", void 0);
      KeyCol = __decorate([ ccclass("KeyCol") ], KeyCol);
      return KeyCol;
    }();
    exports.KeyCol = KeyCol;
    cc._RF.pop();
  }, {
    "./ColBase": "ColBase"
  } ],
  KeyDownCtrl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2b6287RnEFLb45Fnt0WiT/T", "KeyDownCtrl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyHandler_1 = require("../data/KeyHandler");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var b = [ 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024 ];
    var KeyDownCtrl = function(_super) {
      __extends(KeyDownCtrl, _super);
      function KeyDownCtrl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.flag = 0;
        _this.keyHandlers = [];
        _this.keyHandlerMap = {};
        _this.keyHandlerArray = [];
        return _this;
      }
      KeyDownCtrl.prototype.onLoad = function() {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
        this.keyHandlerMap = this.keyHandlers.map(function(kh) {
          if (isNaN(Number(kh.key))) return {
            key: kh.key.toUpperCase(),
            handler: kh.handler
          };
          return {
            key: String.fromCharCode(Number(kh.key)),
            handler: kh.handler
          };
        }).reduce(Utils_1.toObjectReducer("key", "handler"), {});
        this.keyHandlerArray = Object.keys(this.keyHandlerMap);
      };
      KeyDownCtrl.prototype.onKeyDown = function(event) {
        var code = String.fromCharCode(event.keyCode);
        var idx = this.keyHandlerArray.indexOf(code);
        if (this.keyHandlerMap[code] && -1 !== idx) {
          this.flag |= b[idx];
          this.keyHandlerMap[code].emit([]);
        }
      };
      KeyDownCtrl.prototype.onKeyUp = function(event) {
        var code = String.fromCharCode(event.keyCode);
        var idx = this.keyHandlerArray.indexOf(code);
        this.keyHandlerMap[code] && -1 !== idx && (this.flag &= ~b[idx]);
      };
      __decorate([ property([ KeyHandler_1.KeyHandler ]) ], KeyDownCtrl.prototype, "keyHandlers", void 0);
      KeyDownCtrl = __decorate([ ccclass ], KeyDownCtrl);
      return KeyDownCtrl;
    }(cc.Component);
    exports.default = KeyDownCtrl;
    cc._RF.pop();
  }, {
    "../data/KeyHandler": "KeyHandler",
    "../utils/Utils": "Utils"
  } ],
  KeyFrame: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46f49HdgypMWZXupJZ1fneA", "KeyFrame");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyFrames = exports.KeyFrame = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyFrame = function() {
      function KeyFrame() {
        this.key = "";
        this.frame = null;
      }
      __decorate([ property(cc.String) ], KeyFrame.prototype, "key", void 0);
      __decorate([ property(cc.SpriteFrame) ], KeyFrame.prototype, "frame", void 0);
      KeyFrame = __decorate([ ccclass("KeyFrame") ], KeyFrame);
      return KeyFrame;
    }();
    exports.KeyFrame = KeyFrame;
    var KeyFrames = function() {
      function KeyFrames() {
        this.key = "";
        this.frames = [];
      }
      __decorate([ property(cc.String) ], KeyFrames.prototype, "key", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], KeyFrames.prototype, "frames", void 0);
      KeyFrames = __decorate([ ccclass("KeyFrames") ], KeyFrames);
      return KeyFrames;
    }();
    exports.KeyFrames = KeyFrames;
    cc._RF.pop();
  }, {} ],
  KeyHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bfdeetVigpCxakWTNSpwNSW", "KeyHandler");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyHandler = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyHandler = function() {
      function KeyHandler() {
        this.key = "";
        this.handler = null;
      }
      __decorate([ property(cc.String) ], KeyHandler.prototype, "key", void 0);
      __decorate([ property(cc.Component.EventHandler) ], KeyHandler.prototype, "handler", void 0);
      KeyHandler = __decorate([ ccclass("KeyHandler") ], KeyHandler);
      return KeyHandler;
    }();
    exports.KeyHandler = KeyHandler;
    cc._RF.pop();
  }, {} ],
  KeyJsonAsset: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61af90KpKBIwr3N0zyGoWbQ", "KeyJsonAsset");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyJsonAsset = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyJsonAsset = function() {
      function KeyJsonAsset() {
        this.key = "";
        this.xpath = "";
        this.jsonAsset = null;
      }
      __decorate([ property(cc.String) ], KeyJsonAsset.prototype, "key", void 0);
      __decorate([ property(cc.String) ], KeyJsonAsset.prototype, "xpath", void 0);
      __decorate([ property(cc.JsonAsset) ], KeyJsonAsset.prototype, "jsonAsset", void 0);
      KeyJsonAsset = __decorate([ ccclass("KeyJsonAsset") ], KeyJsonAsset);
      return KeyJsonAsset;
    }();
    exports.KeyJsonAsset = KeyJsonAsset;
    cc._RF.pop();
  }, {} ],
  KeyNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1d742pdZixOZaYmPGdhA/n1", "KeyNode");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getNodesByKey = exports.getNodeByKey = exports.KeyNode = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyNode = function() {
      function KeyNode() {
        this.key = "";
        this.node = null;
      }
      __decorate([ property(cc.String) ], KeyNode.prototype, "key", void 0);
      __decorate([ property(cc.Node) ], KeyNode.prototype, "node", void 0);
      KeyNode = __decorate([ ccclass("KeyNode") ], KeyNode);
      return KeyNode;
    }();
    exports.KeyNode = KeyNode;
    function getNodeByKey(keyNodes, key) {
      var kn = keyNodes.find(function(kn) {
        return kn.key === key;
      });
      return kn ? kn.node : null;
    }
    exports.getNodeByKey = getNodeByKey;
    function getNodesByKey(keyNodes, key) {
      return keyNodes.filter(function(kn) {
        return kn.key === key;
      }).map(function(kn) {
        return kn.node;
      });
    }
    exports.getNodesByKey = getNodesByKey;
    cc._RF.pop();
  }, {} ],
  KeyPrefab: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5fc3bx5ccVOkL3ivYNhjJ6y", "KeyPrefab");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.KeyPrefab = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyPrefab = function() {
      function KeyPrefab() {
        this.key = "";
        this.prefab = null;
        this.node = null;
      }
      __decorate([ property(cc.String) ], KeyPrefab.prototype, "key", void 0);
      __decorate([ property(cc.Prefab) ], KeyPrefab.prototype, "prefab", void 0);
      KeyPrefab = __decorate([ ccclass("KeyPrefab") ], KeyPrefab);
      return KeyPrefab;
    }();
    exports.KeyPrefab = KeyPrefab;
    cc._RF.pop();
  }, {} ],
  KeyStr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f3e0fB/vEpApY1b0LWxDGv5", "KeyStr");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.findJsonAssets = exports.findBitmapFont = exports.findFrame2 = exports.findFrame = exports.keyStr2Str = exports.str2KeyStr = exports.KeyStr2 = exports.KeyStr = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var KeyStr = function() {
      function KeyStr() {
        this.key = "";
        this.str = "";
      }
      __decorate([ property(cc.String) ], KeyStr.prototype, "key", void 0);
      __decorate([ property(cc.String) ], KeyStr.prototype, "str", void 0);
      KeyStr = __decorate([ ccclass("KeyStr") ], KeyStr);
      return KeyStr;
    }();
    exports.KeyStr = KeyStr;
    var KeyStr2 = function(_super) {
      __extends(KeyStr2, _super);
      function KeyStr2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.str2 = "";
        return _this;
      }
      __decorate([ property(cc.String) ], KeyStr2.prototype, "str2", void 0);
      KeyStr2 = __decorate([ ccclass("KeyStr2") ], KeyStr2);
      return KeyStr2;
    }(KeyStr);
    exports.KeyStr2 = KeyStr2;
    var delimiter = ".";
    function str2KeyStr(str) {
      var arr = str.split(delimiter);
      return {
        key: arr[0],
        str: arr[1] || ""
      };
    }
    exports.str2KeyStr = str2KeyStr;
    function keyStr2Str(keyStr) {
      return keyStr.key + delimiter + keyStr.str;
    }
    exports.keyStr2Str = keyStr2Str;
    function findFrame(keyStrs, keyAtlass) {
      void 0 === keyStrs && (keyStrs = []);
      void 0 === keyAtlass && (keyAtlass = []);
      var ka = null;
      var frame = null;
      var atlasKey = "";
      var key = "";
      var _loop_1 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        var key2 = ks.str;
        ka = keyAtlass.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (ka) {
          frame = ka.atlas.getSpriteFrame(key2);
          if (frame) {
            atlasKey = atlasKey2;
            key = key2;
            return "break";
          }
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) {
        var state_1 = _loop_1(i);
        if ("break" === state_1) break;
      }
      return {
        atlasKey: atlasKey,
        key: key,
        frame: frame
      };
    }
    exports.findFrame = findFrame;
    function findFrame2(strs, keyAtlass) {
      void 0 === strs && (strs = []);
      void 0 === keyAtlass && (keyAtlass = []);
      var frame = null;
      for (var j = 0; j < strs.length; j += 1) {
        var str = strs[j];
        for (var i = 0; i < keyAtlass.length; i += 1) {
          var ka = keyAtlass[i];
          frame = ka.atlas.getSpriteFrame(str);
          if (frame) return {
            atlasKey: ka.key,
            key: str,
            frame: frame
          };
        }
      }
      return null;
    }
    exports.findFrame2 = findFrame2;
    function findBitmapFont(keyStrs, keyBitmapFont) {
      var kb = null;
      var bitmapFont = null;
      var key = "";
      var _loop_2 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        kb = keyBitmapFont.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (kb) {
          bitmapFont = kb.bitmapFont;
          key = kb.key;
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) _loop_2(i);
      return {
        key: key,
        bitmapFont: bitmapFont
      };
    }
    exports.findBitmapFont = findBitmapFont;
    function findJsonAssets(keyStrs, keyJsonAsset) {
      var kj = null;
      var jsonAsset = null;
      var key = "";
      var _loop_3 = function(i) {
        var ks = keyStrs[i];
        var atlasKey2 = ks.key;
        kj = keyJsonAsset.find(function(ka) {
          return ka.key === atlasKey2;
        });
        if (kj) {
          jsonAsset = kj.jsonAsset;
          key = kj.key;
        }
      };
      for (var i = 0; i < keyStrs.length; i += 1) _loop_3(i);
      return {
        key: key,
        jsonAsset: jsonAsset
      };
    }
    exports.findJsonAssets = findJsonAssets;
    cc._RF.pop();
  }, {} ],
  LayoutShrinkLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9a391PmWltIvoOF8E5qnpIV", "LayoutShrinkLabel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var MAX_TRY = 11;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var LayoutShrinkLabel = function(_super) {
      __extends(LayoutShrinkLabel, _super);
      function LayoutShrinkLabel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        _this.labels = [];
        _this.richTexts = [];
        _this.maxWidth = 0;
        _this.currentMaxScale = 0;
        _this.try = 0;
        _this.resized = false;
        _this.delay = false;
        return _this;
      }
      LayoutShrinkLabel.prototype.onLoad = function() {
        this.setTextOpacity(1);
        var layout = this.getComponent(cc.Layout);
        layout.resizeMode === cc.Layout.ResizeMode.CONTAINER;
        layout.affectedByScale = true;
      };
      LayoutShrinkLabel.prototype.start = function() {
        this.richTexts = this.richTexts.filter(Utils_1.identity);
        this.labels = this.labels.filter(Utils_1.identity);
        if (!(this.richTexts.length || this.labels.length)) {
          this.richTexts = this.node.getComponentsInChildren(cc.RichText);
          this.labels = this.node.getComponentsInChildren(cc.Label);
        }
        var arr = [];
        arr.push.apply(arr, this.richTexts.map(function(r) {
          return r.maxWidth;
        }));
        arr.push.apply(arr, this.labels.map(function(r) {
          return r.node.width;
        }));
        if (!arr.length) return;
        if (0 === this.wh.x || 0 === this.wh.y) {
          LibGlobal_1.warn("wh can't is zero");
          return;
        }
        var mw = Math.max.apply(null, arr);
        this.maxScale = Math.max(mw / this.wh.x, this.maxScale);
        this.currentMaxScale = this.maxScale;
        this.node.scale = this.maxScale;
        this.maxWidth = this.wh.x;
        this.delay || this.resize();
      };
      LayoutShrinkLabel.prototype.onEnable = function() {
        this.resized || this.delay || this.resize();
      };
      LayoutShrinkLabel.prototype.resize = function() {
        if (!this.node.activeInHierarchy) {
          this.delay = false;
          return;
        }
        this.unscheduleAllCallbacks();
        this.richTexts = this.richTexts.filter(function(r) {
          return r.isValid && r.node;
        }).filter(Utils_1.identity);
        this.labels = this.labels.filter(function(r) {
          return r.isValid && r.node;
        }).filter(Utils_1.identity);
        this.try = 0;
        this.scheduleOnce(this.resizeLoop.bind(this));
      };
      LayoutShrinkLabel.prototype.resizeLoop = function() {
        var layout = this.getComponent(cc.Layout);
        layout.updateLayout();
        var node = this.node;
        var nw = node.width * node.scale;
        var nh = node.height * node.scale;
        var h = this.wh.y;
        if (nw < 0 || nh < 0) {
          node.getComponentsInChildren(cc.Layout).forEach(function(l) {
            l.updateLayout();
          });
          this.scheduleOnce(this.resizeLoop.bind(this));
          return;
        }
        this.try += 1;
        if (this.try >= MAX_TRY) {
          this.setTextOpacity(255);
          this.resized = true;
          return;
        }
        var arr = [ 1 ];
        nh && h && arr.push(h / nh);
        var min = Utils_1.lowerThen(this.maxScale, Math.min.apply(null, arr));
        if (this.richTexts.length > 0 || this.labels.length > 0) {
          var s = (this.currentMaxScale * min + this.currentMaxScale) / 2;
          if (s < this.maxScale) {
            var mw_1 = 1 / s * this.maxWidth;
            node.width = mw_1;
            this.labels.forEach(function(r) {
              r.isValid && r.node && (r.node.width = mw_1);
            });
            this.richTexts.forEach(function(r) {
              r.isValid && r.node && (r.maxWidth = mw_1);
            });
            node.getComponentsInChildren(cc.Layout).forEach(function(l) {
              l.updateLayout();
            });
            if (Math.abs(this.currentMaxScale - s) <= .05) {
              this.currentMaxScale = s;
              node.scale = s;
              this.setTextOpacity(255);
              this.resized = true;
              return;
            }
            this.currentMaxScale = s;
            node.scale = s;
            this.scheduleOnce(this.resizeLoop.bind(this));
            return;
          }
        }
        this.resized = true;
        this.setTextOpacity(255);
        node.scale = min;
      };
      LayoutShrinkLabel.prototype.setTextOpacity = function(value) {
        this.richTexts.map(function(r) {
          return r.node;
        }).forEach(Utils_1.nodeOpacity(value));
        this.labels.map(function(r) {
          return r.node;
        }).forEach(Utils_1.nodeOpacity(value));
      };
      __decorate([ property({
        tooltip: "x,y \u90fd\u8981\u8a2d"
      }) ], LayoutShrinkLabel.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], LayoutShrinkLabel.prototype, "maxScale", void 0);
      __decorate([ property([ cc.Label ]) ], LayoutShrinkLabel.prototype, "labels", void 0);
      __decorate([ property([ cc.RichText ]) ], LayoutShrinkLabel.prototype, "richTexts", void 0);
      __decorate([ property(cc.Boolean) ], LayoutShrinkLabel.prototype, "delay", void 0);
      LayoutShrinkLabel = __decorate([ ccclass, executionOrder(1), requireComponent(cc.Layout), menu("LayoutShrink/LayoutShrinkLabel") ], LayoutShrinkLabel);
      return LayoutShrinkLabel;
    }(cc.Component);
    exports.default = LayoutShrinkLabel;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  LayoutShrink: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ef4bb6ezZ5BNb5PG/wmJcT2", "LayoutShrink");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, menu = _a.menu, requireComponent = _a.requireComponent;
    var LayoutShrink = function(_super) {
      __extends(LayoutShrink, _super);
      function LayoutShrink() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        return _this;
      }
      LayoutShrink.prototype.onLoad = function() {
        var layout = this.getComponent(cc.Layout);
        layout.resizeMode === cc.Layout.ResizeMode.CONTAINER;
        layout.affectedByScale = true;
      };
      LayoutShrink.prototype.onEnable = function() {
        this.resize();
        this.node.on(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      LayoutShrink.prototype.onDisable = function() {
        this.node.off(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      LayoutShrink.prototype.resize = function() {
        var layout = this.getComponent(cc.Layout);
        var node = this.node;
        layout.updateLayout();
        var nw = node.width;
        var nh = node.height;
        if (nw < 0 || nh < 0) {
          node.getComponentsInChildren(cc.Layout).forEach(function(l) {
            l.updateLayout();
          });
          this.scheduleOnce(this.resize.bind(this), 0);
        }
        var w = this.wh.x;
        var h = this.wh.y;
        var arr = [ 1 ];
        nw && w && arr.push(w / nw);
        nh && h && arr.push(h / nh);
        node.scale = Utils_1.lowerThen(this.maxScale, Math.min.apply(null, arr));
      };
      __decorate([ property(cc.Vec2) ], LayoutShrink.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], LayoutShrink.prototype, "maxScale", void 0);
      LayoutShrink = __decorate([ ccclass, executionOrder(1), requireComponent(cc.Layout), menu("LayoutShrink/LayoutShrink") ], LayoutShrink);
      return LayoutShrink;
    }(cc.Component);
    exports.default = LayoutShrink;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  LibGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b2bc127fupLBoZyEQ2rfIia", "LibGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.monkeyMode = exports.setIsMobile = exports.isMobile = exports.error = exports.warn = exports.log = exports.globalDebugNNN = exports.NNN = exports.MMM = exports.disableButtonExclusive = exports.activeButtonExclusive = exports.unbindExclusiveButtonInteractable = exports.bindExclusiveButtonInteractable = exports.getIsEnterBackground = exports.setIsEnterBackground = exports.isEnterBackground = exports.MAX_LATENCY = exports.RECONNECT_INTERVAL = exports.RECONNECT_LIMIT = exports.HEARTBEAT_CHECK_INTERVAL = exports.HEARTBEAT_INTERVAL_MS = exports.ALERT_LEVEL = void 0;
    var IosHack_1 = require("./component/IosHack");
    var IframeGlobal_1 = require("./IframeGlobal");
    var Count_1 = require("./utils/Count");
    var Utils_1 = require("./utils/Utils");
    IosHack_1.iosHack();
    var ALERT_LEVEL;
    (function(ALERT_LEVEL) {
      ALERT_LEVEL[ALERT_LEVEL["DEFAULT"] = 0] = "DEFAULT";
      ALERT_LEVEL[ALERT_LEVEL["WILL_KICK_TABLE"] = 1] = "WILL_KICK_TABLE";
      ALERT_LEVEL[ALERT_LEVEL["KICK_TABLE"] = 2] = "KICK_TABLE";
      ALERT_LEVEL[ALERT_LEVEL["NETWORK_RETRY"] = 3] = "NETWORK_RETRY";
      ALERT_LEVEL[ALERT_LEVEL["KICK_GAME"] = 4] = "KICK_GAME";
      ALERT_LEVEL[ALERT_LEVEL["NETWORK"] = 5] = "NETWORK";
    })(ALERT_LEVEL = exports.ALERT_LEVEL || (exports.ALERT_LEVEL = {}));
    exports.HEARTBEAT_INTERVAL_MS = 1e3;
    exports.HEARTBEAT_CHECK_INTERVAL = .5;
    exports.RECONNECT_LIMIT = 10;
    exports.RECONNECT_INTERVAL = 1;
    exports.MAX_LATENCY = 5e3;
    exports.isEnterBackground = false;
    function setIsEnterBackground(boo) {
      exports.isEnterBackground = boo;
    }
    exports.setIsEnterBackground = setIsEnterBackground;
    function getIsEnterBackground() {
      return exports.isEnterBackground;
    }
    exports.getIsEnterBackground = getIsEnterBackground;
    var buttonInteractableMap = {};
    function bindExclusiveButtonInteractable(key, bi) {
      if (!bi) return;
      buttonInteractableMap[key] || (buttonInteractableMap[key] = []);
      buttonInteractableMap[key].push(bi);
    }
    exports.bindExclusiveButtonInteractable = bindExclusiveButtonInteractable;
    function unbindExclusiveButtonInteractable(key, bi) {
      if (!bi) return;
      buttonInteractableMap[key] && Utils_1.arraySplice(buttonInteractableMap[key], bi);
    }
    exports.unbindExclusiveButtonInteractable = unbindExclusiveButtonInteractable;
    function activeButtonExclusive(key, bi) {
      buttonInteractableMap[key] && buttonInteractableMap[key].forEach(function(bi2) {
        bi2.interactable(bi2 === bi);
      });
    }
    exports.activeButtonExclusive = activeButtonExclusive;
    function disableButtonExclusive(key) {
      buttonInteractableMap[key] && buttonInteractableMap[key].forEach(function(bi) {
        bi.interactable(true);
      });
    }
    exports.disableButtonExclusive = disableButtonExclusive;
    exports.MMM = {
      keyTimes: {},
      keyArray: {},
      array: []
    };
    exports.NNN = [];
    true;
    window.NNN = exports.NNN;
    window.MMM = exports.MMM;
    exports.globalDebugNNN = Count_1.globalDebugCreator(exports.NNN);
    exports.log = console.log.bind(console);
    exports.warn = console.warn.bind(console);
    exports.error = console.error.bind(console);
    var isMobile2 = cc && cc.sys && cc.sys.isMobile;
    true, true;
    var ps = Utils_1.parseURLParams(window.location.href);
    if (ps && ps.isMobile && ps.isMobile[0]) {
      var bool = Boolean(Number(ps.isMobile[0]));
      exports.log("rewrite isMobile to", bool);
      isMobile2 = bool;
    }
    exports.isMobile = isMobile2;
    function setIsMobile(able) {
      exports.isMobile = able;
    }
    exports.setIsMobile = setIsMobile;
    var monkey = "";
    var monkeyInitd = false;
    function monkeyMode() {
      if (monkeyInitd) return monkey;
      monkey = IframeGlobal_1.getHrefURLParams("monkey");
      monkeyInitd = true;
      return monkey;
    }
    exports.monkeyMode = monkeyMode;
    cc._RF.pop();
  }, {
    "./IframeGlobal": "IframeGlobal",
    "./component/IosHack": "IosHack",
    "./utils/Count": "Count",
    "./utils/Utils": "Utils"
  } ],
  ListViewCtrl: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5eaf5qKcttLCbup2RwcG9hN", "ListViewCtrl");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ListViewCtrl = function(_super) {
      __extends(ListViewCtrl, _super);
      function ListViewCtrl() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.itemTemplate = null;
        _this.scrollView = null;
        _this.spawnCount = 0;
        _this.totalCount = 0;
        _this.spacing = 0;
        _this.bufferZone = 0;
        _this.lblScrollEvent = null;
        _this.btnAddItem = null;
        _this.btnRemoveItem = null;
        _this.btnJumpToPosition = null;
        _this.lblJumpPosition = null;
        _this.lblTotalItems = null;
        _this.updateTimer = 0;
        _this.updateInterval = .2;
        _this.lastContentPosY = 0;
        _this.content = null;
        _this.items = [];
        return _this;
      }
      ListViewCtrl.prototype.onLoad = function() {
        this.content = this.scrollView.content;
        this.items = [];
        this.initialize();
        this.updateTimer = 0;
        this.updateInterval = .2;
        this.lastContentPosY = 0;
      };
      ListViewCtrl.prototype.initialize = function() {
        this.content.height = this.totalCount * (this.itemTemplate.height + this.spacing) + this.spacing;
        for (var i = 0; i < this.spawnCount; i += 1) {
          var item = cc.instantiate(this.itemTemplate);
          this.content.addChild(item);
          item.setPosition(0, -item.height * (.5 + i) - this.spacing * (i + 1));
          item.getComponent("Item").updateItem(i, i);
          this.items.push(item);
        }
      };
      ListViewCtrl.prototype.getPositionInView = function(item) {
        var worldPos = item.parent.convertToWorldSpaceAR(item.position);
        var viewPos = this.scrollView.node.convertToNodeSpaceAR(worldPos);
        return viewPos;
      };
      ListViewCtrl.prototype.update = function(dt) {
        this.updateTimer += dt;
        if (this.updateTimer < this.updateInterval) return;
        this.updateTimer = 0;
        var items = this.items;
        var buffer = this.bufferZone;
        var isDown = this.scrollView.content.y < this.lastContentPosY;
        var offset = (this.itemTemplate.height + this.spacing) * items.length;
        for (var i = 0; i < items.length; i += 1) {
          var viewPos = this.getPositionInView(items[i]);
          if (isDown) {
            if (viewPos.y < -buffer && items[i].y + offset < 0) {
              items[i].setPosition(0, items[i].y + offset);
              var item = items[i].getComponent("Item");
              var itemId = item.itemID - items.length;
              item.updateItem(i, itemId);
            }
          } else if (viewPos.y > buffer && items[i].y - offset > -this.content.height) {
            items[i].setPosition(0, items[i].y - offset);
            var item = items[i].getComponent("Item");
            var itemId = item.itemID + items.length;
            item.updateItem(i, itemId);
          }
        }
        this.lastContentPosY = this.scrollView.content.y;
      };
      ListViewCtrl.prototype.scrollEvent = function(sender, event) {
        switch (event) {
         case 0:
          this.lblScrollEvent.string = "Scroll to Top";
          break;

         case 1:
          this.lblScrollEvent.string = "Scroll to Bottom";
          break;

         case 2:
          this.lblScrollEvent.string = "Scroll to Left";
          break;

         case 3:
          this.lblScrollEvent.string = "Scroll to Right";
          break;

         case 4:
          this.lblScrollEvent.string = "Scrolling";
          break;

         case 5:
          this.lblScrollEvent.string = "Bounce Top";
          break;

         case 6:
          this.lblScrollEvent.string = "Bounce bottom";
          break;

         case 7:
          this.lblScrollEvent.string = "Bounce left";
          break;

         case 8:
          this.lblScrollEvent.string = "Bounce right";
          break;

         case 9:
          this.lblScrollEvent.string = "Auto scroll ended";
        }
      };
      ListViewCtrl.prototype.addItem = function() {
        this.content.height = (this.totalCount + 1) * (this.itemTemplate.height + this.spacing) + this.spacing;
      };
      ListViewCtrl.prototype.removeItem = function() {
        if (this.totalCount - 1 < 30) {
          console.error("can't remove item less than 30!");
          return;
        }
        this.content.height = (this.totalCount - 1) * (this.itemTemplate.height + this.spacing) + this.spacing;
      };
      ListViewCtrl.prototype.scrollToFixedPosition = function() {
        this.scrollView.scrollToOffset(cc.v2(0, 500), 2);
      };
      __decorate([ property(cc.Node) ], ListViewCtrl.prototype, "itemTemplate", void 0);
      __decorate([ property(cc.ScrollView) ], ListViewCtrl.prototype, "scrollView", void 0);
      __decorate([ property(cc.Integer) ], ListViewCtrl.prototype, "spawnCount", void 0);
      __decorate([ property(cc.Integer) ], ListViewCtrl.prototype, "totalCount", void 0);
      __decorate([ property(cc.Integer) ], ListViewCtrl.prototype, "spacing", void 0);
      __decorate([ property(cc.Integer) ], ListViewCtrl.prototype, "bufferZone", void 0);
      __decorate([ property(cc.Label) ], ListViewCtrl.prototype, "lblScrollEvent", void 0);
      __decorate([ property(cc.Button) ], ListViewCtrl.prototype, "btnAddItem", void 0);
      __decorate([ property(cc.Button) ], ListViewCtrl.prototype, "btnRemoveItem", void 0);
      __decorate([ property(cc.Button) ], ListViewCtrl.prototype, "btnJumpToPosition", void 0);
      __decorate([ property(cc.Label) ], ListViewCtrl.prototype, "lblJumpPosition", void 0);
      __decorate([ property(cc.Label) ], ListViewCtrl.prototype, "lblTotalItems", void 0);
      ListViewCtrl = __decorate([ ccclass ], ListViewCtrl);
      return ListViewCtrl;
    }(cc.Component);
    exports.default = ListViewCtrl;
    cc._RF.pop();
  }, {} ],
  LoadAtlasPageViewIndicator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a3dc2rd8wVES7cY3xo4duJe", "LoadAtlasPageViewIndicator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var LoadAtlas_1 = require("./LoadAtlas");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var LoadAtlasPageViewIndicator = function(_super) {
      __extends(LoadAtlasPageViewIndicator, _super);
      function LoadAtlasPageViewIndicator() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.atlasKey = "";
        _this.key = "";
        _this.keyStrs = [];
        _this.loaded = false;
        return _this;
      }
      LoadAtlasPageViewIndicator.prototype.loadFrame = function(keyAtlass) {
        void 0 === keyAtlass && (keyAtlass = []);
        var indicator = this.node.getComponent(cc.PageViewIndicator);
        var keyStrs = [ {
          key: this.atlasKey,
          str: this.key
        } ].concat(this.keyStrs);
        var arr = [];
        keyStrs.forEach(function(ks) {
          ks.str && arr.push.apply(arr, keyAtlass.map(function(ka) {
            return {
              key: ka.key,
              str: ks.str
            };
          }));
        });
        var d = KeyStr_1.findFrame(arr, keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", [ {
            atlasKey: this.atlasKey,
            key: this.key
          } ], "in", keyAtlass);
        }
        indicator.spriteFrame = d.frame;
      };
      LoadAtlasPageViewIndicator.prototype.onLoad = function() {
        this.pre();
      };
      LoadAtlasPageViewIndicator.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        var la = LoadAtlas_1.getLoadAtlas();
        this.loadFrame(la.keyAtlass);
      };
      __decorate([ property(cc.String) ], LoadAtlasPageViewIndicator.prototype, "atlasKey", void 0);
      __decorate([ property(cc.String) ], LoadAtlasPageViewIndicator.prototype, "key", void 0);
      __decorate([ property([ KeyStr_1.KeyStr ]) ], LoadAtlasPageViewIndicator.prototype, "keyStrs", void 0);
      LoadAtlasPageViewIndicator = __decorate([ ccclass, executionOrder(-1) ], LoadAtlasPageViewIndicator);
      return LoadAtlasPageViewIndicator;
    }(cc.Component);
    exports.default = LoadAtlasPageViewIndicator;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./LoadAtlas": "LoadAtlas"
  } ],
  LoadAtlasSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68cfcaKwRxGXoTGU33s0033", "LoadAtlasSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var LoadAtlas_1 = require("./LoadAtlas");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var LoadAtlasSprite = function(_super) {
      __extends(LoadAtlasSprite, _super);
      function LoadAtlasSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.atlasKey = "";
        _this.key = "";
        _this.saveFrame = false;
        _this.keyStrs = [];
        _this.frame = null;
        _this.loaded = false;
        return _this;
      }
      LoadAtlasSprite.prototype.loadFrame = function(keyAtlass) {
        void 0 === keyAtlass && (keyAtlass = []);
        var sprite = this.node.getComponent(cc.Sprite);
        var keyStrs = [ {
          key: this.atlasKey,
          str: this.key
        } ].concat(this.keyStrs);
        var arr = [];
        keyStrs.forEach(function(ks) {
          ks.str && arr.push.apply(arr, keyAtlass.map(function(ka) {
            return {
              key: ka.key,
              str: ks.str
            };
          }));
        });
        var d = KeyStr_1.findFrame(arr, keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", arr, "in", keyAtlass);
        }
        this.saveFrame && (this.frame = d.frame);
        sprite.spriteFrame = d.frame;
        true;
        this.atlasKey = d.atlasKey;
        this.key = d.key;
      };
      LoadAtlasSprite.prototype.onLoad = function() {
        this.pre();
      };
      LoadAtlasSprite.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        var la = LoadAtlas_1.getLoadAtlas();
        this.loadFrame(la.keyAtlass);
      };
      __decorate([ property(cc.String) ], LoadAtlasSprite.prototype, "atlasKey", void 0);
      __decorate([ property(cc.String) ], LoadAtlasSprite.prototype, "key", void 0);
      __decorate([ property(cc.Boolean) ], LoadAtlasSprite.prototype, "saveFrame", void 0);
      __decorate([ property({
        type: [ KeyStr_1.KeyStr ],
        tooltip: "\u5f9e\u7b2c\u4e00\u500b\u958b\u59cb\u627e\uff0c\u627e\u5230\u5c31\u7528 [{atlasKey, key}, ...keyStrs]"
      }) ], LoadAtlasSprite.prototype, "keyStrs", void 0);
      LoadAtlasSprite = __decorate([ ccclass, executionOrder(-1), requireComponent(cc.Sprite) ], LoadAtlasSprite);
      return LoadAtlasSprite;
    }(cc.Component);
    exports.default = LoadAtlasSprite;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./LoadAtlas": "LoadAtlas"
  } ],
  LoadAtlas: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2f1a9IS/ElIjY7z7tXFWUyO", "LoadAtlas");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.setLoadAtlas = exports.getLoadAtlas = void 0;
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, inspector = _a.inspector, executionOrder = _a.executionOrder;
    var la = null;
    function getLoadAtlas() {
      return la;
    }
    exports.getLoadAtlas = getLoadAtlas;
    function setLoadAtlas(loadAtlas) {
      la = loadAtlas;
    }
    exports.setLoadAtlas = setLoadAtlas;
    var LoadAtlas = function(_super) {
      __extends(LoadAtlas, _super);
      function LoadAtlas() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyAtlass = [];
        _this.skeletonDatas = [];
        return _this;
      }
      LoadAtlas.prototype.onLoad = function() {
        setLoadAtlas(this);
        this.keyAtlass.forEach(function(ka) {
          return ka.key = ka.atlas.name.split(".")[0];
        });
        var l = ResourcesLoader_1.getResourcesLoader();
        l && l.loaded(this.keyAtlass.map(function(ka) {
          return ka.atlas;
        }));
      };
      __decorate([ property([ KeyAtlas_1.KeyAtlas ]) ], LoadAtlas.prototype, "keyAtlass", void 0);
      __decorate([ property([ sp.SkeletonData ]) ], LoadAtlas.prototype, "skeletonDatas", void 0);
      LoadAtlas = __decorate([ ccclass, executionOrder(-1), inspector("packages://load-atlas/inspector/load-atlas.js") ], LoadAtlas);
      return LoadAtlas;
    }(cc.Component);
    exports.default = LoadAtlas;
    cc._RF.pop();
  }, {
    "../data/KeyAtlas": "KeyAtlas",
    "../script/ResourcesLoader": "ResourcesLoader"
  } ],
  LoadSceneConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c7cez76bRENZ444JQoplgN", "LoadSceneConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var LoadScene_1 = require("./LoadScene");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LoadSceneConfig = function(_super) {
      __extends(LoadSceneConfig, _super);
      function LoadSceneConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loadSceneNode = null;
        _this.sceneName = "GameLobby";
        _this.loadOnStart = false;
        _this.loadResources = false;
        _this.loadScene = null;
        return _this;
      }
      LoadSceneConfig.prototype.onLoad = function() {
        this.loadScene = this.loadSceneNode.getComponent(LoadScene_1.default);
        if (!this.loadScene) {
          LibGlobal_1.warn("LoadScene is null");
          return;
        }
        this.loadScene.loadOnStart = this.loadOnStart;
        this.loadScene.loadResources = this.loadResources;
        this.loadScene.sceneName = this.sceneName;
      };
      __decorate([ property(cc.Node) ], LoadSceneConfig.prototype, "loadSceneNode", void 0);
      __decorate([ property(cc.String) ], LoadSceneConfig.prototype, "sceneName", void 0);
      __decorate([ property(cc.Boolean) ], LoadSceneConfig.prototype, "loadOnStart", void 0);
      __decorate([ property(cc.Boolean) ], LoadSceneConfig.prototype, "loadResources", void 0);
      LoadSceneConfig = __decorate([ ccclass ], LoadSceneConfig);
      return LoadSceneConfig;
    }(cc.Component);
    exports.default = LoadSceneConfig;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./LoadScene": "LoadScene"
  } ],
  LoadScene: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1c0a9y+qCpBxrQGMXFW1h4L", "LoadScene");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.loadWithResources = exports.loadScene = exports.handleResourcesLoaded = void 0;
    var IframeGlobal_1 = require("../IframeGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var Audio_1 = require("./Audio");
    var SpSkeletonHack_1 = require("./SpSkeletonHack");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    function handleResourcesLoaded(assets) {
      var l = ResourcesLoader_1.getResourcesLoader();
      assets.filter(function(a) {
        return a instanceof sp.SkeletonData;
      }).forEach(function(asset) {
        var hack = l.node.addComponent(SpSkeletonHack_1.default);
        var skeleton = SpSkeletonHack_1.genSkeleton(asset);
        switch (cc.ENGINE_VERSION) {
         case "2.4.5":
         case "2.4.4":
          hack.hack_2_4_4(skeleton.node);
          hack.cache(skeleton.node, l.node);
          break;

         case "2.2.2":
          hack.hack_2_2_2(skeleton.node);
          hack.cache(skeleton.node, l.node);
          break;

         case "2.0.10":
          hack.hack_2_0_10(skeleton.node);
          hack.cache(skeleton.node, l.node);
          break;

         case "2.0.9":
         default:
          hack.cache2(skeleton.node);
        }
      });
      if (Audio_1.getAudioComponent()) {
        var kacs = assets.filter(function(a) {
          return a instanceof cc.AudioClip;
        }).map(function(a) {
          return {
            key: a.name,
            audioClip: a
          };
        });
        Audio_1.audioAppend(kacs);
      }
    }
    exports.handleResourcesLoaded = handleResourcesLoaded;
    var loaderScene = null;
    function loadScene(sceneName, onLaunched) {
      loaderScene.load(sceneName, onLaunched);
    }
    exports.loadScene = loadScene;
    function loadWithResources(urls, sceneName, onLaunched) {
      loaderScene.loadWithResources(urls, sceneName, handleResourcesLoaded, onLaunched);
    }
    exports.loadWithResources = loadWithResources;
    var LoadScene = function(_super) {
      __extends(LoadScene, _super);
      function LoadScene() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.sceneName = "";
        _this.progressLabel = null;
        _this.loadOnStart = false;
        _this.loadResources = false;
        _this.loadedResourcesKeys = [];
        return _this;
      }
      LoadScene.prototype.onLoad = function() {
        loaderScene = this;
        this.showLoading = window["setLoadingDisplay"] || this.setActive.bind(this, true);
        this.setProgress = window["setProgress"] || this.setProgress.bind(this);
        (true, this.sceneName) || LibGlobal_1.warn("no sceneName");
      };
      LoadScene.prototype.start = function() {
        var _this = this;
        if (this.loadOnStart) if (this.loadResources) {
          var l = ResourcesLoader_1.getResourcesLoader();
          var next = function() {
            _this.scheduleOnce(function() {
              var urls = [ "spine/cache" ];
              _this.loadWithResources(urls, _this.sceneName, handleResourcesLoaded);
            }, 0);
          };
          var reject = function() {
            loadFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
          };
          l.load().then(next, reject);
        } else this.load(this.sceneName);
      };
      LoadScene.prototype.loadWithResources = function(urls, sceneName, onResourcesLoad, onLaunched) {
        var _this = this;
        var reject = function() {
          loadFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
        };
        this.showLoading();
        var key = urls.sort().join(";");
        var l = ResourcesLoader_1.getResourcesLoader();
        var next = function() {
          _this.setActive(false);
          _this.load(sceneName, onLaunched);
        };
        true;
        console.time("load resources");
        var lNext = function(assets) {
          _this.loadedResourcesKeys.push(key);
          true;
          console.timeEnd("load resources");
          onResourcesLoad && onResourcesLoad(assets);
          _this.scheduleOnce(function() {
            _this.load(sceneName, onLaunched);
          }, 0);
        };
        -1 === this.loadedResourcesKeys.indexOf(key) ? l.loadUrls(urls).then(lNext, reject) : next();
      };
      LoadScene.prototype.load = function(sceneName, onLaunched) {
        var _this = this;
        sceneName || (sceneName = this.sceneName);
        var next = function(err) {
          if (err) {
            loadFail(IframeGlobal_1.DownloadAlertError.SCENE);
            return;
          }
          _this.setActive(false);
          _this.setProgress(2, 2, null);
          cc.director.loadScene(sceneName, onLaunched);
        };
        this.showLoading();
        cc.director.preloadScene(sceneName, this.setProgress, next);
      };
      LoadScene.prototype.setActive = function(able) {
        this.nodes.map(Utils_1.nodeActive(able));
      };
      LoadScene.prototype.setProgress = function(completed, total, item) {
        this.progressLabel.string = (completed / total * 100).toFixed(0) + "%";
      };
      LoadScene.prototype.onLoadClick = function() {
        this.load(this.sceneName);
      };
      __decorate([ property([ cc.Node ]) ], LoadScene.prototype, "nodes", void 0);
      __decorate([ property(cc.String) ], LoadScene.prototype, "sceneName", void 0);
      __decorate([ property(cc.Label) ], LoadScene.prototype, "progressLabel", void 0);
      __decorate([ property(cc.Boolean) ], LoadScene.prototype, "loadOnStart", void 0);
      __decorate([ property({
        tooltip: "\u7d66 game-client-lib \u7528"
      }) ], LoadScene.prototype, "loadResources", void 0);
      LoadScene = __decorate([ ccclass ], LoadScene);
      return LoadScene;
    }(cc.Component);
    exports.default = LoadScene;
    function loadFail(downloadFail) {
      var args = "downloadFail=" + downloadFail;
      Utils_1.fetchPing(args);
      IframeGlobal_1.downloadAlert(downloadFail);
    }
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../LibGlobal": "LibGlobal",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./Audio": "Audio",
    "./SpSkeletonHack": "SpSkeletonHack"
  } ],
  Loading: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3b602Ru8zxNdq220HZQ9hVJ", "Loading");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColFade_1 = require("../data/ColFade");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Loading = function(_super) {
      __extends(Loading, _super);
      function Loading() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loadingNode = null;
        _this.colFade = null;
        return _this;
      }
      Loading.prototype.toggle = function(able) {
        this.loadingNode && (this.loadingNode.active = able);
        this.colFade && this.colFade.reset("", able);
      };
      __decorate([ property(cc.Node) ], Loading.prototype, "loadingNode", void 0);
      __decorate([ property(ColFade_1.ColFade) ], Loading.prototype, "colFade", void 0);
      Loading = __decorate([ ccclass ], Loading);
      return Loading;
    }(cc.Component);
    exports.default = Loading;
    cc._RF.pop();
  }, {
    "../data/ColFade": "ColFade"
  } ],
  LoginState: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b8e1626YqlKEK/iO0MTdCIS", "LoginState");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.LoginState = void 0;
    var LoginState;
    (function(LoginState) {
      LoginState[LoginState["BEFORE_LOGIN"] = 0] = "BEFORE_LOGIN";
      LoginState[LoginState["LOGIN"] = 1] = "LOGIN";
      LoginState[LoginState["OFFLINE"] = 2] = "OFFLINE";
      LoginState[LoginState["KICKOUT"] = 3] = "KICKOUT";
    })(LoginState = exports.LoginState || (exports.LoginState = {}));
    cc._RF.pop();
  }, {} ],
  LoopBackground: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "96f93e/NGlKl7i/BkXOHFrY", "LoopBackground");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.LoopBackground = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LoopBackground = function(_super) {
      __extends(LoopBackground, _super);
      function LoopBackground() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.perSec = 100;
        _this.vertical = false;
        _this.loopLeft = false;
        _this.loopOnLoad = false;
        _this.looping = false;
        _this.per = 0;
        _this.width = 0;
        _this.tween = null;
        return _this;
      }
      LoopBackground.prototype.onLoad = function() {
        var v = this.vertical;
        var w = 0;
        this.nodes.forEach(function(n) {
          w += v ? n.height : n.width;
        });
        var halfW = w / 2;
        var totalW = 0;
        this.nodes.forEach(function(n) {
          var nw = v ? n.height : n.width;
          var nx = -halfW + totalW + nw / 2;
          v ? n.y = nx : n.x = nx;
          totalW += nw;
        });
        this.width = w;
        this.loopOnLoad && this.loop(true);
      };
      LoopBackground.prototype.loop = function(able, tweenSec) {
        void 0 === tweenSec && (tweenSec = 0);
        if (this.looping === able) return;
        var per = able ? this.perSec : 0;
        if (this.tween) {
          this.tween.stop();
          this.tween = null;
        }
        this.looping = able;
        if (this.per !== per) {
          var t = cc.tween(this);
          t.to(tweenSec, {
            per: per
          });
          t.start();
          this.tween = t;
        }
      };
      LoopBackground.prototype.shift = function(x) {
        var _this = this;
        var v = this.vertical;
        var w = this.width;
        var halfW = w / 2;
        this.nodes.forEach(function(n) {
          var nx = (v ? n.y : n.x) + x;
          !_this.loopLeft && nx >= halfW && (nx -= w);
          _this.loopLeft && nx <= -halfW && (nx += w);
          v ? n.y = nx : n.x = nx;
        });
      };
      LoopBackground.prototype.update = function(dt) {
        if (!this.looping) return;
        var fix = this.loopLeft ? -1 : 1;
        var x = fix * dt * this.per;
        this.shift(x);
      };
      __decorate([ property(cc.Node) ], LoopBackground.prototype, "nodes", void 0);
      __decorate([ property({
        tooltip: "\u5373 speed",
        type: cc.Float
      }) ], LoopBackground.prototype, "perSec", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426 \u76f4\u5411(\u63a7\u5236y)"
      }) ], LoopBackground.prototype, "vertical", void 0);
      __decorate([ property(cc.Boolean) ], LoopBackground.prototype, "loopLeft", void 0);
      __decorate([ property(cc.Boolean) ], LoopBackground.prototype, "loopOnLoad", void 0);
      LoopBackground = __decorate([ ccclass ], LoopBackground);
      return LoopBackground;
    }(cc.Component);
    exports.LoopBackground = LoopBackground;
    cc._RF.pop();
  }, {} ],
  LuziSource: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9487axI9ntLYJixmN0POth4", "LuziSource");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Luzi_1 = require("./Luzi");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LuziSource = function(_super) {
      __extends(LuziSource, _super);
      function LuziSource() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.luToZhupanlu = null;
        _this.zhupanluToDalu = null;
        _this.daluToXiasanlu = null;
        _this.targetLuzis = [];
        _this.luCache = [];
        return _this;
      }
      LuziSource.prototype.pre = function() {};
      LuziSource.prototype.reset = function(lus) {
        var _this = this;
        this.pre();
        var tmpObj = {
          lus: lus
        };
        this.luCache = [];
        this.luToZhupanlu.emit([ tmpObj.lus, tmpObj ]);
        this.luCache[Luzi_1.ROAD_TYPE.BEAD] = tmpObj.lus;
        this.targetLuzis.forEach(function(luzi) {
          _this.luCache[luzi.luType] || _this.cal(luzi.luType);
          luzi.reset(_this.luCache[luzi.luType]);
        });
      };
      LuziSource.prototype.cal = function(luType) {
        if (!luType) return;
        var tmpObj = {
          lus: []
        };
        if (luType === Luzi_1.ROAD_TYPE.BIG) {
          this.zhupanluToDalu.emit([ this.luCache[Luzi_1.ROAD_TYPE.BEAD], tmpObj ]);
          this.luCache[Luzi_1.ROAD_TYPE.BIG] = tmpObj.lus;
        } else {
          this.luCache[Luzi_1.ROAD_TYPE.BIG] || this.cal(Luzi_1.ROAD_TYPE.BIG);
          this.daluToXiasanlu.emit([ this.luCache[Luzi_1.ROAD_TYPE.BIG], tmpObj, luType ]);
          this.luCache[luType] = tmpObj.lus;
        }
      };
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (data: any, valObj: {val:string}) \u7684\u65b9\u6cd5\uff0c\u5c06 valObj.val \u8bbe\u4e3a\u8ba1\u7b97\u7684\u503c"
      }) ], LuziSource.prototype, "luToZhupanlu", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (data: any, valObj: {val:string}) \u7684\u65b9\u6cd5\uff0c\u5c06 valObj.val \u8bbe\u4e3a\u8ba1\u7b97\u7684\u503c"
      }) ], LuziSource.prototype, "zhupanluToDalu", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (data: any, valObj: {val:string}) \u7684\u65b9\u6cd5\uff0c\u5c06 valObj.val \u8bbe\u4e3a\u8ba1\u7b97\u7684\u503c"
      }) ], LuziSource.prototype, "daluToXiasanlu", void 0);
      __decorate([ property({
        type: [ Luzi_1.default ],
        tooltip: "xxx"
      }) ], LuziSource.prototype, "targetLuzis", void 0);
      LuziSource = __decorate([ ccclass ], LuziSource);
      return LuziSource;
    }(cc.Component);
    exports.default = LuziSource;
    cc._RF.pop();
  }, {
    "./Luzi": "Luzi"
  } ],
  Luzi: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1f6d7/XE4pBIb+oN5+M79H8", "Luzi");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var _a;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.XiasanluData = exports.xsl = exports.XSL_CONFIG = exports.valueToIj = exports.ijToVec2 = exports.findMaxI = exports.calculate = exports.findAvailableX0 = exports.isBlocked = exports.RoadSize = exports.ROAD_TYPE = void 0;
    var KeyPrefab_1 = require("../data/KeyPrefab");
    var Utils_1 = require("../utils/Utils");
    var _b = cc._decorator, ccclass = _b.ccclass, property = _b.property;
    var ROAD_TYPE;
    (function(ROAD_TYPE) {
      ROAD_TYPE[ROAD_TYPE["BEAD"] = 0] = "BEAD";
      ROAD_TYPE[ROAD_TYPE["BIG"] = 1] = "BIG";
      ROAD_TYPE[ROAD_TYPE["BIG_EYE"] = 2] = "BIG_EYE";
      ROAD_TYPE[ROAD_TYPE["SMALL"] = 3] = "SMALL";
      ROAD_TYPE[ROAD_TYPE["ROACH"] = 4] = "ROACH";
    })(ROAD_TYPE = exports.ROAD_TYPE || (exports.ROAD_TYPE = {}));
    var Luzi = function(_super) {
      __extends(Luzi, _super);
      function Luzi() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.itemPrefabs = [];
        _this.itemPrefabMap = {};
        _this.targetNode = null;
        _this.tile = new cc.Vec2();
        _this.limit = new cc.Vec2();
        _this.offset = new cc.Vec2();
        _this.padding = new cc.Vec2();
        _this.luType = ROAD_TYPE.BEAD;
        _this.appendNode = null;
        _this.nodePools = new Map();
        _this.size = null;
        return _this;
      }
      Luzi.prototype.bindHandler = function() {};
      Luzi.prototype.pre = function() {
        if (this.size) return;
        this.bindHandler();
        this.size = new RoadSize();
        this.size.tileWidth = this.tile.x;
        this.size.tileHeight = this.tile.y;
        this.size.limitWidth = this.limit.x;
        this.size.limitHeight = this.limit.y;
        this.size.paddingW = this.padding.x;
        this.size.paddingH = this.padding.y;
        this.size.offsetX = this.offset.x;
        this.size.offsetY = this.offset.y;
        this.getNode = this.getNode.bind(this);
        this.itemPrefabMap = this.itemPrefabs.reduce(Utils_1.toObjectReducer("key", "prefab"), {});
      };
      Luzi.prototype.reset = function(lus) {
        this.pre();
        var target = this.targetNode || this.node;
        var childs = target.children;
        while (childs.length) this.recycleNode(childs[0].name, childs[0]);
        var paintData = calculate(lus, this.size, true);
        var shiftI = 0;
        if (this.size.limitWidth > 0) {
          var maxI = findMaxI(paintData.graphArr);
          shiftI = Utils_1.toNaturalNumber(maxI - this.size.limitWidth);
        }
        this.paint(paintData.ijs, paintData.graphArr, shiftI);
      };
      Luzi.prototype.paint = function(ijs, graphAry, shiftI) {
        var _this = this;
        var target = this.targetNode || this.node;
        ijs.forEach(function(ij) {
          var i = ij.i - shiftI;
          var j = ij.j;
          var ary = [];
          if (i >= 0) {
            var data = graphAry[ij.i][j];
            _this.appendNode.emit([ _this.getNode, data, ary, _this.luType, _this.size ]);
            var vec2_1 = ijToVec2({
              i: i,
              j: j
            }, _this.size);
            ary.forEach(function(node) {
              node.setPosition(vec2_1);
              target.addChild(node);
            });
          }
        });
      };
      Luzi.prototype.getNode = function(prefabKey) {
        this.nodePools.get(prefabKey) || this.nodePools.set(prefabKey, new cc.NodePool());
        if (!this.nodePools.get(prefabKey).size()) {
          var node = cc.instantiate(this.itemPrefabMap[prefabKey]);
          this.nodePools.get(prefabKey).put(node);
        }
        return this.nodePools.get(prefabKey).get();
      };
      Luzi.prototype.recycleNode = function(prefabKey, node) {
        this.nodePools.get(prefabKey).put(node);
      };
      __decorate([ property([ KeyPrefab_1.KeyPrefab ]) ], Luzi.prototype, "itemPrefabs", void 0);
      __decorate([ property(cc.Node) ], Luzi.prototype, "targetNode", void 0);
      __decorate([ property(cc.Vec2) ], Luzi.prototype, "tile", void 0);
      __decorate([ property(cc.Vec2) ], Luzi.prototype, "limit", void 0);
      __decorate([ property(cc.Vec2) ], Luzi.prototype, "offset", void 0);
      __decorate([ property(cc.Vec2) ], Luzi.prototype, "padding", void 0);
      __decorate([ property({
        type: cc.Enum(ROAD_TYPE),
        tooltip: "\u8def\u5b50\u985e\u578b\uff0c\u5982\u679c\u662f\u5927\u8def\u8981\u5be6\u73fe luToDalu\uff0c\u5982\u679c\u662f\u4e0b\u4e09\u8def\u8981\u5be6\u73fe luToDalu\u3001daluToXiasanlu\uff0c\u539f\u672c\u9810\u8a2d\u62ff\u5230\u7684\u8def\u662f\u73e0\u76e4\u8def"
      }) ], Luzi.prototype, "luType", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: "\u5be6\u73fe\u7c3d\u540d\u70ba (getNode: () => cc.Node, data: any, ary: cc.Node[]) \u7684\u65b9\u6cd5\uff0c\u5c07\u4e00\u7b46\u8cc7\u6599\u653e\u5165\u7bc0\u9ede"
      }) ], Luzi.prototype, "appendNode", void 0);
      Luzi = __decorate([ ccclass ], Luzi);
      return Luzi;
    }(cc.Component);
    exports.default = Luzi;
    var RoadSize = function() {
      function RoadSize() {}
      return RoadSize;
    }();
    exports.RoadSize = RoadSize;
    function isBlocked(size, graph, x, y) {
      if (y >= size.limitHeight) return true;
      return graph.get(x + "_" + y);
    }
    exports.isBlocked = isBlocked;
    function findAvailableX0(graph) {
      var x = 0;
      while (graph.get(x + "_0")) x += 1;
      return x;
    }
    exports.findAvailableX0 = findAvailableX0;
    function calculate(roads, size, hasBound) {
      var graphMap = new Map();
      var graphArr = [];
      var ijs = [];
      var last = {
        i: -1,
        j: -1,
        val: "xxxxx",
        goRight: false
      };
      roads.forEach(function(data, idx) {
        var ij = valueToIj(size, data.fetchVal(size, idx, roads), data, graphMap, last, hasBound);
        ijs.push(ij);
        graphArr[ij.i] || (graphArr[ij.i] = []);
        graphArr[ij.i][ij.j] = data;
      });
      return {
        graphArr: graphArr,
        graphMap: graphMap,
        last: last,
        ijs: ijs
      };
    }
    exports.calculate = calculate;
    function findMaxI(graphAry) {
      return graphAry.length;
    }
    exports.findMaxI = findMaxI;
    function ijToVec2(ij, size) {
      var posX = 0;
      var posY = 0;
      posX = ij.i * size.tileWidth + ij.i * size.paddingW + size.offsetX;
      posY = -ij.j * size.tileHeight - ij.j * size.paddingH - size.offsetY;
      return new cc.Vec2(posX, posY);
    }
    exports.ijToVec2 = ijToVec2;
    function valueToIj(size, val, data, graph, last, hasBound) {
      void 0 === hasBound && (hasBound = true);
      var i;
      var j;
      if (val === last.val) {
        if (last.goRight) {
          i = last.i + 1;
          j = last.j;
        } else {
          i = last.i;
          j = last.j + 1;
        }
        if (hasBound && isBlocked(size, graph, i, j)) {
          i += 1;
          j -= 1;
          0 !== j && (last.goRight = true);
        }
      } else {
        i = findAvailableX0(graph);
        j = 0;
        last.goRight = false;
      }
      graph.set(i + "_" + j, data);
      last.i = i;
      last.j = j;
      last.val = val;
      return {
        i: i,
        j: j
      };
    }
    exports.valueToIj = valueToIj;
    exports.XSL_CONFIG = (_a = {}, _a[ROAD_TYPE.BIG_EYE] = {
      beginIj: [ {
        i: 1,
        j: 1
      }, {
        i: 2,
        j: 0
      } ],
      sameLengthI: [ -2, -1 ],
      compareI: [ -1 ]
    }, _a[ROAD_TYPE.SMALL] = {
      beginIj: [ {
        i: 2,
        j: 1
      }, {
        i: 3,
        j: 0
      } ],
      sameLengthI: [ -3, -1 ],
      compareI: [ -2 ]
    }, _a[ROAD_TYPE.ROACH] = {
      beginIj: [ {
        i: 3,
        j: 1
      }, {
        i: 4,
        j: 0
      } ],
      sameLengthI: [ -4, -1 ],
      compareI: [ -3 ]
    }, _a);
    function xsl(config, graph, ijs) {
      var ijBegin = config.beginIj.find(function(ij) {
        return Boolean(graph[ij.i] && graph[ij.i][ij.j]);
      });
      if (!ijBegin) return [];
      var idx = ijs.findIndex(function(ij) {
        return ijBegin.i === ij.i && ijBegin.j === ij.j;
      });
      if (-1 === idx) return [];
      return ijs.slice(idx).map(function(ij) {
        var i = ij.i;
        var j = ij.j;
        var len0 = graph[i + config.sameLengthI[0]];
        var len1 = graph[i + config.sameLengthI[1]];
        var ary1 = graph[i + config.compareI[0]];
        return 0 === j ? len0.length === len1.length ? new XiasanluData("r") : new XiasanluData("b") : ary1[j] ? new XiasanluData("r") : ary1[j] || ary1[j - 1] ? new XiasanluData("b") : new XiasanluData("r");
      });
    }
    exports.xsl = xsl;
    var XiasanluData = function() {
      function XiasanluData(color) {
        this.color = color;
      }
      XiasanluData.prototype.fetchVal = function(size, idx) {
        return this.color;
      };
      XiasanluData.prototype.clone = function() {
        return new XiasanluData(this.color);
      };
      return XiasanluData;
    }();
    exports.XiasanluData = XiasanluData;
    cc._RF.pop();
  }, {
    "../data/KeyPrefab": "KeyPrefab",
    "../utils/Utils": "Utils"
  } ],
  Mark: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78775DRI3lOcYiJCLtt1WBL", "Mark");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Mark = function(_super) {
      __extends(Mark, _super);
      function Mark() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = "";
        return _this;
      }
      __decorate([ property(cc.String) ], Mark.prototype, "data", void 0);
      Mark = __decorate([ ccclass ], Mark);
      return Mark;
    }(cc.Component);
    exports.default = Mark;
    cc._RF.pop();
  }, {} ],
  Marquee: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "982adN0G+tDoakSlCWObG00", "Marquee");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MarqueeData = function() {
      function MarqueeData(message, group, priority, loopTimes, width) {
        void 0 === group && (group = "");
        void 0 === priority && (priority = 0);
        void 0 === loopTimes && (loopTimes = 0);
        void 0 === width && (width = 0);
        this.message = message;
        this.group = group;
        this.priority = priority;
        this.loopTimes = loopTimes;
        this.width = width;
      }
      MarqueeData.prototype.clone = function(loopTimes) {
        return new MarqueeData(this.message, this.group, this.priority, loopTimes, this.width);
      };
      return MarqueeData;
    }();
    function marqueeSort(a, b) {
      return a.priority - b.priority;
    }
    var Marquee = function(_super) {
      __extends(Marquee, _super);
      function Marquee() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.bgNode = null;
        _this.template = null;
        _this.maxWidth = 0;
        _this.pxPerSec = 140;
        _this.opacityPerSec = 0;
        _this.opacityNode = null;
        _this.width = 0;
        _this.queue = [];
        _this.playings = [];
        _this.playingNodes = [];
        _this.hanging = false;
        _this.nodePool = new cc.NodePool();
        _this.type = "cc.Label";
        _this.loaded = false;
        return _this;
      }
      Marquee.prototype.getNode = function() {
        this.nodePool.size() || this.nodePool.put(cc.instantiate(this.template));
        return this.nodePool.get();
      };
      Marquee.prototype.recycleNode = function(node) {
        node.getComponent(this.type).string = "";
        node.width = 0;
        node.x = 0;
        this.nodePool.put(node);
      };
      Marquee.prototype.filter = function(group) {
        this.queue = this.queue.filter(function(data) {
          return data.group !== group;
        });
        this.playings.forEach(function(data) {
          data.group === group && (data.loopTimes = 0);
        });
      };
      Marquee.prototype.forEach = function(fn) {
        this.queue.forEach(fn);
        this.playings.forEach(fn);
      };
      Marquee.prototype.length = function() {
        return this.queue.length + this.playings.length;
      };
      Marquee.prototype.pushData = function(data) {
        this.queue.push(data);
        this.queue.sort(marqueeSort);
      };
      Marquee.prototype.push = function(message, group, priority, loopTimes) {
        this.pre();
        this.pushData(new MarqueeData(message, group, priority, loopTimes));
      };
      Marquee.prototype.update = function(dt) {
        var px = dt * this.pxPerSec;
        this.playingNodes.forEach(function(node) {
          node.x -= px;
        });
        if (this.playingNodes[0] && this.playingNodes[0].x < -this.playings[0].width / 2 - this.width / 2) {
          this.recycleNode(this.playingNodes[0]);
          var finished = this.playings.shift();
          this.playingNodes.shift();
          -1 === finished.loopTimes ? this.pushData(finished.clone(finished.loopTimes)) : finished.loopTimes > 0 && this.pushData(finished.clone(finished.loopTimes - 1));
        }
        var lastIdx = this.playings.length - 1;
        var lastData = this.playings[lastIdx];
        var lastNode = this.playingNodes[lastIdx];
        var targetNode = this.targetNode;
        var o = this.opacityPerSec;
        if (o) {
          var l = this.length();
          var on = this.opacityNode;
          var ono = on.opacity;
          l && ono < 255 && (on.opacity = Utils_1.lowerThen(255, ono + dt * o));
          !l && ono > 0 && (on.opacity = Utils_1.biggerThen(0, ono - dt * o));
        }
        if (!this.hanging && (lastNode && lastNode.x < -lastData.width / 2 + this.width / 2 || null == lastNode) && this.queue.length) {
          lastData = this.queue.shift();
          lastNode = this.getNode();
          this.playings.push(lastData);
          this.playingNodes.push(lastNode);
          lastIdx = this.playings.length - 1;
          lastNode.getComponent(this.type).string = lastData.message;
          lastNode.opacity = 0;
          targetNode.addChild(lastNode);
          this.hanging = true;
        }
        if (this.hanging) if (lastNode) {
          if (lastNode.width) {
            lastData.width = lastNode.width;
            lastNode.opacity = 255;
            lastNode.x = lastData.width / 2 + this.width / 2;
            this.hanging = false;
          }
        } else this.hanging = false;
      };
      Marquee.prototype.onLoad = function() {
        this.pre();
      };
      Marquee.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.width = this.maxWidth;
        this.template.getComponent(cc.Label) ? this.type = "cc.Label" : this.template.getComponent(cc.RichText) && (this.type = "cc.RichText");
        this.template.removeFromParent();
        this.targetNode = this.targetNode || this.node;
        this.opacityNode = this.opacityNode || this.node;
        this.opacityPerSec && (this.opacityNode.opacity = 0);
      };
      Marquee.prototype.onResized = function(size) {
        this.pre();
        var width = Utils_1.lowerThen(this.maxWidth, Utils_1.toNaturalNumber(size.width - 856));
        this.width = width;
        this.node.width = width;
        this.bgNode.width = width;
      };
      __decorate([ property(cc.Node) ], Marquee.prototype, "targetNode", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "bgNode", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "template", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "maxWidth", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "pxPerSec", void 0);
      __decorate([ property(cc.Integer) ], Marquee.prototype, "opacityPerSec", void 0);
      __decorate([ property(cc.Node) ], Marquee.prototype, "opacityNode", void 0);
      Marquee = __decorate([ ccclass ], Marquee);
      return Marquee;
    }(cc.Component);
    exports.default = Marquee;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  Mask: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e816bki+BxDoayWvcaS3voY", "Mask");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeTween_1 = require("../data/NodeTween");
    var ccclass = cc._decorator.ccclass;
    var Mask = function(_super) {
      __extends(Mask, _super);
      function Mask() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.toGray = false;
        _this.toTransparent = false;
        _this.action = null;
        return _this;
      }
      Mask.prototype.fade = function(fadein, callback) {
        var _this = this;
        void 0 === fadein && (fadein = true);
        void 0 === callback && (callback = function() {});
        if (fadein) {
          this.toTransparent = false;
          if (this.toGray) return;
          if (255 !== this.node.opacity) {
            this.node.stopAllActions();
            this.action = cc.sequence(cc.callFunc(function() {
              _this.toGray = true;
            }), cc.fadeIn(.3), cc.callFunc(function() {
              _this.node.opacity = 255;
              _this.toGray = false;
            }), cc.callFunc(callback), cc.callFunc(function() {
              _this.action = null;
            }));
            NodeTween_1.applyNodeTween({
              node: this.node,
              action: this.action
            });
            cc.tween(this.node).then(this.action).start();
          }
        } else {
          this.toGray = false;
          if (this.toTransparent) return;
          this.node.stopAllActions();
          this.action = cc.sequence(cc.callFunc(function() {
            _this.toTransparent = true;
          }), cc.fadeOut(.3), cc.callFunc(function() {
            _this.node.opacity = 0;
            _this.toTransparent = false;
          }), cc.callFunc(callback), cc.callFunc(function() {
            _this.action = null;
          }));
          cc.tween(this.node).then(this.action).start();
        }
      };
      Mask.prototype.onEnable = function() {
        this.action && cc.tween(this.node).then(this.action).start();
      };
      Mask.prototype.onDisable = function() {};
      Mask.prototype.toggle = function(able, hasGrayMask) {
        able ? this.on(hasGrayMask) : this.off();
      };
      Mask.prototype.on = function(gray) {
        void 0 === gray && (gray = true);
        this.node.active = true;
        this.fade(gray);
      };
      Mask.prototype.off = function() {
        var next = function() {
          this.node.active = false;
        }.bind(this);
        this.fade(false, next);
      };
      Mask = __decorate([ ccclass ], Mask);
      return Mask;
    }(cc.Component);
    exports.default = Mask;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween"
  } ],
  Media: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "aa366OcUiZOXo307y1Bw3i8", "Media");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.Media = void 0;
    var mediaFile = "data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA=";
    var Media = function() {
      function Media() {}
      Media.prototype.getContent = function() {
        return mediaFile;
      };
      return Media;
    }();
    exports.Media = Media;
    cc._RF.pop();
  }, {} ],
  MemberServiceBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7619dOq28NKoI59gTpNuBqt", "MemberServiceBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.MemberServiceBaseKey = void 0;
    var user_pb_1 = require("game-protobuf/ts/account/user_pb");
    var game_pb_1 = require("game-protobuf/ts/game/game_pb");
    var game_pb_service_1 = require("game-protobuf/ts/game/game_pb_service");
    var any_pb_1 = require("google-protobuf/google/protobuf/any_pb");
    var LibGlobal_1 = require("../LibGlobal");
    var RpcServiceBase_1 = require("./RpcServiceBase");
    var MemberServiceBaseKey;
    (function(MemberServiceBaseKey) {
      MemberServiceBaseKey["AccountAuthRes"] = "account.AuthRes";
      MemberServiceBaseKey["AccountUserInfoRes"] = "account.UserInfoRes";
      MemberServiceBaseKey["AccountPlatformRes"] = "account.PlatformRes";
      MemberServiceBaseKey["AccountLinkRes"] = "account.LinkRes";
      MemberServiceBaseKey["GameResumeRes"] = "game.ResumeRes";
      MemberServiceBaseKey["GameHeartbeatRes"] = "game.HeartbeatRes";
      MemberServiceBaseKey["DisconnectRes"] = "game.DisconnectRes";
      MemberServiceBaseKey["AccountUpdateBalanceRes"] = "account.UpdateBalanceRes";
      MemberServiceBaseKey["GameKickRes"] = "game.KickRes";
      MemberServiceBaseKey["GameMarqueeRes"] = "game.MarqueeRes";
    })(MemberServiceBaseKey = exports.MemberServiceBaseKey || (exports.MemberServiceBaseKey = {}));
    var MemberServiceBase = function(_super) {
      __extends(MemberServiceBase, _super);
      function MemberServiceBase(host, token) {
        var _this = _super.call(this) || this;
        _this.host = host;
        _this.token = token;
        _this.respondPacketProcessor = _this.respondPacketProcessor.bind(_this);
        return _this;
      }
      MemberServiceBase.prototype.init = function() {
        return this.initStreaming(this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamAuth = function(authReq) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(authReq, "account.AuthReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetUserInfo = function(req) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(req, "account.UserInfoReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetPlatfromAuthInfo = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(new user_pb_1.PlatformReq(), "account.PlatformReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetLink = function(gid) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        var linkReq = new user_pb_1.LinkReq();
        linkReq.setGid(gid);
        packet.setContent(this.toAny(linkReq, "account.LinkReq"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamDisconnect = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.DISCONNECT);
        var disconnectReq = new game_pb_1.DisconnectReq();
        packet.setDisconnectReq(disconnectReq);
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamGetUpdateBalance = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.CONTENT);
        packet.setContent(this.toAny(new user_pb_1.UpdateBalanceReq(), "account.UpdateBalance"));
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamHeartbeat = function(heartbeat) {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.HEARTBEAT);
        packet.setHeartBeatReq(heartbeat);
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.streamResume = function() {
        var packet = new game_pb_1.PacketReq();
        packet.setIndex(this.generatePacketIndex());
        packet.setType(game_pb_1.PacketType.RESUME);
        packet.setResumeReq(new game_pb_1.ResumeReq());
        return this.callStreamingAPI(game_pb_service_1.Game.Streaming, packet, true, this.respondPacketProcessor);
      };
      MemberServiceBase.prototype.respondPacketProcessor = function(packet) {
        switch (packet.getType()) {
         case game_pb_1.PacketType.HEARTBEAT:
          return [ MemberServiceBaseKey.GameHeartbeatRes, packet.getHeartBeatRes() ];

         case game_pb_1.PacketType.DISCONNECT:
          return [ MemberServiceBaseKey.DisconnectRes, packet.getDisconnectRes() ];

         case game_pb_1.PacketType.RESUME:
          return [ MemberServiceBaseKey.GameResumeRes, packet.getResumeRes() ];

         case game_pb_1.PacketType.CONTENT:
          return this.parseContent(packet.getContent());

         default:
          LibGlobal_1.log("no PacketType");
        }
        return null;
      };
      MemberServiceBase.prototype.parseContent = function(content) {
        var key = content.getTypeName();
        var obj = null;
        switch (key) {
         case MemberServiceBaseKey.AccountAuthRes:
          obj = content.unpack(user_pb_1.AuthRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountUserInfoRes:
          obj = content.unpack(user_pb_1.UserInfoRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountPlatformRes:
          obj = content.unpack(user_pb_1.PlatformRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountLinkRes:
          obj = content.unpack(user_pb_1.LinkRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameHeartbeatRes:
          obj = content.unpack(game_pb_1.HeartbeatRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.AccountUpdateBalanceRes:
          obj = content.unpack(user_pb_1.UpdateBalanceRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameKickRes:
          obj = content.unpack(game_pb_1.KickRes.deserializeBinary, content.getTypeName());
          break;

         case MemberServiceBaseKey.GameMarqueeRes:
          obj = content.unpack(game_pb_1.MarqueeRes.deserializeBinary, content.getTypeName());
          break;

         default:
          obj = this.doParseContent(content);
        }
        obj || LibGlobal_1.warn("No Match Type", content.getTypeName(), content);
        return [ key, obj ];
      };
      MemberServiceBase.prototype.toAny = function(content, name) {
        var a = new any_pb_1.Any();
        a.pack(content.serializeBinary(), name);
        return a;
      };
      return MemberServiceBase;
    }(RpcServiceBase_1.default);
    exports.default = MemberServiceBase;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./RpcServiceBase": "RpcServiceBase",
    "game-protobuf/ts/account/user_pb": 23,
    "game-protobuf/ts/game/game_pb": 25,
    "game-protobuf/ts/game/game_pb_service": 26,
    "google-protobuf/google/protobuf/any_pb": 28
  } ],
  MonkeyBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "dc5d4tE6hJNRKMio8pji2lQ", "MonkeyBase");
    "use strict";
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.dumpJson = exports.dump = exports.mlog = exports.mbool = exports.mlogDecorator = exports.monkeyRequestGenerator = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    function defaultNextFilter() {
      return false;
    }
    var commRequestMap = new Map();
    var loaded = false;
    var mindex = 0;
    function getNextIndex() {
      return mindex += 1;
    }
    function logMap(r) {
      if (r && r.toObject) return r.toObject();
      if ("function" === typeof r) return commRequestMap.get(r);
      if (Array.isArray(r)) return r.map(logMap);
      return r;
    }
    function monkeyRequestGenerator(requests, nextFilter) {
      void 0 === requests && (requests = []);
      void 0 === nextFilter && (nextFilter = defaultNextFilter);
      if (true, LibGlobal_1.monkeyMode()) return {
        request: monkeyRequestGenerator2([]),
        failRequest: monkeyRequestGenerator2([], nextFilter, true),
        monkeyRequest: monkeyRequestGenerator2(requests, nextFilter, true)
      };
      var noop = function() {
        return Promise.resolve();
      };
      return {
        request: noop,
        failRequest: noop,
        monkeyRequest: noop
      };
    }
    exports.monkeyRequestGenerator = monkeyRequestGenerator;
    function mlogDecorator(targetOrOptions, propertyKey, descriptor) {
      var before;
      var after;
      if ("undefined" === typeof propertyKey) {
        before = targetOrOptions.before;
        after = targetOrOptions.after;
        return decorator;
      }
      decorator(targetOrOptions, propertyKey, descriptor);
      function decorator(target, propertyKey, descriptor) {
        if (true, LibGlobal_1.monkeyMode()) {
          var prop_1 = descriptor.value;
          target["_" + propertyKey] = prop_1;
          descriptor.value = function f() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            var last = args.length && args[args.length - 1];
            var observer;
            if (last && last.next) {
              observer = last;
              args.pop();
            } else observer = this.streamObserver;
            var i = getNextIndex();
            var req = [ f ].concat(args);
            before && before(f, args);
            var ob = {
              next: function(val) {
                var result = val[1] && val[1].getResult && val[1].getResult();
                result && 1 !== result.getCode() ? mlog(i, req, [], val) : mlog(i, req, val);
                observer.next(val);
              },
              error: function(err) {
                mlog(i, req, [], [ err ]);
                observer.error(err);
              },
              complete: observer.complete
            };
            mlog(i, req);
            prop_1.apply(this, args.concat(ob));
            after && after(f, args);
          };
          commRequestMap.set(descriptor.value, propertyKey);
        }
      }
    }
    exports.mlogDecorator = mlogDecorator;
    function monkeyRequestGenerator2(requests, nextFilter, expectFail) {
      void 0 === requests && (requests = []);
      void 0 === nextFilter && (nextFilter = defaultNextFilter);
      void 0 === expectFail && (expectFail = false);
      return function(comm, fn) {
        var m = [];
        for (var _i = 2; _i < arguments.length; _i++) m[_i - 2] = arguments[_i];
        if (!loaded && requests.length) {
          loaded = true;
          requests.forEach(function(r) {
            var r0 = r.apply(null, [ comm ].concat(m))[0];
            for (var key in comm) {
              var f = comm[key];
              if (f === r0) {
                commRequestMap.set(f, key);
                return;
              }
            }
          });
        }
        var request;
        if (requests.length) {
          var arr_1 = LibGlobal_1.monkeyMode() ? [ comm ].concat(m) : [];
          var mrequest = fn ? requests.find(function(r) {
            return r.apply(null, arr_1)[0] === fn;
          }) : Utils_1.randomItem(requests);
          request = mrequest.apply(null, arr_1);
        } else request = __spreadArrays([ fn ], m);
        var i = getNextIndex();
        var cf = request[0];
        var str = commRequestMap.get(cf);
        return new Promise(function(resolve, reject) {
          var ob = {
            next: function(val) {
              var result = val[1] && val[1].getResult && val[1].getResult();
              if (expectFail) if (result && 1 !== result.getCode()) resolve(val[1]); else if (nextFilter(val[0], val[1])) {
                mlog(i, request, val, []);
                comm.streamObserver.next(val);
                resolve(val[1]);
              } else {
                mlog(i, request, [], val);
                comm.streamObserver.next(val);
                reject(str + JSON.stringify(val[1].toObject()));
              } else if (result && 1 !== result.getCode()) {
                mlog(i, request, [], val);
                reject(str + JSON.stringify(val[1].toObject()));
              } else {
                mlog(i, request, val);
                comm.streamObserver.next(val);
                resolve(val[1]);
              }
            },
            error: function(err) {
              mlog(i, request, [], [ err ]);
              reject(err);
            },
            complete: function() {}
          };
          mlog(i, request);
          if (!str) for (var key in comm) {
            var f_1 = comm[key];
            if (cf === f_1) {
              commRequestMap.set(f_1, key);
              str = key;
              break;
            }
          }
          var f = comm["_" + str] || cf;
          f.apply(comm, request.slice(1).concat(ob));
          setTimeout(function() {
            if (expectFail) {
              mlog(i, request, [ "timeout 1s" ], []);
              resolve("timeout 1s");
            } else {
              mlog(i, request, [], [ "timeout 1s" ]);
              reject("timeout 1s");
            }
          }, 1e3);
        });
      };
    }
    function mbool() {
      return 0 === Utils_1.random(2);
    }
    exports.mbool = mbool;
    var logs = [];
    var logPrefix = "monkeyRequest";
    function mlog(idx, req, res, err) {
      void 0 === res && (res = []);
      void 0 === err && (err = []);
      if (true, LibGlobal_1.monkeyMode()) {
        var now = Date.now();
        var req0 = req.map(logMap);
        var res0 = res.map(logMap);
        var err0 = err.map(logMap);
        logs.push([ idx, now, req0[0], req0.slice(1), res0, err0 ]);
        var req0s1 = req0.slice(1);
        1 === req0s1.length && (req0s1 = req0s1[0]);
        res && res.length ? LibGlobal_1.log(logPrefix + "#res", idx, now, req0[0], req0s1, res0) : err && err.length ? LibGlobal_1.log(logPrefix + "#err", idx, now, req0[0], req0s1, err0) : LibGlobal_1.log(logPrefix + "#req", idx, now, req0[0], req0s1);
      }
    }
    exports.mlog = mlog;
    function dump() {
      return logs;
    }
    exports.dump = dump;
    function dumpJson() {
      return JSON.stringify(logs);
    }
    exports.dumpJson = dumpJson;
    (true, LibGlobal_1.monkeyMode()) && LibGlobal_1.globalDebugNNN({
      dump: dump,
      dumpJson: dumpJson
    });
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  NetQuality: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "79eed4YmKVMDqJFocf+7EZV", "NetQuality");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NetQuality = function(_super) {
      __extends(NetQuality, _super);
      function NetQuality() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.networkStateSprites = [];
        _this.pingLabel = null;
        _this.labelColors = [];
        return _this;
      }
      NetQuality.prototype.setPing = function(latencyTime) {
        var sprites = this.networkStateSprites;
        var sprite = this.icon;
        var label = this.pingLabel;
        var idx;
        switch (true) {
         case latencyTime < 100:
          idx = 4;
          break;

         case latencyTime < 300:
          idx = 3;
          break;

         case latencyTime < 400:
          idx = 2;
          break;

         case latencyTime < 500:
          idx = 1;
          break;

         default:
          idx = 0;
        }
        var color = this.labelColors[idx];
        color && Utils_1.nodeColor(color)(label.node);
        sprite.spriteFrame = sprites[idx];
        label.string = latencyTime.toFixed(0).toString();
      };
      __decorate([ property(cc.Sprite) ], NetQuality.prototype, "icon", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], NetQuality.prototype, "networkStateSprites", void 0);
      __decorate([ property(cc.Label) ], NetQuality.prototype, "pingLabel", void 0);
      __decorate([ property([ cc.Color ]) ], NetQuality.prototype, "labelColors", void 0);
      NetQuality = __decorate([ ccclass ], NetQuality);
      return NetQuality;
    }(cc.Component);
    exports.default = NetQuality;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  NoSleep: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f1b1ofzdRDuo5pGQcHXper", "NoSleep");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoSleep = void 0;
    var Media_1 = require("./Media");
    var oldIOS = "undefined" !== typeof navigator && parseFloat(("" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [ 0, "" ])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) < 10 && !window.MSStream;
    var NoSleep = function() {
      function NoSleep(title) {
        var _this = this;
        this.mediaFile = null;
        this.noSleepVideo = null;
        this.noSleepTimer = null;
        this.mediaFile = new Media_1.Media();
        if (oldIOS) this.noSleepTimer = null; else {
          this.noSleepVideo = document.createElement("video");
          this.noSleepVideo.setAttribute("title", title);
          this.noSleepVideo.setAttribute("playsinline", "");
          this.noSleepVideo.setAttribute("src", this.mediaFile.getContent());
          this.noSleepVideo.addEventListener("timeupdate", function() {
            _this.noSleepVideo.currentTime > .5 && (_this.noSleepVideo.currentTime = Math.random());
          });
        }
      }
      NoSleep.prototype.enable = function() {
        if (oldIOS) {
          this.disable();
          this.noSleepTimer = window.setInterval(function() {
            window.location.href = "/";
            window.setTimeout(window.stop, 0);
          }, 15e3);
        } else this.noSleepVideo.play();
      };
      NoSleep.prototype.disable = function() {
        if (oldIOS) {
          if (this.noSleepTimer) {
            window.clearInterval(this.noSleepTimer);
            this.noSleepTimer = null;
          }
        } else this.noSleepVideo.pause();
      };
      return NoSleep;
    }();
    exports.NoSleep = NoSleep;
    cc._RF.pop();
  }, {
    "./Media": "Media"
  } ],
  NodeAction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "819b4hhbdBOsaJFKa6YOfyQ", "NodeAction");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyNodeActions = exports.applyNodeAction = exports.nodeActionsToPromise = exports.nodeActionToPRR = exports.nodeActionToPromise = exports.NodeAction = void 0;
    var NodeAction = function() {
      function NodeAction(node, action) {
        this.node = node;
        this.action = action;
      }
      return NodeAction;
    }();
    exports.NodeAction = NodeAction;
    function nodeActionToPromise(nodeAction) {
      return new Promise(function(resolve) {
        nodeAction.node.runAction(cc.sequence(nodeAction.action, cc.callFunc(resolve)));
      });
    }
    exports.nodeActionToPromise = nodeActionToPromise;
    function nodeActionToPRR(nodeAction) {
      var resolve;
      var reject;
      var promise = new Promise(function(res, rej) {
        resolve = res;
        reject = rej;
        nodeAction.node.runAction(cc.sequence(nodeAction.action, cc.callFunc(resolve)));
      });
      return {
        resolve: resolve,
        reject: reject,
        promise: promise
      };
    }
    exports.nodeActionToPRR = nodeActionToPRR;
    function nodeActionsToPromise(nodeActions) {
      return Promise.all(nodeActions.map(nodeActionToPromise));
    }
    exports.nodeActionsToPromise = nodeActionsToPromise;
    function applyNodeAction(nodeAction) {
      nodeAction.node.stopAllActions();
      return nodeAction.node.runAction(nodeAction.action);
    }
    exports.applyNodeAction = applyNodeAction;
    function applyNodeActions(nodeActions) {
      return nodeActions.map(applyNodeAction);
    }
    exports.applyNodeActions = applyNodeActions;
    cc._RF.pop();
  }, {} ],
  NodeFollow: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "04d4dP7WFBN0ZeILwt4fUTO", "NodeFollow");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NodeFollow = function(_super) {
      __extends(NodeFollow, _super);
      function NodeFollow() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.onResized = false;
        _this.onLateUpdate = false;
        _this.scale = false;
        _this.position = false;
        _this.followNode = null;
        _this.targetNode = null;
        _this.onResizeManager = null;
        return _this;
      }
      NodeFollow.prototype.onLoad = function() {
        this.targetNode = this.targetNode || this.node;
        this.follow = this.follow.bind(this);
      };
      NodeFollow.prototype.onEnable = function() {
        if (this.onResized) {
          this.onResizeManager = ResizeGlobal_1.getOnResizeComponent();
          this.onResizeManager.registCallback(this.follow);
        }
      };
      NodeFollow.prototype.onDisable = function() {
        this.onResized && this.onResizeManager.unregistCallback(this.follow);
      };
      NodeFollow.prototype.lateUpdate = function() {
        this.onLateUpdate && this.follow();
      };
      NodeFollow.prototype.follow = function() {
        var f = this.followNode;
        var t = this.targetNode;
        this.position && Utils_1.setPosition(t, f);
        if (this.scale) {
          var mat4 = cc.mat4();
          var v3 = cc.v3();
          f.getWorldMatrix(mat4).getScale(v3);
          var tp = t.parent;
          var tpV3 = cc.v3();
          tp.getWorldMatrix(mat4).getScale(tpV3);
          var px = tpV3.x;
          var py = tpV3.y;
          var tx = v3.x;
          var ty = v3.y;
          t.scaleX = tx / px;
          t.scaleY = ty / py;
        }
      };
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "onResized", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "onLateUpdate", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "scale", void 0);
      __decorate([ property(cc.Boolean) ], NodeFollow.prototype, "position", void 0);
      __decorate([ property(cc.Node) ], NodeFollow.prototype, "followNode", void 0);
      __decorate([ property(cc.Node) ], NodeFollow.prototype, "targetNode", void 0);
      NodeFollow = __decorate([ ccclass ], NodeFollow);
      return NodeFollow;
    }(cc.Component);
    exports.default = NodeFollow;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../utils/Utils": "Utils"
  } ],
  NodeShrink: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "754a0uf4xFAmJ2moDRZ9KBM", "NodeShrink");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.MODE = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, menu = _a.menu, requireComponent = _a.requireComponent;
    var MODE;
    (function(MODE) {
      MODE[MODE["scale"] = 0] = "scale";
      MODE[MODE["scaleX"] = 1] = "scaleX";
      MODE[MODE["scaleY"] = 2] = "scaleY";
    })(MODE = exports.MODE || (exports.MODE = {}));
    var NodeShrink = function(_super) {
      __extends(NodeShrink, _super);
      function NodeShrink() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.wh = new cc.Vec2();
        _this.maxScale = 1;
        _this.mode = MODE.scale;
        return _this;
      }
      NodeShrink.prototype.onEnable = function() {
        this.resize();
      };
      NodeShrink.prototype.resize = function() {
        var node = this.node;
        var nw = node.width;
        var nh = node.height;
        var w = this.wh.x;
        var h = this.wh.y;
        var arr = [ this.maxScale ];
        (this.mode === MODE.scale || this.mode === MODE.scaleX) && w && nw && arr.push(w / nw);
        (this.mode === MODE.scale || this.mode === MODE.scaleY) && h && nh && arr.push(h / nh);
        var scale = Math.min.apply(null, arr);
        this.mode === MODE.scale ? node.scale = scale : this.mode === MODE.scaleX ? node.scaleX = scale : this.mode === MODE.scaleY && (node.scaleY = scale);
      };
      __decorate([ property(cc.Vec2) ], NodeShrink.prototype, "wh", void 0);
      __decorate([ property(cc.Float) ], NodeShrink.prototype, "maxScale", void 0);
      __decorate([ property({
        type: cc.Enum(MODE)
      }) ], NodeShrink.prototype, "mode", void 0);
      NodeShrink = __decorate([ ccclass, executionOrder(2), menu("LayoutShrink/NodeShrink") ], NodeShrink);
      return NodeShrink;
    }(cc.Component);
    exports.default = NodeShrink;
    cc._RF.pop();
  }, {} ],
  NodeTween: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50ae6mKJNhKBJ6LPX65HUcX", "NodeTween");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyNodeTweens = exports.applyNodeTween = exports.nodeTweensToPromise = exports.nodeTweenToPRR = exports.nodeTweenToPromise = exports.NodeTween = exports.nodeTween = exports.stopTween = exports.TWEEN_SYMBOL = void 0;
    exports.TWEEN_SYMBOL = Symbol("tween");
    function stopTween(node) {
      var t = node[exports.TWEEN_SYMBOL];
      if (t) {
        t.stop();
        node[exports.TWEEN_SYMBOL] = null;
      }
    }
    exports.stopTween = stopTween;
    function nodeTween(node) {
      stopTween(node);
      var t = cc.tween(node);
      node[exports.TWEEN_SYMBOL] = t;
      return t;
    }
    exports.nodeTween = nodeTween;
    var NodeTween = function() {
      function NodeTween(node, action) {
        this.node = node;
        this.action = action;
      }
      return NodeTween;
    }();
    exports.NodeTween = NodeTween;
    function nodeTweenToPromise(nodeTween) {
      return new Promise(function(resolve) {
        cc.tween(nodeTween.node).sequence(nodeTween.action, cc.callFunc(resolve)).start();
      });
    }
    exports.nodeTweenToPromise = nodeTweenToPromise;
    function nodeTweenToPRR(nodeTween) {
      var resolve;
      var reject;
      var promise = new Promise(function(res, rej) {
        resolve = res;
        reject = rej;
        cc.tween(nodeTween.node).sequence(nodeTween.action, cc.callFunc(resolve)).start();
      });
      return {
        resolve: resolve,
        reject: reject,
        promise: promise
      };
    }
    exports.nodeTweenToPRR = nodeTweenToPRR;
    function nodeTweensToPromise(nodeTweens) {
      return Promise.all(nodeTweens.map(nodeTweenToPromise));
    }
    exports.nodeTweensToPromise = nodeTweensToPromise;
    function applyNodeTween(nodeTween) {
      nodeTween.node.stopAllActions();
      return cc.tween(nodeTween.node).then(nodeTween.action).start();
    }
    exports.applyNodeTween = applyNodeTween;
    function applyNodeTweens(nodeTweens) {
      return nodeTweens.map(applyNodeTween);
    }
    exports.applyNodeTweens = applyNodeTweens;
    cc._RF.pop();
  }, {} ],
  NonePropagationComponent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "98d91JkUItH3LaFvCSD11Hf", "NonePropagationComponent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var NonePropagationComponent = function(_super) {
      __extends(NonePropagationComponent, _super);
      function NonePropagationComponent() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      NonePropagationComponent.prototype.onEnable = function() {
        this.controlHistoryTouch(true);
      };
      NonePropagationComponent.prototype.onDisable = function() {
        this.controlHistoryTouch(false);
      };
      NonePropagationComponent.prototype.controlHistoryTouch = function(enable) {
        if (enable) {
          this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
          this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
        } else {
          this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEvent, this);
          this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEvent, this);
        }
      };
      NonePropagationComponent.prototype.onTouchEvent = function(event) {
        event.stopPropagation();
      };
      NonePropagationComponent = __decorate([ ccclass ], NonePropagationComponent);
      return NonePropagationComponent;
    }(cc.Component);
    exports.default = NonePropagationComponent;
    cc._RF.pop();
  }, {} ],
  OnResizeManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "81aabJ/vglO0o7ZEJODujbF", "OnResizeManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var GALAXY_FOLD_RATIO = .428;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var OnResizeManager = function(_super) {
      __extends(OnResizeManager, _super);
      function OnResizeManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handlers = [];
        _this.callbacks = [];
        _this.size = null;
        _this.resizeWithBrowserSize = false;
        _this.vRatioMin = 0;
        _this.vRatioMax = 0;
        _this.hRatioMin = 0;
        _this.hRatioMax = 0;
        return _this;
      }
      OnResizeManager.prototype.onLoad = function() {
        ResizeGlobal_1.setOnResizeComponent(this);
        var dr = cc.Canvas.instance.designResolution;
        ResizeGlobal_1.setWorldSize(dr.width, dr.height);
        this.onResize = this.onResize.bind(this);
        if (this.resizeWithBrowserSize) {
          cc.view.resizeWithBrowserSize(true);
          cc.view.setResizeCallback(this.doResizeWithBrowserSize.bind(this));
        } else cc.sys.isMobile ? window.addEventListener("resize", this.onResize) : cc.view.on("canvas-resize", this.onResize);
        cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH, this.resize.bind(this));
        ResizeGlobal_1.applyOrientationMode();
      };
      OnResizeManager.prototype.start = function() {
        this.resize();
      };
      OnResizeManager.prototype.resize = function() {
        this.resizeWithBrowserSize ? this.doResizeWithBrowserSize() : this.onResize();
      };
      OnResizeManager.prototype.onDestroy = function() {
        ResizeGlobal_1.setOnResizeComponent(null);
        if (this.resizeWithBrowserSize) {
          cc.view.resizeWithBrowserSize(false);
          cc.view.setResizeCallback(null);
        } else cc.sys.isMobile ? window.removeEventListener("resize", this.resize) : cc.view.on("canvas-resize", this.resize);
      };
      OnResizeManager.prototype.doResizeWithBrowserSize = function() {
        var dr = cc.Canvas.instance.designResolution;
        var drw = dr.width;
        var drh = dr.height;
        var ratioMax = drw / drh;
        var ratioMin = drh / drw;
        var size = cc.view.getFrameSize();
        var ratio = size.width / size.height;
        var land = ratio >= 1;
        LibGlobal_1.log(ratio);
        var type;
        type = ResizeGlobal_1.verticalOnly ? this.vRatioMin && this.vRatioMin > ratio ? "vBlackUD" : this.vRatioMax && this.vRatioMax < ratio ? "vBlackLR" : land ? cc.sys.isMobile ? "v" : "vBlackLR" : "v" : ResizeGlobal_1.horizontalOnly ? this.hRatioMin && this.hRatioMin > ratio ? "hBlackUD" : this.hRatioMax && this.hRatioMax < ratio ? "hBlackLR" : "h" : land ? "h" : "v";
        if ("h" === type) {
          var h = drh;
          ratio < ratioMax && (h *= 1 + ratioMax - ratio);
          var rp = ResizeGlobal_1.showAllMode ? cc.ResolutionPolicy.SHOW_ALL : cc.ResolutionPolicy.FIXED_HEIGHT;
          cc.view.setDesignResolutionSize(drw, h, rp);
        } else if ("v" === type) {
          var w = drh;
          ratio > ratioMin && (w /= 1 + ratioMin - ratio);
          var rp = ResizeGlobal_1.showAllMode ? cc.ResolutionPolicy.SHOW_ALL : cc.ResolutionPolicy.FIXED_WIDTH;
          cc.view.setDesignResolutionSize(w, drw, rp);
        } else if ("vBlackLR" === type) {
          var vrMax = this.vRatioMax;
          land ? cc.view.setDesignResolutionSize(drh, drw, cc.ResolutionPolicy.SHOW_ALL) : cc.view.setDesignResolutionSize(drw * vrMax, drw, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("vBlackUD" === type) {
          var vrMin = this.vRatioMin;
          var h = drh / ratio;
          vrMin && vrMin > ratio && (h = drh / vrMin);
          cc.view.setDesignResolutionSize(drh, h, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("hBlackUD" === type) {
          var hrMin = this.hRatioMin;
          cc.view.setDesignResolutionSize(drw, drw / hrMin, cc.ResolutionPolicy.SHOW_ALL);
        } else if ("hBlackLR" === type) {
          var hrMax = this.hRatioMax;
          var w = drh * ratio;
          hrMax && hrMax < ratio && (w = drh * hrMax);
          cc.view.setDesignResolutionSize(w, drh, cc.ResolutionPolicy.SHOW_ALL);
        }
        this.onResize();
      };
      OnResizeManager.prototype.onResize = function() {
        var _this = this;
        var size = cc.view.getVisibleSize();
        ResizeGlobal_1.setWorldSize(size.width, size.height);
        this.size = size;
        this.callbacks && this.scheduleOnce(function() {
          _this.callbacks.forEach(function(callback) {
            return callback();
          });
        }, 0);
        if (!this.handlers) {
          LibGlobal_1.warn("handlers is empty");
          return;
        }
        this.handlers.forEach(function(handler) {
          return handler.emit([ size ]);
        });
      };
      OnResizeManager.prototype.registHandler = function(handler) {
        if (!handler) {
          LibGlobal_1.warn("handler is empty");
          return;
        }
        this.handlers || (this.handlers = []);
        this.handlers.push(handler);
        this.size && handler.emit([ this.size ]);
      };
      OnResizeManager.prototype.unregistHandler = function(handler) {
        Utils_1.arraySplice(this.handlers, handler);
      };
      OnResizeManager.prototype.registCallback = function(callback) {
        if (!callback) {
          LibGlobal_1.warn("callback is empty");
          return;
        }
        this.callbacks || (this.callbacks = []);
        this.callbacks.push(callback);
        this.size && this.scheduleOnce(callback, 0);
      };
      OnResizeManager.prototype.unregistCallback = function(callback) {
        Utils_1.arraySplice(this.callbacks, callback);
      };
      __decorate([ property(cc.Boolean) ], OnResizeManager.prototype, "resizeWithBrowserSize", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 VerticalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5c0f\u7684 ratio\uff0cratio \u5c0f\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u4e0a\u4e0b\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "vRatioMin", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 VerticalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5927\u7684 ratio\uff0cratio \u5927\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u5de6\u53f3\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "vRatioMax", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 HorizontalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5c0f\u7684 ratio\uff0cratio \u5c0f\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u4e0a\u4e0b\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "hRatioMin", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5728 HorizontalOnly \u6642\uff0c\u53ef\u4ee5\u9650\u5236\u6700\u5927\u7684 ratio\uff0cratio \u5927\u65bc\u6b64\u503c\u6703\u51fa\u73fe\u5de6\u53f3\u9ed1\u908a"
      }) ], OnResizeManager.prototype, "hRatioMax", void 0);
      OnResizeManager = __decorate([ ccclass ], OnResizeManager);
      return OnResizeManager;
    }(cc.Component);
    exports.default = OnResizeManager;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../utils/Utils": "Utils"
  } ],
  OnResized: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "71b5c8P/39H5ooQHjbfgAHw", "OnResized");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var OnResized = function(_super) {
      __extends(OnResized, _super);
      function OnResized() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.handler = null;
        _this.onResizeManager = null;
        return _this;
      }
      OnResized.prototype.onEnable = function() {
        this.onResizeManager = ResizeGlobal_1.getOnResizeComponent();
        this.onResizeManager.registHandler(this.handler);
      };
      OnResized.prototype.onDisable = function() {
        this.onResizeManager.unregistHandler(this.handler);
      };
      OnResized.prototype.updateWigets = function() {
        var _this = this;
        this.scheduleOnce(function() {
          var widgets = _this.node.getComponentsInChildren(cc.Widget);
          widgets.forEach(function(w) {
            return w.updateAlignment();
          });
        }, 0);
      };
      __decorate([ property(cc.Component.EventHandler) ], OnResized.prototype, "handler", void 0);
      OnResized = __decorate([ ccclass ], OnResized);
      return OnResized;
    }(cc.Component);
    exports.default = OnResized;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal"
  } ],
  OptionPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cc8b5PsdW1Htp09yT8kIv7Z", "OptionPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.INFINITY_MARK = void 0;
    var CommonButton_1 = require("../component/CommonButton");
    var ColSprite_1 = require("../data/ColSprite");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.INFINITY_MARK = "\u221e";
    var OptionPanel = function(_super) {
      __extends(OptionPanel, _super);
      function OptionPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.template = null;
        _this.content = null;
        _this.clickHandler = null;
        _this.data = [];
        _this.selected = "";
        _this.loaded = false;
        return _this;
      }
      OptionPanel.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.template = this.template || this.content.children[0];
        this.template.removeFromParent();
      };
      OptionPanel.prototype.onLoad = function() {
        this.pre();
      };
      OptionPanel.prototype.bindData = function(data) {
        this.pre();
        this.data = data;
        this.draw(data);
      };
      OptionPanel.prototype.darkAll = function() {
        this.content.children.forEach(function(node) {
          var cb = node.getComponent(CommonButton_1.default);
          cb.isChecked = false;
        });
      };
      OptionPanel.prototype.lightByIndex = function(index) {
        this.darkAll();
        var node = this.content.children[index];
        if (node) {
          var cb = node.getComponent(CommonButton_1.default);
          cb.isChecked = true;
        }
      };
      OptionPanel.prototype.lightByValue = function(value) {
        var index = this.data.indexOf(value);
        this.lightByIndex(index);
        this.selected = value;
      };
      OptionPanel.prototype.draw = function(data) {
        var _this = this;
        this.content.removeAllChildren();
        data.forEach(function(d, i) {
          var t = cc.instantiate(_this.template);
          var cb = t.getComponent(CommonButton_1.default) || t.getComponentInChildren(CommonButton_1.default);
          cb.onClickHandler.customEventData = "" + i;
          var labels = t.getComponentsInChildren(cc.Label);
          labels.forEach(Utils_1.nodeProperty("string", d === exports.INFINITY_MARK ? "" : d));
          var colSprites = cb.getComponentsInChildren(ColSprite_1.ColSprite);
          colSprites.forEach(function(col) {
            col.reset("", d, "");
          });
          _this.content.addChild(t);
        });
        this.selected && this.lightByValue(this.selected);
      };
      OptionPanel.prototype.onClick = function(node, indexString) {
        var index = Number(indexString);
        var data = this.data[index];
        this.clickHandler.emit([ data ]);
      };
      __decorate([ property(cc.Node) ], OptionPanel.prototype, "template", void 0);
      __decorate([ property(cc.Node) ], OptionPanel.prototype, "content", void 0);
      __decorate([ property(cc.Component.EventHandler) ], OptionPanel.prototype, "clickHandler", void 0);
      OptionPanel = __decorate([ ccclass ], OptionPanel);
      return OptionPanel;
    }(cc.Component);
    exports.default = OptionPanel;
    cc._RF.pop();
  }, {
    "../component/CommonButton": "CommonButton",
    "../data/ColSprite": "ColSprite",
    "../utils/Utils": "Utils"
  } ],
  PageViewIndicatorSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e03fbhnQ7JOapx/aSrpa2pe", "PageViewIndicatorSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PageViewIndicatorSprite = function(_super) {
      __extends(PageViewIndicatorSprite, _super);
      function PageViewIndicatorSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.selectSpriteFrame = null;
        _this.unSelectSpriteFrame = null;
        _this.selectOpacity = 255;
        _this.unSelectOpacity = 127;
        return _this;
      }
      PageViewIndicatorSprite.prototype._changedState = function() {
        var indicators = this._indicators;
        if (0 === indicators.length) return;
        var idx = this._pageView._curPageIdx;
        if (idx >= indicators.length) return;
        for (var i = 0; i < indicators.length; i += 1) {
          var node_1 = indicators[i];
          var sp_1 = node_1.getComponent(cc.Sprite);
          sp_1.spriteFrame = this.unSelectSpriteFrame;
        }
        var node = indicators[idx];
        var sp = node.getComponent(cc.Sprite);
        sp.spriteFrame = this.selectSpriteFrame;
      };
      __decorate([ property(cc.SpriteFrame) ], PageViewIndicatorSprite.prototype, "selectSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], PageViewIndicatorSprite.prototype, "unSelectSpriteFrame", void 0);
      __decorate([ property({
        type: cc.Integer,
        min: 0,
        max: 255
      }) ], PageViewIndicatorSprite.prototype, "selectOpacity", void 0);
      __decorate([ property({
        type: cc.Integer,
        min: 0,
        max: 255
      }) ], PageViewIndicatorSprite.prototype, "unSelectOpacity", void 0);
      PageViewIndicatorSprite = __decorate([ ccclass ], PageViewIndicatorSprite);
      return PageViewIndicatorSprite;
    }(cc.PageViewIndicator);
    exports.default = PageViewIndicatorSprite;
    cc._RF.pop();
  }, {} ],
  ParentNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c214a5TkJ5DIqLCdVefybpK", "ParentNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ParentNode = function(_super) {
      __extends(ParentNode, _super);
      function ParentNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.parentNode = null;
        return _this;
      }
      __decorate([ property(cc.Node) ], ParentNode.prototype, "parentNode", void 0);
      ParentNode = __decorate([ ccclass ], ParentNode);
      return ParentNode;
    }(cc.Component);
    exports.default = ParentNode;
    cc._RF.pop();
  }, {} ],
  ParticleProperty: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0d9772czc1By4N/eEiOqi4T", "ParticleProperty");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ParticleProperty = exports.PARTICLE_MODE = exports.FREZZE_MODE = exports.random3 = exports.EMITTER_MODE = exports.random = exports.limitNum = exports.arraySplice = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    function arraySplice(array, any) {
      var idx = array.indexOf(any);
      -1 !== idx && array.splice(idx, 1);
    }
    exports.arraySplice = arraySplice;
    function limitNum(number, max, min) {
      void 0 === min && (min = 0);
      return Math.min(Math.max(number, min), max);
    }
    exports.limitNum = limitNum;
    function random(from, to) {
      if (!to) {
        to = from - 1;
        from = 0;
      }
      return Math.floor(Math.random() * (to - from + 1) + from);
    }
    exports.random = random;
    var EMITTER_MODE;
    (function(EMITTER_MODE) {
      EMITTER_MODE[EMITTER_MODE["GRAVITY"] = 0] = "GRAVITY";
      EMITTER_MODE[EMITTER_MODE["RADIUS"] = 1] = "RADIUS";
    })(EMITTER_MODE = exports.EMITTER_MODE || (exports.EMITTER_MODE = {}));
    function random3(from, to) {
      var f = Math.floor(100 * from);
      var t = null;
      to && (t = Math.floor(100 * to));
      return random(f, t) / 100;
    }
    exports.random3 = random3;
    var FREZZE_MODE;
    (function(FREZZE_MODE) {
      FREZZE_MODE[FREZZE_MODE["FREE"] = 0] = "FREE";
      FREZZE_MODE[FREZZE_MODE["FREEZE"] = 1] = "FREEZE";
    })(FREZZE_MODE = exports.FREZZE_MODE || (exports.FREZZE_MODE = {}));
    var PARTICLE_MODE;
    (function(PARTICLE_MODE) {
      PARTICLE_MODE[PARTICLE_MODE["ANIM"] = 0] = "ANIM";
      PARTICLE_MODE[PARTICLE_MODE["SHEET_SPRITE"] = 1] = "SHEET_SPRITE";
    })(PARTICLE_MODE = exports.PARTICLE_MODE || (exports.PARTICLE_MODE = {}));
    var ParticleProperty = function() {
      function ParticleProperty() {
        this.animation = null;
        this.spriteAtlas = null;
        this.atlasName = "";
        this.spriteFrames = [];
        this.spriteFrameTime = 0;
        this.frezzeMode = FREZZE_MODE.FREE;
        this.particleCount = 0;
        this._stopped = true;
        this.playOnLoad = true;
        this.autoRemoveOnFinish = false;
        this.delayTime = 0;
        this.totalParticles = 150;
        this.duration = -1;
        this.emissionRate = 10;
        this.life = 1;
        this.lifeVar = 0;
        this.startColor = cc.color(255, 255, 255, 255);
        this.startColorVar = cc.color(0, 0, 0, 0);
        this.endColor = cc.color(255, 255, 255, 255);
        this.endColorVar = cc.color(0, 0, 0, 0);
        this.angle = 90;
        this.angleVar = 20;
        this.startSize = 50;
        this.startSizeVar = 0;
        this.endSize = 0;
        this.endSizeVar = 0;
        this.startSpin = 50;
        this.startSpinVar = 50;
        this.endSpin = 0;
        this.endSpinVar = 0;
        this.sourcePos = cc.Vec2.ZERO;
        this.posVar = cc.Vec2.ZERO;
        this.emitterMode = EMITTER_MODE.GRAVITY;
        this.gravity = cc.Vec2.ZERO;
        this.speed = 180;
        this.speedVar = 50;
        this.tangentialAccel = 80;
        this.tangentialAccelVar = 0;
        this.radialAccel = 0;
        this.radialAccelVar = 0;
        this.rotationIsDir = false;
        this.startRadius = 0;
        this.startRadiusVar = 0;
        this.endRadius = 0;
        this.endRadiusVar = 0;
        this.rotatePerS = 0;
        this.rotatePerSVar = 0;
      }
      Object.defineProperty(ParticleProperty.prototype, "stopped", {
        get: function() {
          return this._stopped;
        },
        enumerable: false,
        configurable: true
      });
      __decorate([ property({
        type: cc.Node
      }) ], ParticleProperty.prototype, "animation", void 0);
      __decorate([ property({
        type: cc.SpriteAtlas
      }) ], ParticleProperty.prototype, "spriteAtlas", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "atlasName", void 0);
      __decorate([ property({
        type: [ cc.SpriteFrame ]
      }) ], ParticleProperty.prototype, "spriteFrames", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5e7e\u79d2\u5207\u5e7e\u6b21",
        displayName: "\u52d5\u756b\u9593\u9694(spriteFrameTime)",
        min: 0
      }) ], ParticleProperty.prototype, "spriteFrameTime", void 0);
      __decorate([ property({
        type: cc.Enum(FREZZE_MODE)
      }) ], ParticleProperty.prototype, "frezzeMode", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "playOnLoad", void 0);
      __decorate([ property(cc.Boolean) ], ParticleProperty.prototype, "autoRemoveOnFinish", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "delayTime", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "totalParticles", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "duration", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "emissionRate", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "life", void 0);
      __decorate([ property({
        type: cc.Float
      }) ], ParticleProperty.prototype, "lifeVar", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "startColor", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "startColorVar", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "endColor", void 0);
      __decorate([ property(cc.Color) ], ParticleProperty.prototype, "endColorVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0,
        max: 360
      }) ], ParticleProperty.prototype, "angle", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0,
        max: 360
      }) ], ParticleProperty.prototype, "angleVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSize", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSizeVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSize", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSizeVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSpin", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "startSpinVar", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSpin", void 0);
      __decorate([ property({
        type: cc.Float,
        min: 0
      }) ], ParticleProperty.prototype, "endSpinVar", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "sourcePos", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "posVar", void 0);
      __decorate([ property({
        type: cc.Enum(EMITTER_MODE)
      }) ], ParticleProperty.prototype, "emitterMode", void 0);
      __decorate([ property(cc.Vec2) ], ParticleProperty.prototype, "gravity", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "speed", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "speedVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "tangentialAccel", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "tangentialAccelVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "radialAccel", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "radialAccelVar", void 0);
      __decorate([ property() ], ParticleProperty.prototype, "rotationIsDir", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "startRadius", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "startRadiusVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "endRadius", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "endRadiusVar", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "rotatePerS", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], ParticleProperty.prototype, "rotatePerSVar", void 0);
      ParticleProperty = __decorate([ ccclass("ParticleProperty") ], ParticleProperty);
      return ParticleProperty;
    }();
    exports.ParticleProperty = ParticleProperty;
    cc._RF.pop();
  }, {} ],
  ParticleSystemBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22ffb8SKjtAYbXcNJ1j/X4d", "ParticleSystemBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ParticleProperty_1 = require("./ParticleProperty");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ParticleSystemBase = function(_super) {
      __extends(ParticleSystemBase, _super);
      function ParticleSystemBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.particleJson = null;
        _this.particleProperty = null;
        _this.endEvent = null;
        _this.mode = ParticleProperty_1.PARTICLE_MODE.ANIM;
        _this.nodePool = new cc.NodePool();
        _this.genNode = null;
        _this.particleArr = [];
        _this.isPlay = false;
        _this.totalDelta = 0;
        _this.delta = 0;
        _this.currPos = cc.v2();
        _this.sprites = [];
        _this.isLoop = false;
        return _this;
      }
      ParticleSystemBase.prototype.genSpNode = function() {
        if (!this.nodePool.size()) {
          var node = new cc.Node();
          node.addComponent(cc.Sprite);
          this.nodePool.put(node);
        }
        return this.nodePool.get();
      };
      ParticleSystemBase.prototype.genAniPrefab = function() {
        true;
        this.particleProperty.animation.removeFromParent();
        this.nodePool.size() || this.nodePool.put(cc.instantiate(this.particleProperty.animation));
        return this.nodePool.get();
      };
      ParticleSystemBase.prototype.onFinish = function(callBack) {
        this.finishCall = callBack;
      };
      ParticleSystemBase.prototype.clear = function() {
        while (this.node.children.length) {
          var node = this.node.children[0];
          node.stopAllActions();
          this.nodePool.put(node);
        }
        this.nodePool.clear();
        this.particleArr = [];
      };
      ParticleSystemBase.prototype.pause = function() {
        this.isPlay = false;
        this.node.children.forEach(function(node) {
          node.pauseAllActions();
          node.getComponent(cc.Animation).pause();
        });
      };
      ParticleSystemBase.prototype.resume = function() {
        this.isPlay = true;
        this.node.children.forEach(function(node) {
          node.resumeAllActions();
          node.getComponent(cc.Animation).resume();
        });
      };
      ParticleSystemBase.prototype.shoot = function() {
        this.clear();
        this.isPlay = true;
        this.delta = 0;
        this.totalDelta = 0;
      };
      ParticleSystemBase.prototype.loadJson = function(datas) {
        var _this = this;
        if (!this.particleProperty) throw new Error("particleProperty is null");
        datas.forEach(function(data) {
          _this.particleProperty[data.key] instanceof cc.Color ? _this.particleProperty[data.key] = cc.color(data.value.r, data.value.g, data.value.b, data.value.a) : _this.particleProperty[data.key] instanceof cc.Vec2 ? _this.particleProperty[data.key] = cc.v2(data.value.x, data.value.y) : _this.particleProperty[data.key] = data.value;
        });
      };
      ParticleSystemBase.prototype.getJson = function() {
        var _this = this;
        if (!this.particleProperty) throw new Error("particleProperty is null");
        var datas = [];
        Object.keys(this.particleProperty).forEach(function(key) {
          if (!_this.ignoreKey(key)) if (_this.particleProperty[key] instanceof cc.Color) {
            var color = _this.particleProperty[key];
            datas.push({
              key: key,
              value: {
                r: color.getR(),
                g: color.getG(),
                b: color.getB(),
                a: color.getA()
              }
            });
          } else if (_this.particleProperty[key] instanceof cc.Vec2) {
            var pos = _this.particleProperty[key];
            datas.push({
              key: key,
              value: {
                x: pos.x,
                y: pos.y
              }
            });
          } else {
            var value = _this.particleProperty[key];
            datas.push({
              key: key,
              value: value
            });
          }
        });
        return datas;
      };
      ParticleSystemBase.prototype.ignoreKey = function(key) {
        if (key.startsWith("_")) return true;
        switch (key) {
         case "animation":
         case "atlasName":
         case "spriteAtlas":
         case "spriteFrames":
          return true;

         default:
          return false;
        }
      };
      ParticleSystemBase.prototype.onLoad = function() {
        var _this = this;
        this.particleJson && this.loadJson(this.particleJson.json);
        if (this.particleProperty.animation) {
          this.mode = ParticleProperty_1.PARTICLE_MODE.ANIM;
          this.genNode = this.genAniPrefab;
        } else {
          this.mode = ParticleProperty_1.PARTICLE_MODE.SHEET_SPRITE;
          this.genNode = this.genSpNode;
          if (this.particleProperty.spriteAtlas) if (this.particleProperty.atlasName) {
            var sf = this.particleProperty.spriteAtlas.getSpriteFrames().filter(function(s) {
              return -1 !== s.name.indexOf(_this.particleProperty.atlasName);
            });
            var sss = sf.sort();
            this.sprites = sss;
          } else console.error("no atlasName"); else this.particleProperty.spriteFrames.length ? this.sprites = this.particleProperty.spriteFrames : console.error("no anim");
          0 !== this.particleProperty.spriteFrameTime && (this.isLoop = true);
        }
        this.particleProperty.delayTime > 0 ? this.scheduleOnce(function() {
          _this.isPlay = _this.particleProperty.playOnLoad;
        }, this.particleProperty.delayTime) : this.isPlay = this.particleProperty.playOnLoad;
        this.delta = 0;
        this.currPos = this.node.getPosition();
      };
      ParticleSystemBase.prototype.start = function() {};
      ParticleSystemBase.prototype.lateUpdate = function(dt) {
        var _this = this;
        var diff = cc.v2();
        this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE && (diff = this.node.getPosition().sub(this.currPos));
        this.isPlay && this.particleArr.forEach(function(p) {
          p["lifeTime"] += dt;
        });
        this.particleArr.filter(function(p) {
          return p["lifeTime"] >= p["life"];
        }).forEach(function(p) {
          p.stopAllActions();
          _this.nodePool.put(p);
          ParticleProperty_1.arraySplice(_this.particleArr, p);
        });
        this.particleArr.forEach(function(p) {
          if (_this.isPlay) {
            p["lifeTime"] += dt;
            if (_this.mode === ParticleProperty_1.PARTICLE_MODE.SHEET_SPRITE) {
              var sprite = null;
              sprite = _this.isLoop ? _this.sprites[Math.floor(p["lifeTime"] / _this.particleProperty.spriteFrameTime) % _this.sprites.length] : _this.sprites[Math.floor(p["lifeTime"] / p["life"] * _this.sprites.length)];
              p.getComponent(cc.Sprite).spriteFrame = void 0 === sprite ? null : sprite;
            }
            var c = p["startColor"].lerp(p["endColor"], p["lifeTime"] / p["life"]);
            p.color = cc.color(c.getR(), c.getG(), c.getB());
            p.opacity = c.getA();
            p.scale += p["deltaSize"] * dt;
            p.angle += p["deltaRot"] * dt;
            var speed = p["speed"];
            if (_this.particleProperty.emitterMode === ParticleProperty_1.EMITTER_MODE.GRAVITY) {
              var gravity = p["originGravity"].mul(p["lifeTime"] / 2 * dt);
              var originDir = p["dir"].mul(speed * dt);
              _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(p.getPosition().add(originDir).add(gravity).sub(diff)) : p.setPosition(p.getPosition().add(originDir).add(gravity));
            } else {
              p["gravity"].addSelf(p["originGravity"].mul(p["lifeTime"] / 2 * dt));
              p["diff"].addSelf(diff);
              p["radius"] += p["deltaRadius"] * dt;
              p["tempAngle"] += p["degreesPerSecond"] * dt;
              var x = -Math.cos(p["tempAngle"]) * p["radius"];
              var y = -Math.sin(p["tempAngle"]) * p["radius"];
              var originPos = cc.v2(x, y);
              _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(originPos.add(p["gravity"]).sub(p["diff"])) : p.setPosition(originPos.add(p["gravity"]));
            }
          } else _this.particleProperty.frezzeMode === ParticleProperty_1.FREZZE_MODE.FREE ? p.setPosition(p.getPosition().sub(diff)) : p.setPosition(p.getPosition());
        });
        this.currPos = this.node.getPosition();
        var emission = 1 / this.particleProperty.emissionRate;
        if (this.isPlay) {
          this.delta += dt;
          if (-1 === this.particleProperty.duration) {
            if (this.delta > emission) {
              var emission1 = 0;
              while (this.delta > emission1) {
                this.shootOne();
                emission1 += emission;
              }
              this.delta = 0;
            }
          } else if (this.totalDelta <= this.particleProperty.duration) {
            if (this.delta > emission) {
              var emission1 = 0;
              while (this.delta > emission1) {
                this.shootOne();
                emission1 += emission;
              }
              this.delta = 0;
            }
            this.totalDelta += dt;
          } else if (this.particleProperty.autoRemoveOnFinish) {
            this.endEvent && this.endEvent.emit([ this.endEvent.customEventData ]);
            this.finishCall && this.finishCall();
            0 === this.node.childrenCount && this.node.destroy();
          }
        }
      };
      ParticleSystemBase.prototype.shootOne = function() {
        this.particleProperty.particleCount = this.particleArr.length;
        if (this.particleProperty.particleCount >= this.particleProperty.totalParticles) return;
        var node = this.genNode();
        this.node.addChild(node);
        var speed = this.getSpeed();
        var dir = this.getStartDir(speed);
        var pos = this.getStartPos();
        var startColor = this.getStartColor();
        var startSize = this.getStartSize();
        var startRot = this.getStartRotation();
        var life = this.getLife();
        if (this.particleProperty.emitterMode === ParticleProperty_1.EMITTER_MODE.GRAVITY) ; else {
          var startRadius = this.getStartRadius();
          var endRadius = this.getEndRadius();
          node["diff"] = cc.v2();
          node["startRadius"] = startRadius;
          node["radius"] = startRadius;
          node["deltaRadius"] = endRadius === startRadius ? 0 : (endRadius - startRadius) / life;
          node["tempAngle"] = cc.misc.radiansToDegrees(cc.v2(dir).signAngle(cc.v2(1, 0)));
          node["degreesPerSecond"] = cc.misc.degreesToRadians(this.getRotatePerS());
          var dr = dir.mul(startRadius);
          pos = pos.add(dr);
        }
        node.setPosition(pos);
        node.setScale(startSize);
        node.angle = startRot;
        node.color = cc.color(startColor.getR(), startColor.getG(), startColor.getB());
        node.opacity = startColor.getA();
        var endColor = this.getEndColor();
        var endSize = this.getEndSize();
        var endRot = this.getEndRotation();
        node["speed"] = speed;
        node["pos"] = pos;
        node["lifeTime"] = 0;
        node["life"] = life;
        node["startColor"] = startColor;
        node["endColor"] = endColor;
        node["endSize"] = endSize;
        node["endRot"] = endRot;
        node["deltaSize"] = endSize === startSize ? 0 : (endSize - startSize) / life;
        node["deltaRot"] = endRot === startRot ? 0 : (endRot - startRot) / life;
        node["dir"] = dir;
        node["originGravity"] = this.particleProperty.gravity;
        node["gravity"] = cc.v2();
        if (this.mode === ParticleProperty_1.PARTICLE_MODE.ANIM) {
          var ain = node.getComponent(cc.Animation) || node.getComponentInChildren(cc.Animation);
          var ainClip = ain.getClips()[ParticleProperty_1.random(ain.getClips().length)];
          var name = ainClip.name;
          ain.playOnLoad = true;
          ain.play(name);
        }
        this.particleArr.push(node);
      };
      ParticleSystemBase.prototype.getStartPos = function() {
        var randomPosX = ParticleProperty_1.random3(-this.particleProperty.posVar.x, this.particleProperty.posVar.x);
        var randomPosY = ParticleProperty_1.random3(-this.particleProperty.posVar.y, this.particleProperty.posVar.y);
        var pos = this.particleProperty.sourcePos.add(cc.v2(randomPosX, randomPosY));
        return pos;
      };
      ParticleSystemBase.prototype.getStartColor = function() {
        var randomR = ParticleProperty_1.random(-this.particleProperty.startColorVar.getR(), this.particleProperty.startColorVar.getR());
        var randomG = ParticleProperty_1.random(-this.particleProperty.startColorVar.getG(), this.particleProperty.startColorVar.getG());
        var randomB = ParticleProperty_1.random(-this.particleProperty.startColorVar.getB(), this.particleProperty.startColorVar.getB());
        var randomA = ParticleProperty_1.random(-this.particleProperty.startColorVar.getA(), this.particleProperty.startColorVar.getA());
        var r = ParticleProperty_1.limitNum(this.particleProperty.startColor.getR() + randomR, 255, 0);
        var g = ParticleProperty_1.limitNum(this.particleProperty.startColor.getG() + randomG, 255, 0);
        var b = ParticleProperty_1.limitNum(this.particleProperty.startColor.getB() + randomB, 255, 0);
        var a = ParticleProperty_1.limitNum(this.particleProperty.startColor.getA() + randomA, 255, 0);
        return cc.color(r, g, b, a);
      };
      ParticleSystemBase.prototype.getEndColor = function() {
        var randomR = ParticleProperty_1.random(-this.particleProperty.endColorVar.getR(), this.particleProperty.endColorVar.getR());
        var randomG = ParticleProperty_1.random(-this.particleProperty.endColorVar.getG(), this.particleProperty.endColorVar.getG());
        var randomB = ParticleProperty_1.random(-this.particleProperty.endColorVar.getB(), this.particleProperty.endColorVar.getB());
        var randomA = ParticleProperty_1.random(-this.particleProperty.endColorVar.getA(), this.particleProperty.endColorVar.getA());
        var r = ParticleProperty_1.limitNum(this.particleProperty.endColor.getR() + randomR, 255, 0);
        var g = ParticleProperty_1.limitNum(this.particleProperty.endColor.getG() + randomG, 255, 0);
        var b = ParticleProperty_1.limitNum(this.particleProperty.endColor.getB() + randomB, 255, 0);
        var a = ParticleProperty_1.limitNum(this.particleProperty.endColor.getA() + randomA, 255, 0);
        return cc.color(r, g, b, a);
      };
      ParticleSystemBase.prototype.getStartSize = function() {
        var randomS = ParticleProperty_1.random3(-this.particleProperty.startSizeVar, this.particleProperty.startSizeVar);
        var size = ParticleProperty_1.limitNum(this.particleProperty.startSize + randomS, this.particleProperty.startSize + this.particleProperty.startSizeVar, 0);
        return size;
      };
      ParticleSystemBase.prototype.getEndSize = function() {
        var randomS = ParticleProperty_1.random3(-this.particleProperty.endSizeVar, this.particleProperty.endSizeVar);
        return ParticleProperty_1.limitNum(this.particleProperty.endSize + randomS, this.particleProperty.endSize + this.particleProperty.endSizeVar, 0);
      };
      ParticleSystemBase.prototype.getStartRotation = function() {
        var randomR = ParticleProperty_1.random3(this.particleProperty.startSpinVar);
        return this.particleProperty.startSpin + randomR;
      };
      ParticleSystemBase.prototype.getEndRotation = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.endSpinVar, this.particleProperty.endSpinVar);
        return this.particleProperty.endSpin + randomR;
      };
      ParticleSystemBase.prototype.getStartDir = function(speed) {
        var randomAngle = ParticleProperty_1.random3(-this.particleProperty.angleVar, this.particleProperty.angleVar);
        var angle = cc.misc.degreesToRadians(this.particleProperty.angle + randomAngle);
        var x = Math.cos(angle) * speed;
        var y = Math.sin(angle) * speed;
        var originSpeed = cc.v2(x, y);
        var randomAccelX = ParticleProperty_1.random3(-this.particleProperty.tangentialAccelVar, this.particleProperty.tangentialAccelVar);
        var randomAccelY = ParticleProperty_1.random3(-this.particleProperty.radialAccelVar, this.particleProperty.radialAccelVar);
        var originDir = cc.v2(this.particleProperty.tangentialAccel + randomAccelX, this.particleProperty.radialAccel + randomAccelY);
        return originSpeed.add(originDir).normalize();
      };
      ParticleSystemBase.prototype.getStartRadius = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.startRadiusVar, this.particleProperty.startRadiusVar);
        return this.particleProperty.startRadius + randomR;
      };
      ParticleSystemBase.prototype.getEndRadius = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.endRadiusVar, this.particleProperty.endRadiusVar);
        return this.particleProperty.endRadius + randomR;
      };
      ParticleSystemBase.prototype.getRotatePerS = function() {
        var randomR = ParticleProperty_1.random3(-this.particleProperty.rotatePerSVar, this.particleProperty.rotatePerSVar);
        return this.particleProperty.rotatePerS + randomR;
      };
      ParticleSystemBase.prototype.getLife = function() {
        var randomLife = ParticleProperty_1.random3(-this.particleProperty.lifeVar, this.particleProperty.lifeVar);
        return ParticleProperty_1.limitNum(this.particleProperty.life + randomLife, this.particleProperty.life + this.particleProperty.lifeVar);
      };
      ParticleSystemBase.prototype.getSpeed = function() {
        var randomSpeed = ParticleProperty_1.random3(-this.particleProperty.speedVar, this.particleProperty.speedVar);
        return this.particleProperty.speed + randomSpeed;
      };
      __decorate([ property(cc.JsonAsset) ], ParticleSystemBase.prototype, "particleJson", void 0);
      __decorate([ property(ParticleProperty_1.ParticleProperty) ], ParticleSystemBase.prototype, "particleProperty", void 0);
      __decorate([ property(cc.Component.EventHandler) ], ParticleSystemBase.prototype, "endEvent", void 0);
      ParticleSystemBase = __decorate([ ccclass, menu("Particle/Particle") ], ParticleSystemBase);
      return ParticleSystemBase;
    }(cc.Component);
    exports.default = ParticleSystemBase;
    cc._RF.pop();
  }, {
    "./ParticleProperty": "ParticleProperty"
  } ],
  PersistRootNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "70538xFY9lItoyMS5eJeAG+", "PersistRootNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var PersistRootNode = function(_super) {
      __extends(PersistRootNode, _super);
      function PersistRootNode() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      PersistRootNode.prototype.onLoad = function() {
        cc.game.addPersistRootNode(this.node);
      };
      PersistRootNode = __decorate([ ccclass ], PersistRootNode);
      return PersistRootNode;
    }(cc.Component);
    exports.default = PersistRootNode;
    cc._RF.pop();
  }, {} ],
  PingData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c2e7fEfKS5CEoQ80DaD9hNF", "PingData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PingData = function() {
      function PingData(timestamp, latencyTime) {
        this.timestamp = timestamp;
        this.latencyTime = latencyTime;
      }
      return PingData;
    }();
    exports.default = PingData;
    cc._RF.pop();
  }, {} ],
  PrefabManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0ae75C/33xD8YNsNA7ef4N1", "PrefabManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyPrefab_1 = require("../data/KeyPrefab");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PrefabManager = function(_super) {
      __extends(PrefabManager, _super);
      function PrefabManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyPrefabs = [];
        return _this;
      }
      PrefabManager.prototype.getPrefab = function(key) {
        var kp = this.keyPrefabs.find(function(kp) {
          return kp.key === key;
        });
        if (kp) return kp.node || kp.prefab;
      };
      __decorate([ property([ KeyPrefab_1.KeyPrefab ]) ], PrefabManager.prototype, "keyPrefabs", void 0);
      PrefabManager = __decorate([ ccclass ], PrefabManager);
      return PrefabManager;
    }(cc.Component);
    exports.default = PrefabManager;
    cc._RF.pop();
  }, {
    "../data/KeyPrefab": "KeyPrefab"
  } ],
  Progress: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e90f2M7Zc9NJrknt2kCuZA+", "Progress");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NonePropagationComponent_1 = require("./NonePropagationComponent");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Progress = function(_super) {
      __extends(Progress, _super);
      function Progress() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.progressBar = null;
        _this.info = null;
        _this.minimalPercent = 0;
        return _this;
      }
      Progress.prototype.setProgress = function(completedCount, totalCount, item) {
        var percent = completedCount / totalCount;
        percent < this.minimalPercent && (percent = this.minimalPercent);
        this.progressBar.progress = percent;
        this.info && (this.info.string = (100 * this.progressBar.progress).toFixed(0) + "%");
      };
      Progress.prototype.getProgress = function() {
        return this.progressBar.progress;
      };
      __decorate([ property(cc.ProgressBar) ], Progress.prototype, "progressBar", void 0);
      __decorate([ property(cc.Label) ], Progress.prototype, "info", void 0);
      __decorate([ property(cc.Integer) ], Progress.prototype, "minimalPercent", void 0);
      Progress = __decorate([ ccclass ], Progress);
      return Progress;
    }(NonePropagationComponent_1.default);
    exports.default = Progress;
    cc._RF.pop();
  }, {
    "./NonePropagationComponent": "NonePropagationComponent"
  } ],
  PromiseManager2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c57d22no/ZKCInbA/iuEfvr", "PromiseManager2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.timeoutResolvefExecutor = exports.promiseExecutor2ToObject = exports.PROMISE_EXECUTOR2_STAT = exports.PROMISE_EXECUTOR2_GROUP = void 0;
    var Utils_1 = require("../utils/Utils");
    var PromiseManager_1 = require("./PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var PROMISE_EXECUTOR2_GROUP;
    (function(PROMISE_EXECUTOR2_GROUP) {
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["NONE"] = 0] = "NONE";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["SKIPABLE"] = 1] = "SKIPABLE";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP1"] = 11] = "GROUP1";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP2"] = 12] = "GROUP2";
      PROMISE_EXECUTOR2_GROUP[PROMISE_EXECUTOR2_GROUP["GROUP3"] = 13] = "GROUP3";
    })(PROMISE_EXECUTOR2_GROUP = exports.PROMISE_EXECUTOR2_GROUP || (exports.PROMISE_EXECUTOR2_GROUP = {}));
    var PROMISE_EXECUTOR2_STAT;
    (function(PROMISE_EXECUTOR2_STAT) {
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["NOT_STARTED"] = 0] = "NOT_STARTED";
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["COMPLETE"] = 1] = "COMPLETE";
      PROMISE_EXECUTOR2_STAT[PROMISE_EXECUTOR2_STAT["INTERRUPT"] = -1] = "INTERRUPT";
    })(PROMISE_EXECUTOR2_STAT = exports.PROMISE_EXECUTOR2_STAT || (exports.PROMISE_EXECUTOR2_STAT = {}));
    function promiseExecutor2ToObject(executor) {
      return {
        executor: executor[0],
        done: executor[1],
        group: executor[2]
      };
    }
    exports.promiseExecutor2ToObject = promiseExecutor2ToObject;
    function timeoutResolvefExecutor(sec, group) {
      void 0 === group && (group = PROMISE_EXECUTOR2_GROUP.NONE);
      return [ function(resolve) {
        PromiseManager_1.timeoutPromise(sec).then(resolve);
      }, , group ];
    }
    exports.timeoutResolvefExecutor = timeoutResolvefExecutor;
    var PromiseManager2 = function(_super) {
      __extends(PromiseManager2, _super);
      function PromiseManager2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.id = 0;
        _this.resolving = false;
        _this.executors = [];
        _this.result = null;
        _this.handlers = [];
        return _this;
      }
      PromiseManager2.prototype.bindHandler = function(handler) {
        -1 === this.handlers.indexOf(handler) && this.handlers.push(handler);
      };
      PromiseManager2.prototype.unbindHandler = function(handler) {
        Utils_1.arraySplice(this.handlers, handler);
      };
      PromiseManager2.prototype.applyHandlers = function(result) {
        this.handlers.forEach(function(h) {
          return h(result);
        });
      };
      PromiseManager2.prototype.clearHandler = function() {
        this.handlers.length = 0;
      };
      PromiseManager2.prototype.nextId = function() {
        return this.id += 1;
      };
      PromiseManager2.prototype.clear = function() {
        this.nextId();
        this.result = null;
        this.resolving = false;
        this.executors = [];
        this.applyHandlers(null);
      };
      PromiseManager2.prototype.next = function(id) {
        if (id !== this.id) return;
        this.result = null;
        var es = this.executors;
        es.length ? this.execs(es) : this.clear();
      };
      PromiseManager2.prototype.exec = function(executor, id) {
        var o = promiseExecutor2ToObject(executor);
        var p = o.executor ? new Promise(o.executor).then(function() {
          return PROMISE_EXECUTOR2_STAT.COMPLETE;
        }) : PromiseManager_1.timeoutPromise(0, PROMISE_EXECUTOR2_STAT.COMPLETE);
        o.done && (p = p.then(o.done));
        p.then(this.next.bind(this, id));
        p.catch(function() {});
        return {
          skippable: !!o.group && o.group > PROMISE_EXECUTOR2_GROUP.NONE,
          promise: p,
          group: o.group || PROMISE_EXECUTOR2_GROUP.NONE,
          done: o.done
        };
      };
      PromiseManager2.prototype.fixExecutors = function(executors) {
        var es = [].concat(executors).map(function(e) {
          if ("function" === typeof e) return [ e, , PROMISE_EXECUTOR2_GROUP.NONE ];
          return e;
        });
        if (es.length) {
          var pgroup = es[0][2];
          for (var i = 1; i < es.length; i += 1) {
            var e = es[i];
            var group = e[2];
            pgroup !== PROMISE_EXECUTOR2_GROUP.NONE && pgroup !== group && group === PROMISE_EXECUTOR2_GROUP.SKIPABLE && (e[2] = pgroup);
            pgroup = e[2];
          }
        }
        return es;
      };
      PromiseManager2.prototype.execs = function(executors) {
        if (!executors.length) {
          this.clear();
          return;
        }
        var executor = executors.shift();
        this.resolving = true;
        this.executors = executors;
        var r = this.exec(executor, this.nextId());
        this.result = r;
        this.applyHandlers(r);
      };
      PromiseManager2.prototype.play = function(executors) {
        var _this = this;
        this.clear();
        this.resolving = true;
        this.executors = this.fixExecutors(executors);
        this.scheduleOnce(function() {
          _this.execs(_this.executors);
        }, 0);
      };
      PromiseManager2.prototype.push = function(executors) {
        this.resolving ? [].push.apply(this.executors, this.fixExecutors(executors)) : this.play(executors);
      };
      PromiseManager2.prototype.skippable = function() {
        if (!this.resolving) return false;
        var er = this.result;
        if (!er || !er.skippable || !er.group) return false;
        return true;
      };
      PromiseManager2.prototype.skip = function() {
        if (!this.skippable()) return;
        var er = this.result;
        er.done && er.done(PROMISE_EXECUTOR2_STAT.INTERRUPT);
        var i = 0;
        for (;i < this.executors.length; i += 1) {
          var o = promiseExecutor2ToObject(this.executors[i]);
          if (er.group !== o.group && o.group !== PROMISE_EXECUTOR2_GROUP.SKIPABLE) break;
          o.done && o.done(PROMISE_EXECUTOR2_STAT.NOT_STARTED);
        }
        this.execs(this.executors.slice(i));
      };
      PromiseManager2.prototype.onSkipClick = function() {
        this.skip();
      };
      PromiseManager2 = __decorate([ ccclass, menu("PromiseManager/PromiseManager2") ], PromiseManager2);
      return PromiseManager2;
    }(cc.Component);
    exports.default = PromiseManager2;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./PromiseManager": "PromiseManager"
  } ],
  PromiseManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "68cb71e53JF6pEffjV7BQDA", "PromiseManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.nodeChildrenComponentToPromise = exports.resolveWrapper = exports.timeoutResolvef = exports.timeoutPromise = exports.timeoutSec = exports.spSkeletonSetMix = exports.spSkeletonEmpty = exports.spSkeletonApply = exports.spSkeletonSetAnimation = exports.spSkeletonSetAnimationToPRR = exports.spSkeletonSetAnimationToPromise = exports.spSkeletonSetAnimationToPromise2 = exports.animationPlayToPRR = exports.animationGetState = exports.animationPlay = exports.animationPlayToPromise = exports.animationPlayToPromise2 = exports.promiseExecutorSequence = void 0;
    var SpSkeletonConfig_1 = require("../component/SpSkeletonConfig");
    var ColSpSkeleton2_1 = require("../data/ColSpSkeleton2");
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    function promiseExecutorSequence(executors) {
      return executors.reduce(function(promise, task) {
        var f;
        f = Array.isArray(task) ? function() {
          return Promise.all(task.map(function(t) {
            return new Promise(t);
          }));
        } : function() {
          return new Promise(task);
        };
        return promise.then(f);
      }, Promise.resolve());
    }
    exports.promiseExecutorSequence = promiseExecutorSequence;
    function animationPlayToPromise2(animation, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.index, index = void 0 === _c ? null : _c, _d = _b.bindResolve, bindResolve = void 0 === _d || _d, _e = _b.doEnactive, doEnactive = void 0 !== _e && _e;
      return animationPlayToPromise(animation, index, bindResolve, doEnactive);
    }
    exports.animationPlayToPromise2 = animationPlayToPromise2;
    function animationPlayToPromise(animation, index, bindResolve, doEnactive) {
      void 0 === bindResolve && (bindResolve = true);
      void 0 === doEnactive && (doEnactive = false);
      if (!animation.isValid) return Promise.resolve();
      return animationPlayToPRR(animation, index, bindResolve, doEnactive).promise;
    }
    exports.animationPlayToPromise = animationPlayToPromise;
    function animationPlay(animation, index) {
      var name = null;
      Utils_1.isNone(index) || (name = animation.getClips()[index].name);
      return animation.play(name);
    }
    exports.animationPlay = animationPlay;
    function animationGetState(animation, index) {
      var name = null;
      Utils_1.isNone(index) || (name = animation.getClips()[index].name);
      return animation.getAnimationState(name);
    }
    exports.animationGetState = animationGetState;
    function animationPlayToPRR(animation, index, bindResolve, doEnactive) {
      void 0 === bindResolve && (bindResolve = true);
      void 0 === doEnactive && (doEnactive = false);
      var resolve = null;
      var reject = null;
      var clear = function() {
        doEnactive && (animation.node.active = false);
      };
      var promise = new Promise(function(res, rej) {
        var e = new cc.Event(cc.Animation.EventType.PAUSE, false);
        animation.dispatchEvent(e);
        animation.unscheduleAllCallbacks();
        animation.off(cc.Animation.EventType.FINISHED);
        animation.off(cc.Animation.EventType.PAUSE);
        resolve = function() {
          clear();
          res(animation);
        };
        reject = function() {
          animState.isPlaying && animState.stop();
          clear();
          rej();
        };
        animation.node.active = true;
        bindResolve && animation.once(cc.Animation.EventType.FINISHED, resolve);
        animation.once(cc.Animation.EventType.PAUSE, rej);
        var name = null;
        Utils_1.isNone(index) || (name = animation.getClips()[index].name);
        var animState = animation.play(name);
      });
      promise.catch(function() {});
      return {
        promise: promise,
        resolve: resolve,
        reject: reject
      };
    }
    exports.animationPlayToPRR = animationPlayToPRR;
    function spSkeletonSetAnimationToPromise2(skeleton, _a) {
      var _b = void 0 === _a ? {} : _a, _c = _b.animation, animation = void 0 === _c ? null : _c, _d = _b.loopTime, loopTime = void 0 === _d ? 0 : _d, _e = _b.doActiveEnactive, doActiveEnactive = void 0 !== _e && _e, _f = _b.empty, empty = void 0 === _f || _f;
      return spSkeletonSetAnimationToPromise(skeleton, animation, loopTime, doActiveEnactive, empty);
    }
    exports.spSkeletonSetAnimationToPromise2 = spSkeletonSetAnimationToPromise2;
    function spSkeletonSetAnimationToPromise(skeleton, animation, loopTime, doActiveEnactive, empty) {
      void 0 === loopTime && (loopTime = 0);
      void 0 === doActiveEnactive && (doActiveEnactive = false);
      void 0 === empty && (empty = true);
      return spSkeletonSetAnimationToPRR(skeleton, animation, loopTime, doActiveEnactive, empty).promise;
    }
    exports.spSkeletonSetAnimationToPromise = spSkeletonSetAnimationToPromise;
    var wm = new WeakMap();
    function spSkeletonSetAnimationToPRR(skeleton, animation, loopTime, doActiveEnactive, empty) {
      void 0 === loopTime && (loopTime = 0);
      void 0 === doActiveEnactive && (doActiveEnactive = false);
      void 0 === empty && (empty = true);
      var resolve = null;
      var reject = null;
      var times = 0;
      var clear = function() {
        doActiveEnactive && (skeleton.node.active = false);
        skeleton.setCompleteListener(null);
      };
      var prr = wm.get(skeleton);
      prr && prr.reject();
      clear();
      var p = new Promise(function(res, rej) {
        resolve = function(te) {
          if (te.animation.name !== animation) return;
          clear();
          wm.delete(skeleton);
          res(animation);
        };
        reject = function() {
          wm.delete(skeleton);
          rej();
        };
        empty && spSkeletonEmpty(skeleton);
        var loop = !!loopTime;
        loopTime ? skeleton.setCompleteListener(function(te) {
          if (te.animation.name !== animation) return;
          times += 1;
          times >= loopTime && resolve(te);
        }) : skeleton.setCompleteListener(resolve);
        skeleton.node.active = true;
        skeleton.setAnimation(0, animation || skeleton.animation, loop);
        spSkeletonApply(skeleton);
      });
      var o = {
        reject: reject,
        resolve: resolve,
        promise: p
      };
      wm.set(skeleton, o);
      return o;
    }
    exports.spSkeletonSetAnimationToPRR = spSkeletonSetAnimationToPRR;
    function spSkeletonSetAnimation(skeleton, animName, loop, empty) {
      void 0 === loop && (loop = false);
      void 0 === empty && (empty = true);
      empty && spSkeletonEmpty(skeleton);
      var names = [].concat(animName);
      var len = names.length;
      len && names.forEach(function(n, idx) {
        if (!n) return;
        var anim = skeleton.findAnimation(n);
        if (!anim) return;
        var dur = anim.duration;
        var l = idx === len - 1 && dur > 0 && loop;
        0 === idx ? skeleton.setAnimation(0, n, l) : skeleton.addAnimation(0, n, l);
      });
      spSkeletonApply(skeleton);
    }
    exports.spSkeletonSetAnimation = spSkeletonSetAnimation;
    function spSkeletonApply(skeleton) {
      if (skeleton._state) {
        skeleton._state.update(0);
        skeleton._state.apply(skeleton._skeleton);
      }
    }
    exports.spSkeletonApply = spSkeletonApply;
    function spSkeletonEmpty(skeleton) {
      if (skeleton.isAnimationCached()) skeleton.setAnimation(0, "empty", false); else {
        skeleton.setToSetupPose();
        skeleton.clearTracks();
      }
    }
    exports.spSkeletonEmpty = spSkeletonEmpty;
    function spSkeletonSetMix(skeleton, animations, duration) {
      void 0 === animations && (animations = []);
      void 0 === duration && (duration = .1);
      0 === animations.length && (animations = Object.keys(skeleton.skeletonData.skeletonJson.animations).sort());
      animations.forEach(function(from) {
        animations.forEach(function(to) {
          skeleton.setMix(from, to, duration);
        });
      });
    }
    exports.spSkeletonSetMix = spSkeletonSetMix;
    function timeoutSec(fn, sec) {
      void 0 === sec && (sec = 0);
      return setTimeout(fn, 1e3 * sec);
    }
    exports.timeoutSec = timeoutSec;
    function timeoutPromise(sec, resolveValue) {
      return new Promise(function(resolve) {
        setTimeout(function() {
          return resolve(resolveValue);
        }, 1e3 * sec);
      });
    }
    exports.timeoutPromise = timeoutPromise;
    function timeoutResolvef(sec) {
      return function(resolve) {
        timeoutPromise(sec).then(resolve);
      };
    }
    exports.timeoutResolvef = timeoutResolvef;
    function resolveWrapper(promise) {
      return new Promise(function(resolve) {
        promise.then(resolve, resolve);
      });
    }
    exports.resolveWrapper = resolveWrapper;
    function nodeChildrenComponentToPromise(node, ccAnimationIndex) {
      return __awaiter(this, void 0, void 0, function() {
        var ps, animations, skeletons;
        return __generator(this, function(_a) {
          switch (_a.label) {
           case 0:
            ps = [];
            animations = node.getComponentsInChildren(cc.Animation);
            animations.length && ps.push.apply(ps, animations.map(function(anim) {
              return resolveWrapper(animationPlayToPromise(anim, ccAnimationIndex));
            }));
            skeletons = node.getComponentsInChildren(sp.Skeleton);
            skeletons.length && ps.push.apply(ps, skeletons.map(function(ske) {
              var config = ske.getComponent(SpSkeletonConfig_1.default);
              var col = ske.getComponent(ColSpSkeleton2_1.default);
              var str = ske.animation;
              var loop = 0;
              var enactive = true;
              if (config || col) {
                (true, config) && col && LibGlobal_1.warn("Skeleton have config and col, this may confuse.");
                if (config) {
                  str = config.animation;
                  loop = config.loop ? 1 : 0;
                  enactive = config.enactive;
                }
                if (col) {
                  str = col.animation;
                  loop = col.loop ? 1 : 0;
                  enactive = !col.loop;
                }
              }
              return resolveWrapper(spSkeletonSetAnimationToPromise(ske, str, loop, enactive));
            }));
            return [ 4, Promise.all(ps) ];

           case 1:
            _a.sent();
            return [ 2 ];
          }
        });
      });
    }
    exports.nodeChildrenComponentToPromise = nodeChildrenComponentToPromise;
    var PromiseManager = function(_super) {
      __extends(PromiseManager, _super);
      function PromiseManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.status = 0;
        _this.promise = null;
        _this.resolve = null;
        _this.reject = null;
        _this.resolveId = 0;
        _this.resolving = false;
        _this.statusNodes = [];
        _this.queue = [];
        _this.data = null;
        return _this;
      }
      PromiseManager.prototype.nextResolveId = function() {
        return this.resolveId += 1;
      };
      PromiseManager.prototype.next = function(resolvingId) {
        if (resolvingId !== this.resolveId) return;
        this.promise = null;
        this.resolve = null;
        this.reject = null;
        var status = this.hasNextStatus(this.status);
        if (Number.isInteger(status)) {
          this.queue.unshift(status);
          this.play0(this.queue, this.data);
        } else if (this.queue && this.queue.length) this.play0(this.queue, this.data); else {
          this.resolving = false;
          this.nextResolveId();
        }
      };
      PromiseManager.prototype.play = function(statusOrExecutors, data) {
        var _this = this;
        this.nextResolveId();
        this.scheduleOnce(function() {
          _this.play0(statusOrExecutors, data);
        });
      };
      PromiseManager.prototype.play0 = function(statusOrExecutors, data) {
        statusOrExecutors = [].concat(statusOrExecutors);
        var status = statusOrExecutors.shift();
        Utils_1.isNone(status) && (status = function(resolve) {
          return resolve(1);
        });
        this.queue = statusOrExecutors;
        this.data = data;
        this.resolving = true;
        var id = this.nextResolveId();
        var prr;
        if ("function" === typeof status) {
          prr = this.playExecutor(status);
          this.status = -1;
        } else {
          prr = this.playStatus(status, data);
          this.status = status;
        }
        this.promise = prr.promise;
        this.resolve = prr.resolve;
        this.reject = prr.reject;
        this.promise.then(this.next.bind(this, id), Utils_1.noop);
      };
      PromiseManager.prototype.push = function(statusOrExecutors, data) {
        statusOrExecutors = [].concat(statusOrExecutors);
        this.resolving ? this.queue.push.apply(this.queue, statusOrExecutors) : this.play0(statusOrExecutors, data);
      };
      PromiseManager.prototype.getAnimation = function(status) {
        return this.statusNodes[status].getComponent(cc.Animation);
      };
      PromiseManager.prototype.playExecutor = function(executor) {
        return {
          promise: new Promise(executor),
          resolve: null,
          reject: null
        };
      };
      PromiseManager.prototype.playStatus = function(status, data) {
        this.statusNodes.forEach(Utils_1.nodeActive(false));
        var node = this.statusNodes[status];
        node && (node.active = true);
        var prr = this.statusCallbackMap[status].call(this, data, node.getComponent(cc.Animation));
        return prr;
      };
      PromiseManager.prototype.doEmpty = function(data, anim) {
        return {
          promise: Promise.resolve(),
          resolve: null,
          reject: null
        };
      };
      PromiseManager.prototype.hasNextStatus = function(status) {
        return;
      };
      __decorate([ property([ cc.Node ]) ], PromiseManager.prototype, "statusNodes", void 0);
      PromiseManager = __decorate([ ccclass, menu("PromiseManager/PromiseManager") ], PromiseManager);
      return PromiseManager;
    }(cc.Component);
    exports.default = PromiseManager;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../component/SpSkeletonConfig": "SpSkeletonConfig",
    "../data/ColSpSkeleton2": "ColSpSkeleton2",
    "../utils/Utils": "Utils"
  } ],
  PromiseUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ce01fHWx5BM57ElzYyucSqH", "PromiseUtil");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.nodeChildrenParticleSystemToPromise = exports.nodeChildrenComponentToPromise2 = void 0;
    var ParticleSystemBase_1 = require("../particle/ParticleSystemBase");
    var PromiseManager_1 = require("./PromiseManager");
    function nodeChildrenComponentToPromise2(node, ccAnimationIndex) {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [ 2, Promise.all([ nodeChildrenParticleSystemToPromise(node), PromiseManager_1.nodeChildrenComponentToPromise(node, ccAnimationIndex) ]) ];
        });
      });
    }
    exports.nodeChildrenComponentToPromise2 = nodeChildrenComponentToPromise2;
    function nodeChildrenParticleSystemToPromise(node) {
      return __awaiter(this, void 0, void 0, function() {
        var pss, durations, psbs, dur_1;
        return __generator(this, function(_a) {
          pss = node.getComponentsInChildren(cc.ParticleSystem);
          durations = [];
          if (pss.length) {
            pss.forEach(function(ps) {
              return ps.resetSystem();
            });
            durations.push.apply(durations, pss.map(function(ps) {
              return ps.duration + ps.life + Math.abs(ps.lifeVar);
            }));
          }
          psbs = node.getComponentsInChildren(ParticleSystemBase_1.default);
          if (psbs.length) {
            psbs.forEach(function(psb) {
              return psb.shoot();
            });
            durations.push.apply(durations, pss.map(function(ps) {
              return ps.duration + ps.life + Math.abs(ps.lifeVar);
            }));
          }
          if (durations.length) {
            dur_1 = Math.max.apply(null, durations);
            return [ 2, new Promise(function(resolve) {
              var tn = node.addComponent(cc.Component);
              tn.scheduleOnce(function() {
                tn.destroy();
                resolve(1);
              }, dur_1);
            }) ];
          }
          return [ 2 ];
        });
      });
    }
    exports.nodeChildrenParticleSystemToPromise = nodeChildrenParticleSystemToPromise;
    cc._RF.pop();
  }, {
    "../particle/ParticleSystemBase": "ParticleSystemBase",
    "./PromiseManager": "PromiseManager"
  } ],
  Record: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "95808IqbUBDi5xodUSHFzxE", "Record");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var IframeGlobal_1 = require("../IframeGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    var WidgetWebView_1 = require("./WidgetWebView");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Record = function(_super) {
      __extends(Record, _super);
      function Record() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.loaded = false;
        _this.recordUrl = "";
        _this.firstLoad = true;
        _this.recordWebview = null;
        _this.canvasWidget = [];
        return _this;
      }
      Record.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        var scale = 2;
        cc.sys.os !== cc.sys.OS_ANDROID && cc.sys.os !== cc.sys.OS_IOS || (scale = 3);
        this.recordWebview instanceof WidgetWebView_1.default ? this.recordWebview.scale = scale : this.recordWebview.node.scale = scale;
      };
      Record.prototype.toggle = function(able, url, token, searchType) {
        void 0 === searchType && (searchType = "game");
        this.pre();
        this.node.active = able;
        if (able) {
          IframeGlobal_1.openRecord(token, searchType);
          LibGlobal_1.log(token);
        } else this.fixSafariStyle(false);
      };
      Record.prototype.onClose = function() {
        this.toggle(false, this.recordUrl, this.recordToken);
      };
      Record.prototype.fixSafariStyle = function(enable) {
        var iframe = document.getElementsByTagName("iframe")[0];
        if (iframe) if (enable) {
          iframe.style.display = "";
          iframe.style.opacity = "1";
        } else {
          iframe.style.display = "none";
          iframe.style.opacity = "0";
        }
      };
      __decorate([ property(cc.WebView) ], Record.prototype, "recordWebview", void 0);
      __decorate([ property([ cc.Widget ]) ], Record.prototype, "canvasWidget", void 0);
      Record = __decorate([ ccclass ], Record);
      return Record;
    }(cc.Component);
    exports.default = Record;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../LibGlobal": "LibGlobal",
    "./WidgetWebView": "WidgetWebView"
  } ],
  Repeat: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47baenbX2NPZYPbKP4AFnoT", "Repeat");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColBase_1 = require("../data/ColBase");
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Repeat = function(_super) {
      __extends(Repeat, _super);
      function Repeat() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templateNode = null;
        _this.prefix = "";
        _this.postfix = "";
        _this.ranges = [];
        return _this;
      }
      Repeat.prototype.onLoad = function() {
        var _this = this;
        this.templateNode.removeFromParent();
        var arr = Utils_1.flattenDeep(this.ranges.map(function(ran) {
          var split = ran.split("-");
          var l = Number(split[0]);
          var r = Number(split[1]);
          return r ? Utils_1.range(r - l + 1).map(function(i) {
            return i + l;
          }) : l;
        }));
        arr.forEach(function(idx, index) {
          var name = _this.prefix + idx + _this.postfix;
          var data = {
            name: name,
            idx: idx,
            index: index + 1
          };
          var node = cc.instantiate(_this.templateNode);
          var cols = node.getComponents(ColBase_1.default).concat(node.getComponentsInChildren(ColBase_1.default));
          cols.forEach(function(col) {
            col.reset(null, data[col.colKey], "");
          });
          var rcols = node.getComponents(ResourcesCol_1.default).concat(node.getComponentsInChildren(ResourcesCol_1.default));
          rcols.forEach(function(col) {
            var ks = new KeyStr_1.KeyStr();
            var _a = data.name.split("."), key = _a[0], str = _a[1];
            ks.key = key;
            ks.str = str;
            col.keyStrs.push(ks);
          });
          _this.node.addChild(node);
        });
      };
      __decorate([ property(cc.Node) ], Repeat.prototype, "templateNode", void 0);
      __decorate([ property(cc.String) ], Repeat.prototype, "prefix", void 0);
      __decorate([ property(cc.String) ], Repeat.prototype, "postfix", void 0);
      __decorate([ property({
        type: [ cc.String ],
        tooltip: "\u8bbe\u5b9a\u8303\u4f8b 1\u30011-3\u30015-9\n\n\u76ee\u524d\u6709\u4e09\u4e2a colKey \u53ef\u7528\uff1a\nindex \u7531 1 \u5f00\u59cb\u7684\u9635\u5217\u7d22\u5f15\u3001\nidx \u8bbe\u5b9a\u7684\u533a\u95f4\u53f7\u7801\u3001\nname idx \u52a0\u4e0a\u524d\u7f00\u53ca\u540e\u7f00"
      }) ], Repeat.prototype, "ranges", void 0);
      Repeat = __decorate([ ccclass ], Repeat);
      return Repeat;
    }(cc.Component);
    exports.default = Repeat;
    cc._RF.pop();
  }, {
    "../data/ColBase": "ColBase",
    "../data/KeyStr": "KeyStr",
    "../script/ResourcesCol": "ResourcesCol",
    "../utils/Utils": "Utils"
  } ],
  ResizeGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "53a30CSLatPbaHhCjLmQXL/", "ResizeGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resizeAnimationClip = exports.resizeNode = exports.RESIZE_SCALE = exports.fixWorldXY = exports.getWorldSize = exports.updateWorldSize = exports.setWorldSize = exports.getLayoutType = exports.applyOrientationMode = exports.setHorizontalOnly = exports.setVerticalOnly = exports.showAllMode = exports.horizontalOnly = exports.verticalOnly = exports.UI_LAYOUT = exports.getOnResizeComponent = exports.setOnResizeComponent = void 0;
    var LayoutShrink_1 = require("./component/LayoutShrink");
    var LayoutShrinkLabel_1 = require("./component/LayoutShrinkLabel");
    var NodeShrink_1 = require("./component/NodeShrink");
    var PageViewIndicatorSprite_1 = require("./component/PageViewIndicatorSprite");
    var SpriteFitWorldSize_1 = require("./component/SpriteFitWorldSize");
    var IframeGlobal_1 = require("./IframeGlobal");
    var LibGlobal_1 = require("./LibGlobal");
    var onResizeComponent = null;
    function setOnResizeComponent(onResize) {
      onResizeComponent = onResize;
    }
    exports.setOnResizeComponent = setOnResizeComponent;
    function getOnResizeComponent() {
      return onResizeComponent;
    }
    exports.getOnResizeComponent = getOnResizeComponent;
    var UI_LAYOUT;
    (function(UI_LAYOUT) {
      UI_LAYOUT[UI_LAYOUT["PC_HORIZONTAL"] = 0] = "PC_HORIZONTAL";
      UI_LAYOUT[UI_LAYOUT["MOBILE_HORIZONTAL"] = 1] = "MOBILE_HORIZONTAL";
      UI_LAYOUT[UI_LAYOUT["MOBILE_VERTICAL"] = 2] = "MOBILE_VERTICAL";
      UI_LAYOUT[UI_LAYOUT["UNKNOWN"] = 3] = "UNKNOWN";
    })(UI_LAYOUT = exports.UI_LAYOUT || (exports.UI_LAYOUT = {}));
    var EXTRA_2 = "2";
    var EXTRA_3 = "3";
    var EXTRA_11 = "11";
    var EXTRA_12 = "12";
    exports.verticalOnly = !!cc.sys.isMobile && -1 !== IframeGlobal_1.getHrefURLParams("extra").split(",").indexOf(EXTRA_11);
    exports.horizontalOnly = !!cc.sys.isMobile && -1 !== IframeGlobal_1.getHrefURLParams("extra").split(",").indexOf(EXTRA_12);
    exports.showAllMode = cc.sys.isMobile && cc.sys.os === cc.sys.OS_IOS && -1 === IframeGlobal_1.getHrefURLParams("extra").split(",").indexOf(EXTRA_2) && -1 === IframeGlobal_1.getHrefURLParams("extra").split(",").indexOf(EXTRA_3);
    function setVerticalOnly() {
      exports.verticalOnly = true;
      exports.horizontalOnly = false;
      applyOrientationMode();
    }
    exports.setVerticalOnly = setVerticalOnly;
    function setHorizontalOnly() {
      exports.horizontalOnly = true;
      exports.verticalOnly = false;
      applyOrientationMode();
    }
    exports.setHorizontalOnly = setHorizontalOnly;
    function applyOrientationMode() {
      exports.verticalOnly ? cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT) : exports.horizontalOnly ? cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE) : cc.view.setOrientation(cc.macro.ORIENTATION_AUTO);
    }
    exports.applyOrientationMode = applyOrientationMode;
    function getLayoutType() {
      if (LibGlobal_1.isMobile) {
        if (exports.verticalOnly) return UI_LAYOUT.MOBILE_VERTICAL;
        if (exports.horizontalOnly) return UI_LAYOUT.MOBILE_HORIZONTAL;
        var size = getWorldSize();
        return size.width > size.height ? UI_LAYOUT.MOBILE_HORIZONTAL : UI_LAYOUT.MOBILE_VERTICAL;
      }
      return UI_LAYOUT.PC_HORIZONTAL;
    }
    exports.getLayoutType = getLayoutType;
    var worldSize = cc && cc.Size && new cc.Size(0, 0);
    var fixVec2 = cc && cc.Vec2 && new cc.Vec2(-worldSize.width / 2, -worldSize.height / 2);
    function setWorldSize(w, h) {
      worldSize.width = w;
      worldSize.height = h;
      fixVec2.x = -w / 2;
      fixVec2.y = -h / 2;
    }
    exports.setWorldSize = setWorldSize;
    function updateWorldSize() {
      var size = cc.view.getVisibleSize();
      setWorldSize(size.width, size.height);
    }
    exports.updateWorldSize = updateWorldSize;
    function getWorldSize() {
      return worldSize;
    }
    exports.getWorldSize = getWorldSize;
    function fixWorldXY(pos) {
      return pos.add(fixVec2);
    }
    exports.fixWorldXY = fixWorldXY;
    exports.RESIZE_SCALE = .667;
    function resizeNode(scale, root) {
      var eachProp = eachPropCreator(scale);
      each(root);
      function each(node) {
        var layout = node.getComponent(cc.Layout);
        eachProp(node, "width", Boolean(layout));
        eachProp(node, "height", Boolean(layout));
        eachProp(node, "x");
        eachProp(node, "y");
        if (layout) {
          eachProp(layout, "spacingX");
          eachProp(layout, "spacingY");
          eachProp(layout, "paddingBottom");
          eachProp(layout, "paddingLeft");
          eachProp(layout, "paddingRight");
          eachProp(layout, "paddingTop");
        }
        var w = node.getComponent(cc.Widget);
        if (w) {
          w.isAlignRight && w.isAbsoluteRight && eachProp(w, "right");
          w.isAlignBottom && w.isAbsoluteBottom && eachProp(w, "bottom");
          w.isAlignLeft && w.isAbsoluteLeft && eachProp(w, "left");
          w.isAlignTop && w.isAbsoluteTop && eachProp(w, "top");
        }
        var l = node.getComponent(cc.Label);
        if (l) {
          eachProp(l, "fontSize");
          eachProp(l, "lineHeight");
        }
        var r = node.getComponent(cc.RichText);
        if (r) {
          eachProp(r, "fontSize");
          eachProp(r, "maxWidth");
          eachProp(r, "lineHeight");
        }
        var ns = node.getComponent(NodeShrink_1.default);
        if (ns) {
          eachProp(ns.wh, "x");
          eachProp(ns.wh, "y");
        }
        var ls = node.getComponent(LayoutShrink_1.default);
        if (ls) {
          eachProp(ls.wh, "x");
          eachProp(ls.wh, "y");
        }
        var lsl = node.getComponent(LayoutShrinkLabel_1.default);
        if (lsl) {
          eachProp(lsl.wh, "x");
          eachProp(lsl.wh, "y");
        }
        var sws = node.getComponent(SpriteFitWorldSize_1.default);
        if (sws) {
          eachProp(sws.size, "width");
          eachProp(sws.size, "height");
        }
        var pvi = node.getComponent(cc.PageViewIndicator);
        if (pvi) {
          eachProp(pvi.cellSize, "width");
          eachProp(pvi.cellSize, "height");
          eachProp(pvi, "spacing");
        }
        var pvis = node.getComponent(PageViewIndicatorSprite_1.default);
        if (pvis) {
          eachProp(pvis.cellSize, "width");
          eachProp(pvis.cellSize, "height");
          eachProp(pvis, "spacing");
        }
        node.children.forEach(each);
      }
    }
    exports.resizeNode = resizeNode;
    function eachPropCreator(scale) {
      return function(x, prop, ceil) {
        void 0 === ceil && (ceil = false);
        if (!x) return;
        x[prop] = eachValue(scale, x[prop], ceil);
      };
    }
    function eachValue(scale, value, ceil) {
      void 0 === ceil && (ceil = false);
      return ceil ? Math.ceil(scale * value * 1e3) / 1e3 : Number((scale * value).toFixed(3));
    }
    var clipKeys = [ "cc.Widget#left" ];
    var processed = [];
    function resizeAnimationClip(scale, clip) {
      var uuid = clip._uuid;
      if (-1 !== processed.indexOf(uuid)) return;
      processed.push(uuid);
      var curveData = clip.curveData;
      each(curveData);
      Object.keys(curveData.paths).forEach(function(k) {
        each(curveData.paths[k]);
      });
      function each(data) {
        data.props && eachProps(data.props);
        data.comps && eachComps(data.comps);
      }
      function eachComps(comps) {
        Object.keys(comps).forEach(function(name) {
          var comp = comps[name];
          Object.keys(comp).forEach(function(key) {
            -1 !== clipKeys.indexOf(name + "#" + key) && comp[key].forEach(eachFrame);
          });
        });
      }
      function eachProps(props) {
        props.x && props.x.forEach(eachFrame);
        props.y && props.y.forEach(eachFrame);
        props.width && props.width.forEach(eachFrame);
        props.height && props.height.forEach(eachFrame);
      }
      function eachFrame(frameValue) {
        frameValue.value = eachValue(scale, frameValue.value);
      }
    }
    exports.resizeAnimationClip = resizeAnimationClip;
    cc._RF.pop();
  }, {
    "./IframeGlobal": "IframeGlobal",
    "./LibGlobal": "LibGlobal",
    "./component/LayoutShrink": "LayoutShrink",
    "./component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "./component/NodeShrink": "NodeShrink",
    "./component/PageViewIndicatorSprite": "PageViewIndicatorSprite",
    "./component/SpriteFitWorldSize": "SpriteFitWorldSize"
  } ],
  ResourcesCol: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f6038Yulc5Du74IBElteXCr", "ResourcesCol");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesCol = function(_super) {
      __extends(ResourcesCol, _super);
      function ResourcesCol() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyStrs = [];
        _this.delay = false;
        return _this;
      }
      __decorate([ property([ KeyStr_1.KeyStr ]) ], ResourcesCol.prototype, "keyStrs", void 0);
      __decorate([ property(cc.Boolean) ], ResourcesCol.prototype, "delay", void 0);
      ResourcesCol = __decorate([ ccclass, menu("ResourcesLoad/ResourcesCol") ], ResourcesCol);
      return ResourcesCol;
    }(cc.Component);
    exports.default = ResourcesCol;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr"
  } ],
  ResourcesFont: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "52981paKRBJ8o8EU46He0Or", "ResourcesFont");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesFont = function(_super) {
      __extends(ResourcesFont, _super);
      function ResourcesFont() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesFont.prototype.start = function() {
        this.load();
      };
      ResourcesFont.prototype.load = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyBitmapFonts.length && this.reset(l);
      };
      ResourcesFont.prototype.reset = function(loader) {
        var f = KeyStr_1.findBitmapFont(this.keyStrs, loader.keyBitmapFonts);
        (true, f.key) || LibGlobal_1.log("no font", this.keyStrs, "in", loader.keyBitmapFonts);
        if (f.key) {
          var label = this.getComponent(cc.Label);
          label.font = f.bitmapFont;
          -1 !== label._bmFontOriginalSize && label.overflow !== cc.Label.Overflow.SHRINK && (label.lineHeight = label.fontSize);
        }
      };
      ResourcesFont = __decorate([ ccclass, menu("ResourcesLoad/ResourcesFont"), requireComponent(cc.Label) ], ResourcesFont);
      return ResourcesFont;
    }(ResourcesCol_1.default);
    exports.default = ResourcesFont;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesImageAtlas: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "24996Q/TVdHbLmS90Rz7f9C", "ResourcesImageAtlas");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesImageAtlas = function(_super) {
      __extends(ResourcesImageAtlas, _super);
      function ResourcesImageAtlas() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesImageAtlas.prototype.start = function() {
        this.load();
      };
      ResourcesImageAtlas.prototype.load = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyAtlass.length && this.reset(l);
      };
      ResourcesImageAtlas.prototype.reset = function(loader) {
        var kss = this.keyStrs;
        var keyAtlas = null;
        var _loop_1 = function(i) {
          var ks = kss[i];
          var key = ks.key;
          keyAtlas = loader.keyAtlass.find(function(ka) {
            return ka.key === key;
          });
          if (keyAtlas) return "break";
        };
        for (var i = 0; i < kss.length; i += 1) {
          var state_1 = _loop_1(i);
          if ("break" === state_1) break;
        }
        (true, keyAtlas) || LibGlobal_1.log("no font", this.keyStrs, "in", loader.keyAtlass);
        if (keyAtlas) {
          var rt = this.getComponent(cc.RichText);
          rt.imageAtlas = keyAtlas.atlas;
        }
      };
      ResourcesImageAtlas = __decorate([ ccclass, menu("ResourcesLoad/ResourcesImageAtlas"), requireComponent(cc.RichText) ], ResourcesImageAtlas);
      return ResourcesImageAtlas;
    }(ResourcesCol_1.default);
    exports.default = ResourcesImageAtlas;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesIndicator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f74c2aCRBBJtpTUCPd/074m", "ResourcesIndicator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ResourcesIndicator = function(_super) {
      __extends(ResourcesIndicator, _super);
      function ResourcesIndicator() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesIndicator.prototype.onLoad = function() {
        if (this.delay) {
          var l = ResourcesLoader_1.getResourcesLoader();
          this.reset(l);
        }
      };
      ResourcesIndicator.prototype.reset = function(loader) {
        var indicator = this.node.getComponent(cc.PageViewIndicator);
        var d = KeyStr_1.findFrame(this.keyStrs, loader.keyAtlass);
        if (!d.frame) {
          true;
          console.log("Not found", this.keyStrs, "in", loader.keyAtlass);
        }
        indicator.spriteFrame = d.frame;
        indicator._indicators.forEach(function(node) {
          var s = node.getComponent(cc.Sprite);
          s.sizeMode = cc.Sprite.SizeMode.CUSTOM;
          s.spriteFrame = d.frame;
        });
      };
      ResourcesIndicator = __decorate([ ccclass, menu("ResourcesLoad/ResourcesIndicator") ], ResourcesIndicator);
      return ResourcesIndicator;
    }(ResourcesCol_1.default);
    exports.default = ResourcesIndicator;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesInfoConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "16d3faAzGJK0IWnChMc90OR", "ResourcesInfoConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var InfoConfigBase_1 = require("../info/InfoConfigBase");
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var ResourcesInfoConfig = function(_super) {
      __extends(ResourcesInfoConfig, _super);
      function ResourcesInfoConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyStr = [ {
          key: "info",
          str: ""
        } ];
        return _this;
      }
      ResourcesInfoConfig.prototype.onLoad = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyJsonAssets.length && this.reset(l);
      };
      ResourcesInfoConfig.prototype.reset = function(loader) {
        var f = KeyStr_1.findJsonAssets(this.keyStrs, loader.keyJsonAssets);
        (true, f.key) || LibGlobal_1.log("no font", this.keyStrs, "in", loader.keyJsonAssets);
        if (f.key) {
          var icb = this.getComponent(InfoConfigBase_1.default);
          icb.jsonAsset = f.jsonAsset;
        }
      };
      __decorate([ property({
        override: true
      }) ], ResourcesInfoConfig.prototype, "keyStr", void 0);
      ResourcesInfoConfig = __decorate([ ccclass, menu("ResourcesLoad/ResourcesInfoConfig"), executionOrder(-1) ], ResourcesInfoConfig);
      return ResourcesInfoConfig;
    }(ResourcesCol_1.default);
    exports.default = ResourcesInfoConfig;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../data/KeyStr": "KeyStr",
    "../info/InfoConfigBase": "InfoConfigBase",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesKeeper: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ff7b3pgvFhJpaYRFPOQv4vS", "ResourcesKeeper");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.setResourcesKeeper = exports.getResourcesKeeper = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var keeper = null;
    function getResourcesKeeper() {
      return keeper;
    }
    exports.getResourcesKeeper = getResourcesKeeper;
    function setResourcesKeeper(resourcesKeeper) {
      keeper = resourcesKeeper;
    }
    exports.setResourcesKeeper = setResourcesKeeper;
    var ResourcesKeeper = function(_super) {
      __extends(ResourcesKeeper, _super);
      function ResourcesKeeper() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animationClips = [];
        return _this;
      }
      ResourcesKeeper.prototype.onLoad = function() {
        setResourcesKeeper(this);
      };
      __decorate([ property([ cc.AnimationClip ]) ], ResourcesKeeper.prototype, "animationClips", void 0);
      ResourcesKeeper = __decorate([ ccclass ], ResourcesKeeper);
      return ResourcesKeeper;
    }(cc.Component);
    exports.default = ResourcesKeeper;
    cc._RF.pop();
  }, {} ],
  ResourcesLoaderAppend: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "adfb3EXH0xDFoGxRa/1bKXD", "ResourcesLoaderAppend");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var ResourcesLoaderAppend = function(_super) {
      __extends(ResourcesLoaderAppend, _super);
      function ResourcesLoaderAppend() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.assets = [];
        return _this;
      }
      ResourcesLoaderAppend.prototype.onLoad = function() {
        var l = ResourcesLoader_1.getResourcesLoader();
        l.loaded(this.assets);
      };
      __decorate([ property({
        type: [ cc.Asset ]
      }) ], ResourcesLoaderAppend.prototype, "assets", void 0);
      ResourcesLoaderAppend = __decorate([ ccclass, menu("ResourcesLoad/ResourcesLoaderAppend") ], ResourcesLoaderAppend);
      return ResourcesLoaderAppend;
    }(cc.Component);
    exports.default = ResourcesLoaderAppend;
    cc._RF.pop();
  }, {
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesLoader: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c9f6ebi3nZJKJSTWqd/i+DY", "ResourcesLoader");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.loadResAudioClipPromise = exports.setResourcesLoader = exports.getResourcesLoader = exports.RESOURCES_URL = exports.DEFAULT_AUDIO_TYPE = exports.DEFAULT_OPER = exports.DEFAULT_LANG = void 0;
    var I18nManager_1 = require("../component/I18nManager");
    var LibGlobal_1 = require("../LibGlobal");
    var StorageGlobal_1 = require("../StorageGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    exports.DEFAULT_LANG = "en_us";
    exports.DEFAULT_OPER = "ds";
    exports.DEFAULT_AUDIO_TYPE = "mp3";
    var RESOURCES_URL;
    (function(RESOURCES_URL) {
      RESOURCES_URL["START_PAGE"] = "start_page";
      RESOURCES_URL["START_PAGE_LANG"] = "start_page_lang/{lang}";
      RESOURCES_URL["INFO_PAGE"] = "info_page";
      RESOURCES_URL["INFO_PAGE_LANG"] = "info_page_lang/{lang}";
    })(RESOURCES_URL = exports.RESOURCES_URL || (exports.RESOURCES_URL = {}));
    var loader = null;
    function getResourcesLoader() {
      return loader;
    }
    exports.getResourcesLoader = getResourcesLoader;
    function setResourcesLoader(l) {
      loader = l;
    }
    exports.setResourcesLoader = setResourcesLoader;
    function loadResAudioClipPromise(url) {
      return new Promise(function(resolve) {
        cc.resources.load(url, cc.AudioClip, function(err, clip) {
          err && resolve(null);
          resolve(clip);
        });
      });
    }
    exports.loadResAudioClipPromise = loadResAudioClipPromise;
    var ResourcesLoader = function(_super) {
      __extends(ResourcesLoader, _super);
      function ResourcesLoader() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyJsonAssets = [];
        _this.keyAtlass = [];
        _this.keyBitmapFonts = [];
        _this.keyAudioClips = [];
        _this.keyFrames = [];
        _this.skeletonDatas = [];
        _this.cache = {};
        _this.lang = "";
        _this.oper = "";
        _this.audioType = "";
        _this.varLoaded = false;
        return _this;
      }
      ResourcesLoader.prototype.onLoad = function() {
        setResourcesLoader(this);
      };
      ResourcesLoader.prototype.load = function() {
        return __awaiter(this, void 0, void 0, function() {
          var data, href, lang, oper, audioType, urls;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, new Promise(function(res, rej) {
                cc.resources.load("data", cc.JsonAsset, function(err, jsonAsset) {
                  if (err) {
                    LibGlobal_1.log("load data.json error", err);
                    rej(err);
                    return;
                  }
                  res(jsonAsset.json);
                });
              }) ];

             case 1:
              data = _a.sent();
              href = Utils_1.parseURLParams(window.location.href);
              lang = href && href.lang && href.lang[0] || exports.DEFAULT_LANG;
              oper = href && href.oper && href.oper[0] || exports.DEFAULT_OPER;
              -1 === data.langs.indexOf(lang) && (lang = exports.DEFAULT_LANG);
              -1 === data.opers.indexOf(oper) && (oper = exports.DEFAULT_OPER);
              audioType = Utils_1.isVIVO() ? "ogg" : "mp3";
              I18nManager_1.setLang(lang);
              this.lang = lang;
              this.oper = oper;
              this.audioType = audioType;
              urls = data.dirs;
              if (StorageGlobal_1.getStartPage()) {
                urls.push(RESOURCES_URL.START_PAGE);
                urls.push(RESOURCES_URL.START_PAGE_LANG);
              }
              this.varLoaded = true;
              return [ 2, this.loadUrls(urls) ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loadUrls = function(urls) {
        return __awaiter(this, void 0, Promise, function() {
          var key, reject, p, assets;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              key = urls.sort().join(";");
              if (this.cache[key]) return [ 2, this.cache[key] ];
              urls = urls.map(function(str) {
                return str.replace("{lang}", _this.lang).replace("{oper}", _this.oper).replace("{audio}", _this.audioType);
              });
              reject = function() {
                _this.cache[key] === p && (_this.cache[key] = null);
              };
              p = Promise.all(urls.map(function(url) {
                return new Promise(function(res, rej) {
                  cc.resources.loadDir(url, function(err, assets) {
                    if (err) {
                      reject();
                      rej(err);
                    } else res(assets);
                  });
                });
              })).then(function(a) {
                return Utils_1.flattenDeep(a);
              });
              this.cache[key] = p;
              return [ 4, p ];

             case 1:
              assets = _a.sent();
              true;
              LibGlobal_1.log("lang assets", urls, assets);
              this.loaded(assets);
              return [ 2, assets ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loadRes = function(urls, type) {
        return __awaiter(this, void 0, void 0, function() {
          var key, p, assets;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              key = urls.sort().join(";");
              if (this.cache[key]) return [ 2, this.cache[key] ];
              p = Promise.all(urls.map(function(url) {
                return new Promise(function(res, rej) {
                  cc.resources.load(url, type, function(err, asset) {
                    if (err) {
                      rej(err);
                      return;
                    }
                    res(asset);
                  });
                });
              }));
              this.cache[key] = p;
              return [ 4, p ];

             case 1:
              assets = _a.sent();
              true;
              LibGlobal_1.log("lang assets", urls, assets);
              this.loaded(assets);
              return [ 2, assets ];
            }
          });
        });
      };
      ResourcesLoader.prototype.loaded = function(assets) {
        var _this = this;
        assets.forEach(function(asset) {
          var key = asset.name.split(".")[0];
          asset instanceof cc.BitmapFont ? _this.keyBitmapFonts.push({
            key: key,
            bitmapFont: asset
          }) : asset instanceof cc.SpriteAtlas ? _this.keyAtlass.push({
            key: key,
            atlas: asset
          }) : asset instanceof cc.JsonAsset ? _this.keyJsonAssets.push({
            key: key,
            xpath: "",
            jsonAsset: asset
          }) : asset instanceof cc.AudioClip ? _this.keyAudioClips.push({
            key: key,
            audioClip: asset
          }) : asset instanceof cc.SpriteFrame ? _this.keyFrames.push({
            key: key,
            frame: asset
          }) : asset instanceof sp.SkeletonData && _this.skeletonDatas.push(asset);
        });
      };
      ResourcesLoader = __decorate([ ccclass, menu("ResourcesLoad/ResourcesLoader") ], ResourcesLoader);
      return ResourcesLoader;
    }(cc.Component);
    exports.default = ResourcesLoader;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../StorageGlobal": "StorageGlobal",
    "../component/I18nManager": "I18nManager",
    "../utils/Utils": "Utils"
  } ],
  ResourcesMask: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "296e8/1KIRC8KRxPFfHcaAy", "ResourcesMask");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var LibGlobal_1 = require("../LibGlobal");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesMask = function(_super) {
      __extends(ResourcesMask, _super);
      function ResourcesMask() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ResourcesMask.prototype.onLoad = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyAtlass.length && this.reset(l);
      };
      ResourcesMask.prototype.reset = function(loader) {
        var f = KeyStr_1.findFrame(this.keyStrs, loader.keyAtlass);
        (true, f.key) || LibGlobal_1.log("no font", this.keyStrs, "in", loader.keyAtlass);
        if (f.key) {
          var m = this.getComponent(cc.Mask);
          m.type === cc.Mask.Type.IMAGE_STENCIL && (m.spriteFrame = f.frame);
        }
      };
      ResourcesMask = __decorate([ ccclass, menu("ResourcesLoad/ResourcesMask"), requireComponent(cc.Mask) ], ResourcesMask);
      return ResourcesMask;
    }(ResourcesCol_1.default);
    exports.default = ResourcesMask;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  ResourcesSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5c50eSOlcxMS6NcaTvBah4m", "ResourcesSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeShrink_1 = require("../component/NodeShrink");
    var KeyStr_1 = require("../data/KeyStr");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var ResourcesSprite = function(_super) {
      __extends(ResourcesSprite, _super);
      function ResourcesSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.fromFrame = false;
        return _this;
      }
      ResourcesSprite.prototype.onLoad = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        this.reset(l);
      };
      ResourcesSprite.prototype.reset = function(loader) {
        this.fromFrame ? this.reset2(loader.keyFrames) : this.reset1(loader.keyAtlass);
      };
      ResourcesSprite.prototype.reset1 = function(keyAtlas) {
        var f = KeyStr_1.findFrame(this.keyStrs, keyAtlas);
        var sprite = this.getComponent(cc.Sprite);
        sprite.spriteFrame = f ? f.frame : null;
        this.resize();
      };
      ResourcesSprite.prototype.reset2 = function(keyFrames) {
        var ks = this.keyStrs;
        var kf;
        var _loop_1 = function(i) {
          var ksi = ks[i];
          var key2 = ksi.str;
          kf = keyFrames.find(function(kf) {
            return kf.key === key2;
          });
          if (kf) return "break";
        };
        for (var i = 0; i < ks.length; i += 1) {
          var state_1 = _loop_1(i);
          if ("break" === state_1) break;
        }
        var sprite = this.getComponent(cc.Sprite);
        sprite.spriteFrame = kf ? kf.frame : null;
        this.resize();
      };
      ResourcesSprite.prototype.resize = function() {
        var ns = this.getComponent(NodeShrink_1.default);
        ns && ns.resize();
      };
      __decorate([ property(cc.Boolean) ], ResourcesSprite.prototype, "fromFrame", void 0);
      ResourcesSprite = __decorate([ ccclass, menu("ResourcesLoad/ResourcesSprite"), requireComponent(cc.Sprite) ], ResourcesSprite);
      return ResourcesSprite;
    }(ResourcesCol_1.default);
    exports.default = ResourcesSprite;
    cc._RF.pop();
  }, {
    "../component/NodeShrink": "NodeShrink",
    "../data/KeyStr": "KeyStr",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader"
  } ],
  RoadSource: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89186whZBlIZ5PbcVhQx9KC", "RoadSource");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Luzi_1 = require("./Luzi");
    var Road_1 = require("./Road");
    Luzi_1.ROAD_TYPE;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RoadSource = function(_super) {
      __extends(RoadSource, _super);
      function RoadSource() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetRoads = [];
        _this.roadCache = {};
        return _this;
      }
      RoadSource.prototype.reset = function(roads) {
        var _this = this;
        this.roadCache = {};
        var beads = this.srcToBead(roads);
        this.roadCache[Luzi_1.ROAD_TYPE.BEAD] = beads;
        this.targetRoads.forEach(function(road) {
          _this.roadCache[road.roadType] || _this.calculate(road.roadType);
          road.reset(_this.roadCache[road.roadType]);
        });
      };
      RoadSource.prototype.calculate = function(roadType) {
        if (roadType === Luzi_1.ROAD_TYPE.BIG) {
          var beadArr = this.roadCache[Luzi_1.ROAD_TYPE.BEAD];
          this.roadCache[Luzi_1.ROAD_TYPE.BIG] = this.beadToBig(beadArr);
        } else if (roadType === Luzi_1.ROAD_TYPE.BEAD) ; else {
          this.roadCache[Luzi_1.ROAD_TYPE.BIG] || this.calculate(Luzi_1.ROAD_TYPE.BIG);
          var bigArr = this.roadCache[Luzi_1.ROAD_TYPE.BIG];
          var threeArr = this.bigToThree(roadType, bigArr);
          this.roadCache[roadType] = threeArr;
        }
      };
      __decorate([ property({
        type: [ Road_1.default ]
      }) ], RoadSource.prototype, "targetRoads", void 0);
      RoadSource = __decorate([ ccclass ], RoadSource);
      return RoadSource;
    }(cc.Component);
    exports.default = RoadSource;
    cc._RF.pop();
  }, {
    "./Luzi": "Luzi",
    "./Road": "Road"
  } ],
  Road: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0f0a41ie8ZDeaw0wd+/D72O", "Road");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var Luzi_1 = require("./Luzi");
    var TemplateGenerator_1 = require("./TemplateGenerator");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Road = function(_super) {
      __extends(Road, _super);
      function Road() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.targetNode = null;
        _this.roadType = Luzi_1.ROAD_TYPE.BEAD;
        _this.size = cc.size(0, 0);
        _this.tile = cc.size(0, 0);
        _this.tilePadding = new cc.Vec2();
        _this.offset = new cc.Vec2();
        _this.roadSize = null;
        return _this;
      }
      Road.prototype.pre = function() {
        if (this.roadSize) return;
        this.roadSize = {
          tileWidth: this.tile.width,
          tileHeight: this.tile.height,
          limitWidth: this.size.width,
          limitHeight: this.size.height,
          paddingW: this.tilePadding.x,
          paddingH: this.tilePadding.y,
          offsetX: this.offset.x,
          offsetY: this.offset.y
        };
      };
      Road.prototype.reset = function(roads) {
        this.pre();
        var target = this.targetNode || this.node;
        var l = target.children.length;
        while (l--) this.recycleEachNode(target.children[0]);
        var paintData = Luzi_1.calculate(roads, this.roadSize, true);
        var shiftI = 0;
        if (this.roadSize.limitWidth > 0) {
          var maxI = Luzi_1.findMaxI(paintData.graphArr);
          shiftI = Utils_1.toNaturalNumber(maxI - this.roadSize.limitWidth);
        }
        this.paint(paintData.ijs, paintData.graphArr, shiftI);
      };
      Road.prototype.paint = function(ijs, graphArr, shiftI) {
        var _this = this;
        var target = this.targetNode || this.node;
        ijs.forEach(function(ij) {
          var i = ij.i - shiftI;
          var j = ij.j;
          if (i >= 0) {
            var data = graphArr[ij.i][j];
            var arr = _this.drawNodes(data, _this.roadType, _this.roadSize);
            var vec2_1 = Luzi_1.ijToVec2({
              i: i,
              j: j
            }, _this.roadSize);
            arr.forEach(function(node) {
              node.setPosition(vec2_1);
              target.addChild(node);
            });
          }
        });
      };
      __decorate([ property(cc.Node) ], Road.prototype, "targetNode", void 0);
      __decorate([ property({
        type: cc.Enum(Luzi_1.ROAD_TYPE)
      }) ], Road.prototype, "roadType", void 0);
      __decorate([ property(cc.Size) ], Road.prototype, "size", void 0);
      __decorate([ property(cc.Size) ], Road.prototype, "tile", void 0);
      __decorate([ property(cc.Vec2) ], Road.prototype, "tilePadding", void 0);
      __decorate([ property(cc.Vec2) ], Road.prototype, "offset", void 0);
      Road = __decorate([ ccclass ], Road);
      return Road;
    }(TemplateGenerator_1.TemplateGenerator);
    exports.default = Road;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./Luzi": "Luzi",
    "./TemplateGenerator": "TemplateGenerator"
  } ],
  Rotation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "48c31gU+OpE5r5wglgtC8ET", "Rotation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Rotation = function(_super) {
      __extends(Rotation, _super);
      function Rotation() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.paddingAngle = 0;
        _this.refNode = null;
        _this.lastPoint = null;
        _this.zeroPoint = new cc.Vec2(0, 1);
        _this.stopRotation = false;
        return _this;
      }
      Rotation.prototype.onLoad = function() {
        this.refNode = this.refNode || this.node;
      };
      Rotation.prototype.lateUpdate = function() {
        if (!this.stopRotation && this.lastPoint && 0 !== this.lastPoint.sub(this.refNode.getPosition()).mag()) {
          var angle = 0;
          angle = cc.v2(this.refNode.getPosition().sub(this.lastPoint)).signAngle(this.zeroPoint);
          var degress = Utils_1.radiansToDegrees(-angle);
          this.node.angle = degress + this.paddingAngle;
        }
        this.lastPoint = this.refNode.getPosition();
      };
      Rotation.prototype.clear = function() {
        this.lastPoint = null;
      };
      __decorate([ property(cc.Float) ], Rotation.prototype, "paddingAngle", void 0);
      __decorate([ property(cc.Node) ], Rotation.prototype, "refNode", void 0);
      Rotation = __decorate([ ccclass ], Rotation);
      return Rotation;
    }(cc.Component);
    exports.default = Rotation;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  RpcServiceBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b48f0v3EUxGCYFecbmyOnFV", "RpcServiceBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var grpc_web_1 = require("@improbable-eng/grpc-web");
    var rxjs_1 = require("rxjs");
    var LibGlobal_1 = require("../LibGlobal");
    var StorageGlobal_1 = require("../StorageGlobal");
    var session = new grpc_web_1.grpc.Metadata();
    var upstream = null;
    var loadBalanceHash = Date.now().toString();
    var RpcServiceBase = function() {
      function RpcServiceBase() {
        this.log = false;
        this.host = null;
        this.token = null;
        this.timeOut = 3e4;
        this.isConnect = false;
        this.clientsSubscriber = new Map();
        this.packetIndex = 0;
        if (StorageGlobal_1.supportSessionStorage()) {
          var token = sessionStorage.getItem("grpc-session");
          token && session.set("grpc-session", token);
        }
      }
      RpcServiceBase.prototype.generatePacketIndex = function() {
        return this.packetIndex += 1;
      };
      RpcServiceBase.prototype.concatenate = function(resultConstructor) {
        var arrays = [];
        for (var _i = 1; _i < arguments.length; _i++) arrays[_i - 1] = arguments[_i];
        var totalLength = 0;
        for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {
          var arr = arrays_1[_a];
          totalLength += arr.length;
        }
        var result = new resultConstructor(totalLength);
        var offset = 0;
        for (var _b = 0, arrays_2 = arrays; _b < arrays_2.length; _b++) {
          var arr = arrays_2[_b];
          result.set(arr, offset);
          offset += arr.length;
        }
        return result;
      };
      RpcServiceBase.prototype.initStreaming = function(processor) {
        var _this = this;
        return rxjs_1.Observable.create(function(subscriber) {
          _this.clientsSubscriber.set(0, {
            subscriber: subscriber,
            processor: processor,
            callbackOnce: false
          });
        });
      };
      RpcServiceBase.prototype.callStreamingAPI = function(protoType, req, callbackOnce, processor) {
        var _this = this;
        if (!this.websocketClient) {
          -1 === protoType.methodName.indexOf("token") && (protoType.methodName += "?token=" + this.token);
          if (-1 === protoType.methodName.indexOf("lbhash")) {
            protoType.methodName += "&lbhash=" + loadBalanceHash;
            upstream && (protoType.methodName += "&upstream=" + upstream);
          }
          this.websocketClient = grpc_web_1.grpc.client(protoType, {
            host: this.host,
            transport: grpc_web_1.grpc.WebsocketTransport()
          });
          this.websocketClient.onMessage(function(resp) {
            var subscriberAndProcessor = _this.clientsSubscriber.get(resp.getIndex());
            if (!subscriberAndProcessor) {
              LibGlobal_1.warn("no subscriber index", resp.getIndex(), resp);
              return;
            }
            var subscriber = subscriberAndProcessor.subscriber;
            var processor = subscriberAndProcessor.processor;
            subscriber.next(processor(resp));
            if (subscriberAndProcessor.callbackOnce) {
              _this.clientsSubscriber.delete(resp.getIndex());
              subscriber.complete();
            }
          });
          this.websocketClient.onEnd(function(code, msg, trailers) {
            console.log("on end:", code, msg);
            _this.clientsSubscriber.forEach(function(subscriberAndProcessor) {
              code !== grpc_web_1.grpc.Code.OK && subscriberAndProcessor.subscriber.error(msg);
              subscriberAndProcessor.subscriber.complete();
            });
            _this.closeWebSocket();
          });
          this.websocketClient.start(session);
        }
        var ob = rxjs_1.Observable.create(function(obs) {
          _this.clientsSubscriber.set(req.getIndex(), {
            processor: processor,
            callbackOnce: callbackOnce,
            subscriber: obs
          });
          if (_this.websocketClient) try {
            _this.websocketClient.send(req);
          } catch (e) {
            console.log("send error:", e);
            _this.closeWebSocket();
          }
        });
        return ob;
      };
      RpcServiceBase.prototype.closeWebSocket = function() {
        this.clientsSubscriber.clear();
        this.websocketClient && this.websocketClient.finishSend();
        delete this.websocketClient;
      };
      RpcServiceBase.prototype.callAPI = function(protoType, req) {
        var _this = this;
        var ob = rxjs_1.Observable.create(function(obs) {
          -1 === protoType.methodName.indexOf("token") && (protoType.methodName += "?token=" + _this.token);
          if (-1 === protoType.methodName.indexOf("lbhash")) {
            protoType.methodName += "&lbhash=" + loadBalanceHash;
            upstream && (protoType.methodName += "&upstream=" + upstream);
          }
          grpc_web_1.grpc.invoke(protoType, {
            host: _this.host,
            request: req,
            metadata: session,
            onHeaders: _this.onHeaders,
            onMessage: function(resp) {
              obs.next(resp);
            },
            onEnd: function(code, msg, trailers) {
              code !== grpc_web_1.grpc.Code.OK && obs.error(msg);
              obs.complete();
            }
          });
        });
        return ob;
      };
      RpcServiceBase.prototype.onHeaders = function(headers) {
        if (headers.has("grpc-session")) {
          var token = headers.get("grpc-session")[0];
          session.set("grpc-session", token);
          StorageGlobal_1.supportSessionStorage() && sessionStorage.setItem("grpc-session", token);
        }
        headers.has("x-upstream") && (upstream = headers.get("x-upstream")[0]);
      };
      RpcServiceBase.prototype.setGeolocation = function(lat, lng) {
        session.set("geolocation", lat + "," + lng);
      };
      return RpcServiceBase;
    }();
    exports.default = RpcServiceBase;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../StorageGlobal": "StorageGlobal",
    "@improbable-eng/grpc-web": 7,
    rxjs: 36
  } ],
  Screenshot: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bd98aTTCBxL4qHytctasi21", "Screenshot");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getCaptureSpriteFrame = exports.cullingMaskNumber = exports.CaptureType = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var ccclass = cc._decorator.ccclass;
    var CaptureType;
    (function(CaptureType) {
      CaptureType[CaptureType["DataUrl"] = 0] = "DataUrl";
      CaptureType[CaptureType["Uint8Array"] = 1] = "Uint8Array";
      CaptureType[CaptureType["Base64"] = 2] = "Base64";
      CaptureType[CaptureType["RenderTexture"] = 3] = "RenderTexture";
    })(CaptureType = exports.CaptureType || (exports.CaptureType = {}));
    var textureMap = new Map();
    function cullingMaskNumber(num) {
      var str;
      if ("string" === typeof num) str = num; else {
        if (!(num > 0)) return -1;
        str = "1" + Utils_1.range(num - 1).map(function(_) {
          return "0";
        }).join("");
      }
      return parseInt(str, 2);
    }
    exports.cullingMaskNumber = cullingMaskNumber;
    function getCaptureSpriteFrame(key, root, genNode, cullingMask) {
      void 0 === genNode && (genNode = function() {
        return null;
      });
      void 0 === cullingMask && (cullingMask = 2);
      if (textureMap.has(key)) return textureMap.get(key);
      var node = genNode();
      if (node) root.addChild(node); else {
        true;
        LibGlobal_1.warn("getCaptureSpriteFrame genNode() get null");
      }
      var screenshot = root.getComponent(Screenshot);
      var prevScaleY = root.scaleY;
      root.scaleY = -1;
      screenshot || (screenshot = root.addComponent(Screenshot));
      var renderTexture = screenshot.capture(void 0, CaptureType.RenderTexture, root, cullingMask);
      root.scaleY = prevScaleY;
      node && node.removeFromParent();
      var frame = new cc.SpriteFrame();
      frame.setTexture(renderTexture);
      textureMap.set(key, frame);
      return frame;
    }
    exports.getCaptureSpriteFrame = getCaptureSpriteFrame;
    var Screenshot = function(_super) {
      __extends(Screenshot, _super);
      function Screenshot() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      Screenshot.prototype.capture = function(bound, type, node, cullingMask) {
        void 0 === bound && (bound = {
          maxX: 0,
          minX: 0,
          maxY: 0,
          minY: 0
        });
        void 0 === type && (type = CaptureType.DataUrl);
        void 0 === cullingMask && (cullingMask = 2);
        var camera = this.node.addComponent(cc.Camera);
        camera.backgroundColor = cc.color(0, 0, 0, 0);
        camera.cullingMask = cullingMask;
        var texture = new cc.RenderTexture();
        texture.setPremultiplyAlpha(true);
        var vrw = node ? node.width * Math.abs(node.scaleX) : cc.visibleRect.width;
        var vrh = node ? node.height * Math.abs(node.scaleY) : cc.visibleRect.height;
        var moreX = Math.max(bound.maxX, Math.abs(bound.minX));
        var moreY = Math.max(bound.maxY, Math.abs(bound.minY));
        var w = vrw + (moreX ? 2 * moreX + 100 : 0);
        var h = vrh + (moreY ? 2 * moreY + 100 : 0);
        texture.initWithSize(w, h);
        camera.targetTexture = texture;
        camera.render();
        camera.destroy();
        if (type === CaptureType.RenderTexture) return texture;
        var data = texture.readPixels();
        if (type === CaptureType.Uint8Array) return data;
        var canvas = document.createElement("canvas");
        var ctx = canvas.getContext("2d");
        canvas.width = texture.width;
        canvas.height = texture.height;
        var width = canvas.width;
        var height = canvas.height;
        var rowBytes = 4 * width;
        for (var row = 0; row < height; row += 1) {
          var srow = height - 1 - row;
          var imageData = ctx.createImageData(width, 1);
          var start = srow * width * 4;
          for (var i = 0; i < rowBytes; i += 1) imageData.data[i] = data[start + i];
          ctx.putImageData(imageData, 0, row);
        }
        var dataURL = canvas.toDataURL("image/png");
        if (type === CaptureType.DataUrl) return dataURL;
        if (type === CaptureType.Base64) return dataURL.replace(/^data:image\/(png|jpg|jpeg);base64,/, "");
        return "";
      };
      Screenshot.prototype.renderToTexture = function(bound, node, cameraNode, cullingMask) {
        void 0 === bound && (bound = {
          maxX: 0,
          minX: 0,
          maxY: 0,
          minY: 0
        });
        void 0 === cullingMask && (cullingMask = 2);
        var n = cameraNode;
        n || (n = this.node);
        var camera = n.getComponent(cc.Camera);
        camera || (camera = n.addComponent(cc.Camera));
        camera.backgroundColor = cc.color(0, 0, 0, 0);
        camera.cullingMask = cullingMask;
        var texture = new cc.RenderTexture();
        texture.setPremultiplyAlpha(true);
        var vrw = node ? node.width * Math.abs(node.scaleX) : cc.visibleRect.width;
        var vrh = node ? node.height * Math.abs(node.scaleY) : cc.visibleRect.height;
        var moreX = Math.max(bound.maxX, Math.abs(bound.minX));
        var moreY = Math.max(bound.maxY, Math.abs(bound.minY));
        var w = vrw + (moreX ? 2 * moreX + 100 : 0);
        var h = vrh + (moreY ? 2 * moreY + 100 : 0);
        texture.initWithSize(w, h);
        camera.targetTexture = texture;
        camera.clearFlags = 1;
        camera.render();
        return texture;
      };
      Screenshot = __decorate([ ccclass ], Screenshot);
      return Screenshot;
    }(cc.Component);
    exports.default = Screenshot;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  SlotAutoConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cefcaDvEdJFp55DZrK+gkeF", "SlotAutoConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonUIManager_1 = require("../ui/CommonUIManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotAutoConfig = function(_super) {
      __extends(SlotAutoConfig, _super);
      function SlotAutoConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templates = [];
        _this.templateNodes = [];
        return _this;
      }
      SlotAutoConfig.prototype.onLoad = function() {
        var _this = this;
        if (!this.templates.length) return;
        var commonUIManager = this.getComponent(CommonUIManager_1.default);
        var slotAutos = commonUIManager.getLayoutAutos();
        slotAutos.forEach(function(slotAuto, index) {
          var temp = _this.templates[index];
          temp && (slotAuto.template = temp);
          var tempNode = _this.templateNodes[index];
          tempNode && (slotAuto.templateNode = tempNode);
        });
      };
      __decorate([ property({
        type: [ cc.Prefab ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], SlotAutoConfig.prototype, "templates", void 0);
      __decorate([ property({
        type: [ cc.Node ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], SlotAutoConfig.prototype, "templateNodes", void 0);
      SlotAutoConfig = __decorate([ ccclass ], SlotAutoConfig);
      return SlotAutoConfig;
    }(cc.Component);
    exports.default = SlotAutoConfig;
    cc._RF.pop();
  }, {
    "../ui/CommonUIManager": "CommonUIManager"
  } ],
  SlotAutoContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "46673Q5hfVHTqPvgyP1uiWF", "SlotAutoContent");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("../component/CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotAutoContent = function(_super) {
      __extends(SlotAutoContent, _super);
      function SlotAutoContent() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.content = null;
        _this.panelClose = null;
        return _this;
      }
      __decorate([ property(cc.Node) ], SlotAutoContent.prototype, "content", void 0);
      __decorate([ property(CommonButton_1.default) ], SlotAutoContent.prototype, "panelClose", void 0);
      SlotAutoContent = __decorate([ ccclass ], SlotAutoContent);
      return SlotAutoContent;
    }(cc.Component);
    exports.default = SlotAutoContent;
    cc._RF.pop();
  }, {
    "../component/CommonButton": "CommonButton"
  } ],
  SlotAuto: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22f75XQPSxI7ocm372Noc2/", "SlotAuto");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyNode_1 = require("../data/KeyNode");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var CommonUIManager_1 = require("../ui/CommonUIManager");
    var CommonUIStyle_1 = require("../ui/CommonUIStyle");
    var CommonUIStyleCopy_1 = require("../ui/CommonUIStyleCopy");
    var OptionPanel_1 = require("../ui/OptionPanel");
    var Utils_1 = require("../utils/Utils");
    var SlotAutoContent_1 = require("./SlotAutoContent");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotAuto = function(_super) {
      __extends(SlotAuto, _super);
      function SlotAuto() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.defaultPrefab = null;
        _this.template = null;
        _this.templateNode = null;
        _this.content = null;
        _this.clickHandler = null;
        _this.cancelClickHandler = null;
        _this.replace = function(ks) {};
        return _this;
      }
      SlotAuto.prototype.onLoad = function() {
        var _this = this;
        var template = this.template || this.defaultPrefab;
        var node = cc.instantiate(template);
        var sac = node.getComponent(SlotAutoContent_1.default);
        this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        node.parent = this.content;
        node.getComponentsInChildren(ResourcesCol_1.default).forEach(function(col) {
          col.keyStrs.map(_this.replace);
        });
        var opt = node.getComponent(OptionPanel_1.default);
        opt.clickHandler = this.clickHandler;
        sac.panelClose.onClickHandler = this.cancelClickHandler;
        sac.content && (this.templateNode.parent = sac.content);
        var culs = this.getComponentsInChildren(CommonUIStyle_1.default);
        var arr = [];
        culs.forEach(function(cul) {
          var ks = Utils_1.flattenDeep([ cul.keys, cul.key ]).filter(Utils_1.identity);
          var tn = cul.node;
          ks.forEach(function(k) {
            var sns = KeyNode_1.getNodesByKey(_this.labelKeyNodes, k);
            sns.forEach(function(sn) {
              if (!sn) {
                arr.push(k);
                return;
              }
              var copy = sn.getComponent(CommonUIStyleCopy_1.default);
              copy ? copy.copyTo(tn) : CommonUIManager_1.copyLabelProperty(sn, tn);
            });
          });
        });
      };
      __decorate([ property(cc.Prefab) ], SlotAuto.prototype, "defaultPrefab", void 0);
      __decorate([ property(cc.Prefab) ], SlotAuto.prototype, "template", void 0);
      __decorate([ property(cc.Node) ], SlotAuto.prototype, "templateNode", void 0);
      __decorate([ property(cc.Node) ], SlotAuto.prototype, "content", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SlotAuto.prototype, "clickHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SlotAuto.prototype, "cancelClickHandler", void 0);
      SlotAuto = __decorate([ ccclass ], SlotAuto);
      return SlotAuto;
    }(cc.Component);
    exports.default = SlotAuto;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../data/KeyNode": "KeyNode",
    "../script/ResourcesCol": "ResourcesCol",
    "../ui/CommonUIManager": "CommonUIManager",
    "../ui/CommonUIStyle": "CommonUIStyle",
    "../ui/CommonUIStyleCopy": "CommonUIStyleCopy",
    "../ui/OptionPanel": "OptionPanel",
    "../utils/Utils": "Utils",
    "./SlotAutoContent": "SlotAutoContent"
  } ],
  SlotInfoConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c8befSg9oNNiKV7R2A4IWYK", "SlotInfoConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nLabel_1 = require("../component/I18nLabel");
    var I18nMeta_1 = require("../component/I18nMeta");
    var I18nSprite_1 = require("../component/I18nSprite");
    var Repeat_1 = require("../component/Repeat");
    var KeyAtlas_1 = require("../data/KeyAtlas");
    var I18nGlobal_1 = require("../I18nGlobal");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var CommonUIManager_1 = require("../ui/CommonUIManager");
    var InfoPage_1 = require("../ui/InfoPage");
    var InfoConfigBase_1 = require("./InfoConfigBase");
    var PrefabManager_1 = require("./PrefabManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotInfoConfig = function(_super) {
      __extends(SlotInfoConfig, _super);
      function SlotInfoConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.size1280x720 = false;
        _this.infoNode = null;
        _this.jsonAsset = null;
        _this.keyAtlass = [];
        _this.prefabManager = [];
        _this.needStartPageAssets = false;
        return _this;
      }
      SlotInfoConfig.prototype.onLoad = function() {
        var _this = this;
        if (!this.prefabManager.length) return;
        var commonUIManager = this.getComponent(CommonUIManager_1.default);
        var slotInfos = commonUIManager.getLayoutInfos();
        var gidks = commonUIManager.keyStr.find(function(ks) {
          return "gid" === ks.key;
        });
        var gid = gidks.str;
        var replace = function(ks) {
          ks.key = ks.key.replace("{gid}", gid);
          ks.str = ks.str.replace("{gid}", gid);
        };
        slotInfos.forEach(function(slotInfo, index) {
          if (!slotInfo) return;
          slotInfo.needStartPageAssets = _this.needStartPageAssets;
          slotInfo.bindLoadInfoFail(commonUIManager.loadResourceFail.bind(commonUIManager));
          var jsonAsset = new cc.JsonAsset();
          var prefabManager = _this.prefabManager[index];
          prefabManager.keyPrefabs.forEach(function(kp, index) {
            var px = "p" + (index + 1);
            kp.key = px;
            var node = cc.instantiate(kp.prefab);
            _this.size1280x720 && ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
            kp.node = node;
            "InfoHRepeat" === node.name ? _this.applyRepeatMeta(node, gid, px, "h") : "InfoVRepeat" === node.name && _this.applyRepeatMeta(node, gid, px, "v");
            var each = function(x) {
              x.dataID = x.dataID.replace("{page}", px);
            };
            node.getComponentsInChildren(I18nMeta_1.I18nMeta).forEach(each);
            node.getComponentsInChildren(I18nLabel_1.I18nLabel).forEach(each);
            node.getComponentsInChildren(I18nSprite_1.I18nSprite).forEach(each);
            node.getComponentsInChildren(InfoPage_1.default).forEach(function(ip) {
              ip.page = px;
            });
            node.getComponentsInChildren(ResourcesCol_1.default).forEach(function(col) {
              col.keyStrs.map(replace);
            });
            node.getComponentsInChildren(Repeat_1.default).forEach(function(re) {
              re.prefix = re.prefix.replace("{gid}", gid);
              re.postfix = re.postfix.replace("{gid}", gid);
            });
          });
          jsonAsset.json = {
            info: prefabManager.keyPrefabs.map(function(kp) {
              return kp.key;
            })
          };
          slotInfo.jsonAsset = jsonAsset;
          slotInfo.prefabManager = prefabManager;
        });
      };
      SlotInfoConfig.prototype.applyRepeatMeta = function(node, gid, px, prefix) {
        var layout = node.getComponentInChildren(cc.Layout);
        var repeat = node.getComponentInChildren(Repeat_1.default);
        repeat.prefix = gid + "_info_page.pic_paylines_form";
        var tNode = repeat.templateNode;
        var label = tNode.getComponentInChildren(cc.Label);
        var sprite = tNode.getComponentInChildren(cc.Sprite);
        var k = "INFO." + px + ".range";
        var t = I18nGlobal_1.translate(k);
        k !== t && (repeat.ranges[0] = t);
        k = "INFO." + px + ".template";
        t = I18nGlobal_1.translate(k);
        k !== t && handleWHScale(tNode, t);
        k = "INFO." + px + ".label";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(label.node, t);
        k = "INFO." + px + ".sprite";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(sprite.node, t);
        k = "INFO." + px + "." + prefix + "_template";
        t = I18nGlobal_1.translate(k);
        k !== t && handleWHScale(tNode, t);
        k = "INFO." + px + "." + prefix + "_label";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(label.node, t);
        k = "INFO." + px + "." + prefix + "_sprite";
        t = I18nGlobal_1.translate(k);
        k !== t && handleXYScale(sprite.node, t);
        k = "INFO." + px + "." + prefix + "_layout";
        t = I18nGlobal_1.translate(k);
        if (k !== t) {
          var _a = t.split(";"), len = _a[0], scale = _a[1];
          layout.node.width = tNode.width * Number(len || 1);
          scale && (layout.node.scale = Number(scale));
        } else layout.node.width = tNode.width;
      };
      __decorate([ property(cc.Boolean) ], SlotInfoConfig.prototype, "size1280x720", void 0);
      __decorate([ property({
        type: cc.Node,
        override: true,
        readonly: true,
        visible: false
      }) ], SlotInfoConfig.prototype, "infoNode", void 0);
      __decorate([ property({
        type: cc.JsonAsset,
        override: true,
        readonly: true,
        visible: false
      }) ], SlotInfoConfig.prototype, "jsonAsset", void 0);
      __decorate([ property({
        type: [ KeyAtlas_1.KeyAtlas ],
        override: true,
        readonly: true,
        visible: false
      }) ], SlotInfoConfig.prototype, "keyAtlass", void 0);
      __decorate([ property({
        type: [ PrefabManager_1.default ],
        tooltip: "H\nMH\nMV\n\u4e00\u5b9a\u8981\u4e09\u500b"
      }) ], SlotInfoConfig.prototype, "prefabManager", void 0);
      __decorate([ property(cc.Boolean) ], SlotInfoConfig.prototype, "needStartPageAssets", void 0);
      SlotInfoConfig = __decorate([ ccclass ], SlotInfoConfig);
      return SlotInfoConfig;
    }(InfoConfigBase_1.default);
    exports.default = SlotInfoConfig;
    function handleXYScale(node, str) {
      var _a = str.split(";"), x = _a[0], y = _a[1], scale = _a[2];
      x && (node.x = Number(x));
      y && (node.y = Number(y));
      scale && (node.scale = Number(scale));
    }
    function handleWHScale(node, str) {
      var _a = str.split(";"), w = _a[0], h = _a[1], scale = _a[2];
      w && (node.width = Number(w));
      h && (node.height = Number(h));
      scale && (node.scale = Number(scale));
    }
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../ResizeGlobal": "ResizeGlobal",
    "../component/I18nLabel": "I18nLabel",
    "../component/I18nMeta": "I18nMeta",
    "../component/I18nSprite": "I18nSprite",
    "../component/Repeat": "Repeat",
    "../data/KeyAtlas": "KeyAtlas",
    "../script/ResourcesCol": "ResourcesCol",
    "../ui/CommonUIManager": "CommonUIManager",
    "../ui/InfoPage": "InfoPage",
    "./InfoConfigBase": "InfoConfigBase",
    "./PrefabManager": "PrefabManager"
  } ],
  SlotInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89d98t43zVPeJpCcpDbJjE2", "SlotInfo");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var I18nManager_1 = require("../component/I18nManager");
    var I18nSprite_1 = require("../component/I18nSprite");
    var LayoutShrinkLabel_1 = require("../component/LayoutShrinkLabel");
    var NodeShrink_1 = require("../component/NodeShrink");
    var IframeGlobal_1 = require("../IframeGlobal");
    var ResourcesCol_1 = require("../script/ResourcesCol");
    var ResourcesLoader_1 = require("../script/ResourcesLoader");
    var Utils_1 = require("../utils/Utils");
    var InfoBase_1 = require("./InfoBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SlotInfo = function(_super) {
      __extends(SlotInfo, _super);
      function SlotInfo() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.pageView = null;
        _this.needStartPageAssets = false;
        return _this;
      }
      SlotInfo.prototype.pre = function(datas, prefabManager) {
        prefabManager.keyPrefabs.forEach(function(kp) {
          var node = kp.node;
          var lsls = node.getComponentsInChildren(LayoutShrinkLabel_1.default);
          lsls.forEach(function(lsl) {
            lsl.delay = true;
          });
          var cols = node.getComponentsInChildren(ResourcesCol_1.default);
          cols.forEach(function(col) {
            col.delay = true;
          });
          var sprites = node.getComponentsInChildren(I18nSprite_1.I18nSprite);
          sprites.forEach(function(sprite) {
            sprite.delay = true;
          });
        });
      };
      SlotInfo.prototype.post = function() {
        return __awaiter(this, void 0, void 0, function() {
          var l, lang, urls, _a, node, cols, sprites, shrinks, layoutShrinkLabels;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              if (this.loaded) return [ 2 ];
              this.loaded = true;
              l = ResourcesLoader_1.getResourcesLoader();
              lang = I18nManager_1.getLang();
              urls = [ ResourcesLoader_1.RESOURCES_URL.INFO_PAGE, ResourcesLoader_1.RESOURCES_URL.INFO_PAGE_LANG.replace("{lang}", lang) ];
              this.needStartPageAssets && urls.push.apply(urls, [ ResourcesLoader_1.RESOURCES_URL.START_PAGE, ResourcesLoader_1.RESOURCES_URL.START_PAGE_LANG.replace("{lang}", lang) ]);
              _b.label = 1;

             case 1:
              _b.trys.push([ 1, 3, , 4 ]);
              return [ 4, l.loadUrls(urls) ];

             case 2:
              _b.sent();
              return [ 3, 4 ];

             case 3:
              _a = _b.sent();
              this.loadInfoFail(IframeGlobal_1.DownloadAlertError.RESOURCE);
              this.loaded = false;
              return [ 2, false ];

             case 4:
              this.targetNode.children.forEach(Utils_1.nodeOpacity(255));
              node = this.node;
              cols = node.getComponentsInChildren(ResourcesCol_1.default);
              cols.forEach(function(col) {
                col.delay && col.reset(l);
              });
              sprites = node.getComponentsInChildren(I18nSprite_1.I18nSprite);
              sprites.forEach(function(sprite) {
                sprite.delay && sprite.load();
              });
              shrinks = node.getComponentsInChildren(NodeShrink_1.default);
              shrinks.forEach(function(shrink) {
                shrink.resize();
              });
              layoutShrinkLabels = node.getComponentsInChildren(LayoutShrinkLabel_1.default);
              layoutShrinkLabels.forEach(function(lsl) {
                lsl.resize();
              });
              return [ 2 ];
            }
          });
        });
      };
      SlotInfo.prototype.drawContent = function(prefabManager, prefabName) {
        var node = cc.instantiate(prefabManager.getPrefab(prefabName));
        node.opacity = 1;
        var cols = node.getComponentsInChildren(ResourcesCol_1.default);
        cols.forEach(function(col) {
          return col.delay = true;
        });
        return node;
      };
      SlotInfo.prototype.postToggleContent = function(index) {};
      SlotInfo.prototype.onLeftClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx - 1, .5);
      };
      SlotInfo.prototype.onRightClick = function() {
        var idx = this.pageView.getCurrentPageIndex();
        this.pageView.isAutoScrolling() && this.pageView.stopAutoScroll();
        this.pageView.scrollToPage(idx + 1, .5);
      };
      SlotInfo.prototype.toggleContent = function() {};
      SlotInfo.prototype.bindLoadInfoFail = function(f) {
        this.loadInfoFail = f;
      };
      __decorate([ property(cc.PageView) ], SlotInfo.prototype, "pageView", void 0);
      SlotInfo = __decorate([ ccclass ], SlotInfo);
      return SlotInfo;
    }(InfoBase_1.default);
    exports.default = SlotInfo;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../component/I18nManager": "I18nManager",
    "../component/I18nSprite": "I18nSprite",
    "../component/LayoutShrinkLabel": "LayoutShrinkLabel",
    "../component/NodeShrink": "NodeShrink",
    "../script/ResourcesCol": "ResourcesCol",
    "../script/ResourcesLoader": "ResourcesLoader",
    "../utils/Utils": "Utils",
    "./InfoBase": "InfoBase"
  } ],
  SpSkeletonConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7ab33WA7t1OFp/lJOKtLC/x", "SpSkeletonConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PromiseManager_1 = require("../script/PromiseManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var SpSkeletonConfig = function(_super) {
      __extends(SpSkeletonConfig, _super);
      function SpSkeletonConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.animation = "";
        _this.loop = false;
        _this.enactive = false;
        _this.enableAnimations = [];
        return _this;
      }
      SpSkeletonConfig.prototype.onLoad = function() {
        this.skeleton = this.skeleton || this.getComponent(sp.Skeleton);
        var ske = this.skeleton;
        ske.animation = this.animation || ske.animation;
        ske.loop = this.loop;
      };
      SpSkeletonConfig.prototype.onEnable = function() {
        this.enableAnimations.length && PromiseManager_1.spSkeletonSetAnimation(this.skeleton, this.enableAnimations, this.loop);
      };
      __decorate([ property(sp.Skeleton) ], SpSkeletonConfig.prototype, "skeleton", void 0);
      __decorate([ property(cc.String) ], SpSkeletonConfig.prototype, "animation", void 0);
      __decorate([ property(cc.Boolean) ], SpSkeletonConfig.prototype, "loop", void 0);
      __decorate([ property(cc.Boolean) ], SpSkeletonConfig.prototype, "enactive", void 0);
      __decorate([ property([ cc.String ]) ], SpSkeletonConfig.prototype, "enableAnimations", void 0);
      SpSkeletonConfig = __decorate([ ccclass, requireComponent(sp.Skeleton), executionOrder(-1) ], SpSkeletonConfig);
      return SpSkeletonConfig;
    }(cc.Component);
    exports.default = SpSkeletonConfig;
    cc._RF.pop();
  }, {
    "../script/PromiseManager": "PromiseManager"
  } ],
  SpSkeletonHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9bbbazTUFBM0IMvaTsspwth", "SpSkeletonHack");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.genSkeleton = exports.genSkeletonData = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var PromiseManager_1 = require("../script/PromiseManager");
    var Utils_1 = require("../utils/Utils");
    var SpSkeletonStatus_1 = require("./SpSkeletonStatus");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var FrameTime = 1 / 60;
    var TrackEntryListeners = function() {
      this.start = null;
      this.end = null;
      this.complete = null;
      this.event = null;
      this.interrupt = null;
      this.dispose = null;
    };
    var hacked = false;
    var MAX = 1;
    var SpSkeletonHack = function(_super) {
      __extends(SpSkeletonHack, _super);
      function SpSkeletonHack() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.skeletonNode = null;
        return _this;
      }
      SpSkeletonHack.prototype.onLoad = function() {};
      SpSkeletonHack.prototype.start = function() {};
      SpSkeletonHack.prototype.cache2 = function(skeletonNode) {
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var ns = Object.keys(skeleton.skeletonData.skeletonJson.animations);
        true;
        LibGlobal_1.log("caching spine");
        console.time("cached spine");
        var uuid = skeleton.skeletonData._uuid;
        ns.map(function(n, i) {
          var c = skeleton._skeletonCache.getAnimationCache(uuid, n);
          if (!c) {
            true;
            LibGlobal_1.log("caching " + n);
            console.time("cached " + n);
            skeleton._skeletonCache.updateAnimationCache(uuid, n);
            true;
            console.timeEnd("cached " + n);
          }
        });
        true;
        console.timeEnd("cached spine");
      };
      SpSkeletonHack.prototype.cache = function(skeletonNode, parentNode) {
        return __awaiter(this, void 0, void 0, function() {
          var skeleton, ns, is, lens, arr, findMinIdx, i, info, duration, idx, d, ps;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              parentNode = parentNode || this.node;
              skeleton = skeletonNode.getComponent(sp.Skeleton);
              ns = Object.keys(skeleton.skeletonData.skeletonJson.animations);
              LibGlobal_1.log("skeleton cache", skeleton);
              if (!skeleton.isAnimationCached()) {
                LibGlobal_1.warn("skeleton not cache mode");
                return [ 2 ];
              }
              is = ns.map(function(n) {
                return SpSkeletonStatus_1.spSkeletonDuration(skeleton, n);
              });
              is.sort(function(a, b) {
                return a - b;
              });
              lens = Utils_1.range(MAX).map(function() {
                return 0;
              });
              arr = Utils_1.range(MAX).map(function() {
                return [];
              });
              findMinIdx = function() {
                var min = Math.min.apply(null, lens);
                return lens.indexOf(min);
              };
              for (i = 0; i < is.length; i += 1) {
                info = is[i];
                duration = info.duration + .1;
                idx = findMinIdx();
                d = lens[idx];
                lens[idx] += duration;
                arr[idx].push(info.name);
              }
              true;
              LibGlobal_1.log(is, lens, arr);
              LibGlobal_1.log("caching spine");
              console.time("cached spine");
              ps = arr.map(function(ar, i) {
                return ar.reduce(function(p, n) {
                  return p.then(function() {
                    var node = cc.instantiate(skeletonNode);
                    node.opacity = 0;
                    var ske = node.getComponent(sp.Skeleton);
                    parentNode.addChild(node);
                    true;
                    LibGlobal_1.log(i + " caching " + n);
                    console.time(i + " cached " + n);
                    return PromiseManager_1.spSkeletonSetAnimationToPromise(ske, n).then(function() {
                      true;
                      console.timeEnd(i + " cached " + n);
                      node.removeFromParent();
                    });
                  });
                }, Promise.resolve());
              });
              return [ 4, Promise.all(ps) ];

             case 1:
              _a.sent();
              true;
              console.timeEnd("cached spine");
              return [ 2 ];
            }
          });
        });
      };
      SpSkeletonHack.prototype.hack_2_0_9 = function(skeletonNode) {
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.updateAnimationCache(uuid, "empty");
      };
      SpSkeletonHack.prototype.hack_2_4_4 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.initAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(_skeleton) {
          if (!this._invalid) return;
          var skeleton = new sp.spine.Skeleton(_skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
          this._invalid = false;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._inited) return;
          this.begin(this._skeletonInfo.skeleton);
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) {
            debugger;
            return;
          }
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            if (!this._skeletonCache) return null;
            var cache_1 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_1) {
              cache_1 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_1) || LibGlobal_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_1.begin(this._skeleton);
            }
            if (cache_1) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_1;
              this.attachUtil._hasAttachedNode() && this._frameCache.enableCacheAttachedInfo();
              this._frameCache.updateToFrame(0);
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      SpSkeletonHack.prototype.hack_2_2_2 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.initAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(spSkeleton) {
          if (!this._invalid) return;
          var skeleton = new sp.spine.Skeleton(spSkeleton._skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
          this._invalid = false;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._inited) return;
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) return;
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            if (!this._skeletonCache) return null;
            var cache_2 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_2) {
              cache_2 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_2) || LibGlobal_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_2.begin(this);
            }
            if (cache_2) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_2;
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      SpSkeletonHack.prototype.hack_2_0_10 = function(skeletonNode) {
        if (hacked) return;
        hacked = true;
        var skeleton = skeletonNode.getComponent(sp.Skeleton);
        var uuid = skeleton.skeletonData._uuid;
        var cache = skeleton._skeletonCache.updateAnimationCache(uuid, "empty");
        1;
        cache.constructor.prototype.begin = function(spSkeleton) {
          var skeleton = new sp.spine.Skeleton(spSkeleton._skeleton.data);
          var clipper = new sp.spine.SkeletonClipping();
          var stateData = new sp.spine.AnimationStateData(skeleton.data);
          var state = new sp.spine.AnimationState(stateData);
          var listener = new TrackEntryListeners();
          state.addListener(listener);
          this._skeleton = skeleton;
          this._clipper = clipper;
          this._state = state;
          var animation = skeleton.data.findAnimation(this._animationName);
          state.setAnimationWith(0, animation, false);
          this.bind(listener);
          this._frameIdx = -1;
          this.isCompleted = false;
          this.totalTime = 0;
        };
        0;
        1;
        cache.constructor.prototype.updateToFrame = function(toFrameIdx) {
          if (!this._needToUpdate(toFrameIdx)) return;
          var skeleton = this._skeleton;
          if (!skeleton) return;
          var clipper = this._clipper;
          var state = this._state;
          do {
            skeleton.update(FrameTime);
            state.update(FrameTime);
            state.apply(skeleton);
            skeleton.updateWorldTransform();
            this._frameIdx += 1;
            this._updateFrame(skeleton, clipper, this._frameIdx);
            this.totalTime += FrameTime;
          } while (this._needToUpdate(toFrameIdx));
          this.end();
        };
        0;
        1;
        sp.Skeleton.prototype.setAnimation = function(trackIndex, name, loop) {
          this._playTimes = loop ? 0 : 1;
          this._animationName = name;
          if (this.isAnimationCached()) {
            0 !== trackIndex && cc.warn("Track index can not greater than 0 in cached mode.");
            var cache_3 = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, name);
            if (!cache_3) {
              cache_3 = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, name);
              (true, cache_3) || LibGlobal_1.warn("SpSkeletonHack#setAnimation", "no", name);
              cache_3.begin(this);
            }
            if (cache_3) {
              this._isAniComplete = false;
              this._accTime = 0;
              this._playCount = 0;
              this._frameCache = cache_3;
              this._curFrame = this._frameCache.frames[0];
            }
          } else if (this._skeleton) {
            var animation = this._skeleton.data.findAnimation(name);
            if (!animation) {
              cc.logID(7509, name);
              return null;
            }
            var res = this._state.setAnimationWith(trackIndex, animation, loop);
            this._state.apply(this._skeleton);
            return res;
          }
          return null;
        };
      };
      __decorate([ property(cc.Node) ], SpSkeletonHack.prototype, "skeletonNode", void 0);
      SpSkeletonHack = __decorate([ ccclass ], SpSkeletonHack);
      return SpSkeletonHack;
    }(cc.Component);
    exports.default = SpSkeletonHack;
    function genSkeletonData(skeletonJson, atlasText, textureNames, textures) {
      var skeletonData = new sp.SkeletonData();
      skeletonData.textureNames = textureNames;
      skeletonData.textures = textures;
      skeletonData.atlasText = atlasText;
      skeletonData.skeletonJson = JSON.parse(skeletonJson);
      return skeletonData;
    }
    exports.genSkeletonData = genSkeletonData;
    function genSkeleton(data, cacheMode, defaultAnimation, node) {
      void 0 === cacheMode && (cacheMode = 1);
      void 0 === defaultAnimation && (defaultAnimation = "");
      void 0 === node && (node = null);
      node || (node = new cc.Node());
      var skeleton = node.addComponent(sp.Skeleton);
      skeleton.skeletonData = data;
      cacheMode && skeleton.setAnimationCacheMode(cacheMode);
      skeleton.defaultAnimation = defaultAnimation || "empty";
      skeleton._updateSkeletonData();
      return skeleton;
    }
    exports.genSkeleton = genSkeleton;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./SpSkeletonStatus": "SpSkeletonStatus"
  } ],
  SpSkeletonStatus: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4cec2AYc6JD0oxElEgPlLg0", "SpSkeletonStatus");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getSkeletonMeshData = exports.spSkeletonInfo = exports.spSkeletonDuration = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var GraphicsProfile_1 = require("./GraphicsProfile");
    var NodeShrink_1 = require("./NodeShrink");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var SpSkeletonStatus = function(_super) {
      __extends(SpSkeletonStatus, _super);
      function SpSkeletonStatus() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.richtext = null;
        _this.graphicsProfile = null;
        _this.skeleton = null;
        _this.max = -Infinity;
        _this.avgs = [];
        _this.min = Infinity;
        _this.str = "";
        return _this;
      }
      SpSkeletonStatus.prototype.load = function() {
        var i = spSkeletonInfo(this.skeleton, void 0, true);
        var arr = [ i.name + "(" + Number(i.duration).toFixed(2) + "s)", i.cacheMode + " mode", [ i.bones.length, i.totalBones ].join("/") + " bones", [ i.slots.length, i.totalSlots ].join("/") + " slots", i.textures.length + " textures", [ i.timelinesFrames, i.timelines.length ].join("/") + " timelines", i.drawCall + "(" + i.textureChange + "," + i.blendChange + ") drawcall", i.meshBones + " mesh bones", [ i.verticesChange, i.totalVertices ].join("/") + " vertices", [ i.triangleChange, i.totalTriangles ].join("/") + " triangles" ];
        this.str = arr.join("\n");
      };
      SpSkeletonStatus.prototype.onLoad = function() {
        var _this = this;
        this.skeleton = this.getComponent(sp.Skeleton);
        this.load();
        this.label && (this.label.string = this.str);
        if (this.richtext) {
          this.richtext.string = this.str;
          var shrink = this.richtext.getComponent(NodeShrink_1.default);
          shrink && shrink.resize();
        }
        var update = this.skeleton.update.bind(this.skeleton);
        this.skeleton.update = function(dt) {
          var now = performance.now();
          update(dt);
          var diff = performance.now() - now;
          _this.avgs.push(diff);
          _this.avgs.length > 1e3 && _this.avgs.splice(0, _this.avgs.length - 1e3);
          diff > _this.max && (_this.max = diff);
          diff < _this.min && (_this.min = diff);
          _this.label && (_this.label.string = _this.str + "\n" + [ _this.min.toFixed(3), (_this.avgs.reduce(Utils_1.sumReducer, 0) / _this.avgs.length).toFixed(3), _this.max.toFixed(3) ].join("/") + "ms");
          if (_this.richtext) {
            _this.richtext.string = _this.str + "\n" + [ _this.min.toFixed(3), (_this.avgs.reduce(Utils_1.sumReducer, 0) / _this.avgs.length).toFixed(3), _this.max.toFixed(3) ].join("/") + "ms";
            var shrink = _this.richtext.getComponent(NodeShrink_1.default);
            shrink && shrink.resize();
          }
          _this.graphicsProfile && _this.graphicsProfile.pushData(1e3 * diff);
        };
      };
      __decorate([ property(cc.Label) ], SpSkeletonStatus.prototype, "label", void 0);
      __decorate([ property(cc.RichText) ], SpSkeletonStatus.prototype, "richtext", void 0);
      __decorate([ property(GraphicsProfile_1.default) ], SpSkeletonStatus.prototype, "graphicsProfile", void 0);
      SpSkeletonStatus = __decorate([ ccclass, requireComponent(sp.Skeleton), executionOrder(1) ], SpSkeletonStatus);
      return SpSkeletonStatus;
    }(cc.Component);
    exports.default = SpSkeletonStatus;
    function spSkeletonDuration(ske, animation) {
      var animationName = animation || ske.animation || ske.defaultAnimation;
      var duration = ske.findAnimation(animationName).duration;
      return duration;
    }
    exports.spSkeletonDuration = spSkeletonDuration;
    function spSkeletonInfo(ske, animation, logMissingRegions) {
      void 0 === logMissingRegions && (logMissingRegions = false);
      var animationName = animation || ske.animation || ske.defaultAnimation;
      var cacheMode = ske._cacheMode;
      var skeletonData = ske.skeletonData;
      var textures = skeletonData.textures;
      var skeleton = ske._skeleton;
      var drawOrder = skeleton.drawOrder;
      var json = skeletonData.skeletonJson.animations[animationName];
      var totalBones = skeletonData.skeletonJson.bones.length;
      var totalSlots = skeletonData.skeletonJson.slots.length;
      var _a = ske.findAnimation(animationName), duration = _a.duration, timelines = _a.timelines;
      var bones = Object.keys(json.bones || {});
      var slots = Object.keys(json.slots || {});
      var slotAttachment = slots.map(function(k) {
        return json.slots[k].attachment && json.slots[k].attachment[0].name;
      });
      var fixFolder = function(k) {
        return k.split("_")[0] + "/" + k;
      };
      var slots2 = slots.map(fixFolder);
      var atlasCache = skeletonData._atlasCache;
      var regions = atlasCache.regions;
      var regionsMap = regions.reduce(Utils_1.toObjectReducer("name"), {});
      var _b = getSkeletonMeshData(skeletonData), meshTable = _b.meshTable, totalVertices = _b.totalVertices, totalTriangles = _b.totalTriangles, totalUVs = _b.totalUVs;
      var verticesChange = slotAttachment.reduce(function(acc, x) {
        return meshTable[x] ? acc + meshTable[x]["vertices"] : acc;
      }, 0);
      var triangleChange = slotAttachment.reduce(function(acc, x) {
        return meshTable[x] ? acc + meshTable[x]["triangles"] : acc;
      }, 0);
      var drawCall = 0;
      var blendChange = 0;
      var textureChange = 0;
      var prevBlendMode = -1;
      var prevTexture = null;
      var attachments = [];
      var missingRegions = [];
      for (var i = 0; i < drawOrder.length; i += 1) {
        var drawOrderi = drawOrder[i];
        var data = drawOrderi.data;
        var name = data.name;
        var blendMode = data.blendMode;
        var idx = slots.indexOf(name);
        if (-1 === idx) {
          idx = slots2.indexOf(fixFolder(name));
          if (-1 === idx) continue;
        }
        var regionName = slotAttachment[idx] || name;
        drawOrderi.attachment && attachments.push(drawOrderi.attachment);
        var region = regionsMap[regionName] || regionsMap[fixFolder(regionName)];
        if (!region) {
          missingRegions.push(name);
          continue;
        }
        if (prevTexture !== region.texture || prevBlendMode !== blendMode) {
          drawCall += 1;
          prevTexture !== region.texture && (textureChange += 1);
          prevBlendMode !== blendMode && (blendChange += 1);
        }
        prevBlendMode = blendMode;
        prevTexture = region.texture;
      }
      logMissingRegions && LibGlobal_1.log(slots, slots2, slotAttachment);
      logMissingRegions && missingRegions.length && LibGlobal_1.log("No region", missingRegions.sort(), "in", regions.map(function(r) {
        return r.name;
      }).sort());
      var timelinesFrames = timelines.map(function(t) {
        return t.frames.length;
      }).reduce(Utils_1.sumReducer, 0);
      var meshBones = attachments.filter(function(m) {
        return m.bones;
      }).map(function(m) {
        return m.bones.filter(Utils_1.onlyUnique).length;
      }).reduce(Utils_1.sumReducer, 0);
      return {
        blendChange: blendChange,
        textureChange: textureChange,
        cacheMode: cacheMode,
        bones: bones,
        totalBones: totalBones,
        slots: slots,
        totalSlots: totalSlots,
        duration: duration,
        timelines: timelines,
        timelinesFrames: timelinesFrames,
        drawCall: drawCall,
        textures: textures,
        meshBones: meshBones,
        totalVertices: totalVertices,
        totalTriangles: totalTriangles,
        totalUVs: totalUVs,
        verticesChange: verticesChange,
        triangleChange: triangleChange,
        name: animationName
      };
    }
    exports.spSkeletonInfo = spSkeletonInfo;
    function getSkeletonMeshData(skeletonData, log) {
      void 0 === log && (log = false);
      var skins = skeletonData.skeletonJson.skins;
      if (skins.default) {
        var obj_1 = skins.default;
        var tDataArr_1 = [];
        var tDataMap_1 = {};
        Object.keys(obj_1).forEach(function(key0) {
          var obj0 = obj_1[key0];
          Object.keys(obj0).forEach(function(key1) {
            var obj1 = obj0[key1];
            var dType = obj1.type;
            var vertices = obj1.vertices;
            var triangles = obj1.triangles;
            var uvs = obj1.uvs;
            if (dType && vertices && triangles && uvs) {
              var tableData = {
                attachmentName: key1,
                bones: "",
                type: dType,
                vertices: vertices.length,
                triangles: Math.floor(triangles.length / 3),
                uvs: uvs.length
              };
              tDataArr_1.push(tableData);
              tDataMap_1[key1] = tableData;
            }
          });
        });
        var totalVertices = tDataArr_1.reduce(function(acc, x) {
          return acc + x["vertices"];
        }, 0);
        var totalTriangles = tDataArr_1.reduce(function(acc, x) {
          return acc + x["triangles"];
        }, 0);
        var totalUVs = tDataArr_1.reduce(function(acc, x) {
          return acc + x["uvs"];
        }, 0);
        log && console.table(tDataArr_1);
        var meshTable = tDataMap_1;
        return {
          meshTable: meshTable,
          totalVertices: totalVertices,
          totalTriangles: totalTriangles,
          totalUVs: totalUVs
        };
      }
      var obj_2 = skins;
      var tDataArr_2 = [];
      var tDataMap_2 = {};
      Object.keys(obj_2).forEach(function(key0) {
        var obj0 = obj_2[key0];
        Object.keys(obj0).forEach(function(key1) {
          var obj1 = obj0[key1];
          Object.keys(obj1).forEach(function(key2) {
            var obj2 = obj1[key2];
            Object.keys(obj2).forEach(function(key3) {
              var obj3 = obj2[key3];
              var dType = obj3.type;
              var vertices = obj3.vertices;
              var triangles = obj3.triangles;
              var uvs = obj3.uvs;
              if (dType && vertices && triangles && uvs) {
                var skName = obj0.name;
                var tableData = {
                  skinName: skName,
                  attachmentName: key3,
                  bones: "",
                  type: dType,
                  vertices: vertices.length,
                  triangles: Math.floor(triangles.length / 3),
                  uvs: uvs.length
                };
                tDataArr_2.push(tableData);
                tDataMap_2[key2] = tableData;
              }
            });
          });
        });
      });
      var totalVertices = tDataArr_2.reduce(function(acc, x) {
        return acc + x["vertices"];
      }, 0);
      var totalTriangles = tDataArr_2.reduce(function(acc, x) {
        return acc + x["triangles"];
      }, 0);
      var totalUVs = tDataArr_2.reduce(function(acc, x) {
        return acc + x["uvs"];
      }, 0);
      log && console.table(tDataArr_2);
      var meshTable = tDataMap_2;
      return {
        meshTable: meshTable,
        totalVertices: totalVertices,
        totalTriangles: totalTriangles,
        totalUVs: totalUVs
      };
    }
    exports.getSkeletonMeshData = getSkeletonMeshData;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils",
    "./GraphicsProfile": "GraphicsProfile",
    "./NodeShrink": "NodeShrink"
  } ],
  SpineDemo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "88ddcX70pBJUqrQWcxegAD2", "SpineDemo");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CameraControl_1 = require("../submodule/game-client-lib/runtime-scripts/component/CameraControl");
    var GraphicsProfile_1 = require("../submodule/game-client-lib/runtime-scripts/component/GraphicsProfile");
    var SpSkeletonHack_1 = require("../submodule/game-client-lib/runtime-scripts/component/SpSkeletonHack");
    var SpSkeletonStatus_1 = require("../submodule/game-client-lib/runtime-scripts/component/SpSkeletonStatus");
    var LibGlobal_1 = require("../submodule/game-client-lib/runtime-scripts/LibGlobal");
    var Utils_1 = require("../submodule/game-client-lib/runtime-scripts/utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpineDemo = function(_super) {
      __extends(SpineDemo, _super);
      function SpineDemo() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bgSprite = null;
        _this.infoLabel = null;
        _this.infoRichText = null;
        _this.graphicsProfile = null;
        _this.listContent = null;
        _this.content = null;
        _this.cameraButton = null;
        _this.listTemplate = null;
        _this.template = null;
        _this.length = 1;
        _this.animation = "";
        _this.skeletonData = null;
        _this.premultipliedAlpha = false;
        _this.cacheMode = false;
        _this.timeScale = 1;
        _this.loop = true;
        _this.filter = "";
        _this.debugSlots = false;
        _this.debugBones = false;
        _this.debugMesh = false;
        _this.messageAnimation = null;
        _this.messageLabel = null;
        return _this;
      }
      SpineDemo.prototype.onLoad = function() {
        this.template = this.content.children[0];
        this.template.removeFromParent();
        this.listTemplate = this.listContent.children[0];
        this.listTemplate.removeFromParent();
        var ske = this.template.getComponentInChildren(sp.Skeleton);
        this.listNames(ske.skeletonData);
        this.skeletonData = ske.skeletonData;
        this.apply();
      };
      SpineDemo.prototype.onCameraButtonClick = function() {
        var label = this.cameraButton.getComponentInChildren(cc.Label);
        var str = "skeleton" === label.string ? "background" : "skeleton";
        label.string = str;
        var camera = this.getComponentsInChildren(cc.Camera)["skeleton" === str ? 1 : 0];
        var c = this.getComponent(CameraControl_1.default);
        c.updateCamera(camera);
      };
      SpineDemo.prototype.onFilterTextChanged = function(str) {
        this.filter = str || "";
        this.listNames(this.skeletonData, this.filter);
      };
      SpineDemo.prototype.onLengthEditingDidEnded = function(editBox) {
        this.length = Number(editBox.string) || 1;
        this.apply();
      };
      SpineDemo.prototype.onPremultipliedAlphaClick = function(toggle) {
        this.premultipliedAlpha = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.onLoopClick = function(toggle) {
        this.loop = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.onCacheModeClick = function(toggle) {
        this.cacheMode = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.onTimeScaleEditingDidEnded = function(editBox) {
        this.timeScale = Number(editBox.string) || 1;
        this.apply();
      };
      SpineDemo.prototype.onDebugSlotsClick = function(toggle) {
        this.debugSlots = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.onDebugBonesClick = function(toggle) {
        this.debugBones = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.onDebugMeshClick = function(toggle) {
        this.debugMesh = toggle.isChecked;
        this.apply();
      };
      SpineDemo.prototype.listNames = function(skeletonData, filter) {
        var _this = this;
        void 0 === filter && (filter = "");
        var p = this.listContent;
        p.removeAllChildren();
        var ns = getAnimationNames(skeletonData);
        var regex = new RegExp(filter);
        return ns.map(function(n) {
          if (filter && !regex.test(n)) return;
          var node = cc.instantiate(_this.listTemplate);
          var label = node.getComponentInChildren(cc.Label);
          label.enableBold = _this.animation === n;
          label.enableUnderline = _this.animation === n;
          label.enableItalic = _this.animation === n;
          label.string = n;
          var buttons = node.getComponentsInChildren(cc.Button);
          buttons.forEach(function(button) {
            return button.clickEvents[0].customEventData = n;
          });
          p.addChild(node);
          return n;
        }).filter(Utils_1.identity);
      };
      SpineDemo.prototype.onClick = function(target, name) {
        this.animation = name;
        this.listNames(this.skeletonData, this.filter);
        this.message(name);
        this.apply();
      };
      SpineDemo.prototype.onCopyClick = function(target, name) {
        ctrlC(name);
        this.message("Copied: " + name);
        LibGlobal_1.log("Copied: " + name);
      };
      SpineDemo.prototype.onFileDroped = function(files) {
        cc.dynamicAtlasManager.enabled = false;
        var textureNames = [];
        var textures = [];
        var atlasText = "";
        var skeletonJson = "";
        if (1 === files.length) {
          var bg = files.find(function(f) {
            return -1 !== [ "image/png", "image/jpg", "image/jpeg" ].indexOf(f.type);
          });
          bg && (this.bgSprite.spriteFrame = imgFileToSpriteFrame(bg));
          return;
        }
        for (var i = 0; i < files.length; i += 1) {
          var file = files[i];
          var ext = file.name.split(".")[1];
          switch (ext.toLowerCase()) {
           case "png":
            var frame = imgFileToSpriteFrame(file);
            textureNames.push(file.name);
            textures.push(frame.getTexture());
            break;

           case "atlas":
            atlasText = file.result;
            break;

           case "json":
            skeletonJson = file.result;
          }
        }
        if (skeletonJson && atlasText && textureNames) {
          var skeletonData = SpSkeletonHack_1.genSkeletonData(skeletonJson, atlasText, textureNames, textures);
          this.skeletonData = skeletonData;
          this.apply();
          var names = this.listNames(skeletonData);
          SpSkeletonStatus_1.getSkeletonMeshData(skeletonData, true);
          LibGlobal_1.log(names);
        }
      };
      SpineDemo.prototype.apply = function() {
        var _this = this;
        var skeletonData = this.skeletonData;
        var length = this.length;
        var premultipliedAlpha = this.premultipliedAlpha;
        var cacheMode = this.cacheMode;
        var animation = this.animation;
        var timeScale = this.timeScale;
        var p = this.content;
        var loop = this.loop;
        var debugSlots = this.debugSlots;
        var debugBones = this.debugBones;
        var debugMesh = this.debugMesh;
        p.removeAllChildren();
        var ns = getAnimationNames(skeletonData);
        var n = -1 === ns.indexOf(animation) ? ns[0] : animation;
        var m = cacheMode ? sp.Skeleton.AnimationCacheMode.SHARED_CACHE : sp.Skeleton.AnimationCacheMode.REALTIME;
        Utils_1.range2(length).forEach(function(i) {
          var node = cc.instantiate(_this.template);
          var skeOld = node.getComponentInChildren(sp.Skeleton);
          var skep = skeOld.node.parent;
          skeOld.node.removeFromParent();
          var ske = SpSkeletonHack_1.genSkeleton(skeletonData, m, n);
          ske.premultipliedAlpha = premultipliedAlpha;
          ske.timeScale = timeScale;
          ske.loop = loop;
          skep.addChild(ske.node);
          p.addChild(node);
          if (0 === i) {
            var status = ske.node.addComponent(SpSkeletonStatus_1.default);
            node.children[0].active = true;
            node.children[1].active = true;
            status.label = _this.infoLabel;
            status.richtext = _this.infoRichText;
            status.graphicsProfile = _this.graphicsProfile;
            _this.scheduleOnce(function() {
              ske.debugSlots = debugSlots;
              ske.debugBones = debugBones;
              ske.debugMesh = debugMesh;
            }, 0);
          }
        });
      };
      SpineDemo.prototype.message = function(text) {
        this.messageLabel.string = text;
        this.messageAnimation.play();
      };
      __decorate([ property(cc.Sprite) ], SpineDemo.prototype, "bgSprite", void 0);
      __decorate([ property(cc.Label) ], SpineDemo.prototype, "infoLabel", void 0);
      __decorate([ property(cc.RichText) ], SpineDemo.prototype, "infoRichText", void 0);
      __decorate([ property(GraphicsProfile_1.default) ], SpineDemo.prototype, "graphicsProfile", void 0);
      __decorate([ property(cc.Node) ], SpineDemo.prototype, "listContent", void 0);
      __decorate([ property(cc.Node) ], SpineDemo.prototype, "content", void 0);
      __decorate([ property(cc.Button) ], SpineDemo.prototype, "cameraButton", void 0);
      __decorate([ property(cc.Animation) ], SpineDemo.prototype, "messageAnimation", void 0);
      __decorate([ property(cc.Label) ], SpineDemo.prototype, "messageLabel", void 0);
      SpineDemo = __decorate([ ccclass ], SpineDemo);
      return SpineDemo;
    }(cc.Component);
    exports.default = SpineDemo;
    function getAnimationNames(skeletonData) {
      return Object.keys(skeletonData.skeletonJson.animations).sort();
    }
    function imgFileToSpriteFrame(f) {
      var img = f.result;
      var tex = new cc.Texture2D();
      tex.initWithElement(img);
      tex.name = f.name;
      tex._name = "";
      tex._native = ".png";
      tex._nativeUrl = img.src;
      var frame = new cc.SpriteFrame();
      frame.name = f.name;
      frame.setTexture(tex);
      return frame;
    }
    function ctrlC(text) {
      navigator.clipboard.writeText(text);
    }
    cc._RF.pop();
  }, {
    "../submodule/game-client-lib/runtime-scripts/LibGlobal": "LibGlobal",
    "../submodule/game-client-lib/runtime-scripts/component/CameraControl": "CameraControl",
    "../submodule/game-client-lib/runtime-scripts/component/GraphicsProfile": "GraphicsProfile",
    "../submodule/game-client-lib/runtime-scripts/component/SpSkeletonHack": "SpSkeletonHack",
    "../submodule/game-client-lib/runtime-scripts/component/SpSkeletonStatus": "SpSkeletonStatus",
    "../submodule/game-client-lib/runtime-scripts/utils/Utils": "Utils"
  } ],
  SpriteFitWorldSize: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ef280RCEK1EjoM/zuurjZ+F", "SpriteFitWorldSize");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpriteFitWorldSize = function(_super) {
      __extends(SpriteFitWorldSize, _super);
      function SpriteFitWorldSize() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.resizeNode = null;
        _this.size = null;
        _this.sprite = null;
        _this.shrink = false;
        _this.shrinkScale2 = .8;
        _this.shrinkMaxScale = 1.35;
        _this.spriteSize = null;
        return _this;
      }
      SpriteFitWorldSize.prototype.onLoad = function() {
        this.resizeNode = this.resizeNode || this.node;
        this.spriteSize = this.size || this.sprite && this.sprite.node.getContentSize() || this.node.getContentSize();
      };
      SpriteFitWorldSize.prototype.fit = function(size) {
        var scale = 1;
        var sw = this.spriteSize.width;
        var sh = this.spriteSize.height;
        var h = size.height;
        var w = size.width;
        if (this.shrink) {
          var w2 = size.width * this.shrinkScale2;
          scale = w2 / sw;
          scale > this.shrinkMaxScale && (scale = this.shrinkMaxScale);
        } else scale = Math.max(w / sw, h / sh);
        this.resizeNode.setScale(scale);
      };
      __decorate([ property(cc.Node) ], SpriteFitWorldSize.prototype, "resizeNode", void 0);
      __decorate([ property(cc.Size) ], SpriteFitWorldSize.prototype, "size", void 0);
      __decorate([ property(cc.Sprite) ], SpriteFitWorldSize.prototype, "sprite", void 0);
      __decorate([ property(cc.Boolean) ], SpriteFitWorldSize.prototype, "shrink", void 0);
      __decorate([ property(cc.Float) ], SpriteFitWorldSize.prototype, "shrinkScale2", void 0);
      __decorate([ property(cc.Float) ], SpriteFitWorldSize.prototype, "shrinkMaxScale", void 0);
      SpriteFitWorldSize = __decorate([ ccclass ], SpriteFitWorldSize);
      return SpriteFitWorldSize;
    }(cc.Component);
    exports.default = SpriteFitWorldSize;
    cc._RF.pop();
  }, {} ],
  SpriteFrameCacheAppend2: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89dd1jfD31Ep69Amf2Ee2Jh", "SpriteFrameCacheAppend2");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyStr_1 = require("../data/KeyStr");
    var Utils_1 = require("../utils/Utils");
    var ResourcesCol_1 = require("./ResourcesCol");
    var ResourcesLoader_1 = require("./ResourcesLoader");
    var SpriteFrameCache_1 = require("./SpriteFrameCache");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
    var SpriteFrameCacheAppend2 = function(_super) {
      __extends(SpriteFrameCacheAppend2, _super);
      function SpriteFrameCacheAppend2() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyStrs = [];
        return _this;
      }
      SpriteFrameCacheAppend2.prototype.onLoad = function() {
        if (this.delay) return;
        var l = ResourcesLoader_1.getResourcesLoader();
        l.keyAtlass.length && this.reset(l);
      };
      SpriteFrameCacheAppend2.prototype.reset = function(loader) {
        var kfs = this.keyStrs.map(function(ks) {
          var f = KeyStr_1.findFrame([ ks ], loader.keyAtlass);
          if (f.key) return {
            key: ks.str2,
            frame: f.frame
          };
        }).filter(Utils_1.identity);
        SpriteFrameCache_1.spriteFrameCacheAppend(kfs, []);
      };
      __decorate([ property({
        type: [ KeyStr_1.KeyStr2 ],
        override: true
      }) ], SpriteFrameCacheAppend2.prototype, "keyStrs", void 0);
      SpriteFrameCacheAppend2 = __decorate([ ccclass, menu("ResourcesLoad/SpriteFrameCacheAppend2") ], SpriteFrameCacheAppend2);
      return SpriteFrameCacheAppend2;
    }(ResourcesCol_1.default);
    exports.default = SpriteFrameCacheAppend2;
    cc._RF.pop();
  }, {
    "../data/KeyStr": "KeyStr",
    "../utils/Utils": "Utils",
    "./ResourcesCol": "ResourcesCol",
    "./ResourcesLoader": "ResourcesLoader",
    "./SpriteFrameCache": "SpriteFrameCache"
  } ],
  SpriteFrameCacheAppend: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f02d5cRr8BM9ZZNtZYlslKK", "SpriteFrameCacheAppend");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var KeyFrame_1 = require("../data/KeyFrame");
    var Utils_1 = require("../utils/Utils");
    var SpriteFrameCache_1 = require("./SpriteFrameCache");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpriteFrameCacheAppend = function(_super) {
      __extends(SpriteFrameCacheAppend, _super);
      function SpriteFrameCacheAppend() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyFrame = [];
        _this.keyFrames = [];
        _this.spriteAtlass = [];
        return _this;
      }
      SpriteFrameCacheAppend.prototype.onLoad = function() {
        this.keyFrame = this.keyFrame.concat(Utils_1.flattenDeep(this.spriteAtlass.map(function(a) {
          var k0 = a.name.split(".")[0];
          return a.getSpriteFrames().map(function(f) {
            return {
              key: k0 + "." + f.name,
              frame: f
            };
          });
        })));
        SpriteFrameCache_1.spriteFrameCacheAppend(this.keyFrame, this.keyFrames);
      };
      __decorate([ property([ KeyFrame_1.KeyFrame ]) ], SpriteFrameCacheAppend.prototype, "keyFrame", void 0);
      __decorate([ property([ KeyFrame_1.KeyFrames ]) ], SpriteFrameCacheAppend.prototype, "keyFrames", void 0);
      __decorate([ property([ cc.SpriteAtlas ]) ], SpriteFrameCacheAppend.prototype, "spriteAtlass", void 0);
      SpriteFrameCacheAppend = __decorate([ ccclass ], SpriteFrameCacheAppend);
      return SpriteFrameCacheAppend;
    }(cc.Component);
    exports.default = SpriteFrameCacheAppend;
    cc._RF.pop();
  }, {
    "../data/KeyFrame": "KeyFrame",
    "../utils/Utils": "Utils",
    "./SpriteFrameCache": "SpriteFrameCache"
  } ],
  SpriteFrameCacheSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b341QKXu5H97bfYNsEgcbX", "SpriteFrameCacheSprite");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SpriteFrameCache_1 = require("./SpriteFrameCache");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
    var SpriteFrameCacheSprite = function(_super) {
      __extends(SpriteFrameCacheSprite, _super);
      function SpriteFrameCacheSprite() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.key = "";
        return _this;
      }
      SpriteFrameCacheSprite.prototype.onLoad = function() {
        var sprite = this.getComponent(cc.Sprite);
        sprite.spriteFrame = SpriteFrameCache_1.getSpriteFrame(this.key);
      };
      __decorate([ property(cc.String) ], SpriteFrameCacheSprite.prototype, "key", void 0);
      SpriteFrameCacheSprite = __decorate([ ccclass, requireComponent(cc.Sprite) ], SpriteFrameCacheSprite);
      return SpriteFrameCacheSprite;
    }(cc.Component);
    exports.default = SpriteFrameCacheSprite;
    cc._RF.pop();
  }, {
    "./SpriteFrameCache": "SpriteFrameCache"
  } ],
  SpriteFrameCache: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "80064j0akNEbqSV5jWzkUUu", "SpriteFrameCache");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getSpriteFrames = exports.getSpriteFrame = exports.spriteFrameCacheAppend = exports.setSpriteFrameCache = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpriteFrameCache = function(_super) {
      __extends(SpriteFrameCache, _super);
      function SpriteFrameCache() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.keyFrame = [];
        _this.keyFrames = [];
        _this.objFrame = {};
        _this.objFrames = {};
        _this.loaded = false;
        return _this;
      }
      SpriteFrameCache.prototype.onLoad = function() {
        this.pre();
      };
      SpriteFrameCache.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        setSpriteFrameCache(this);
      };
      SpriteFrameCache.prototype.reload = function() {};
      SpriteFrameCache.prototype.appendSpriteFrames = function(keyFrame, keyFrames) {
        var _this = this;
        void 0 === keyFrame && (keyFrame = []);
        void 0 === keyFrames && (keyFrames = []);
        keyFrames.forEach(function(v) {
          v.frames.forEach(function(frame, i) {
            var key = [ v.key, i ].join(".");
            var index = _this.keyFrame.findIndex(function(r) {
              return r.key === key;
            });
            -1 === index && keyFrame.push({
              key: key,
              frame: frame
            });
          });
        });
        if (keyFrame.length || keyFrames.length) {
          var obj = keyFrame.reduce(Utils_1.toObjectReducer("key", "frame"), {});
          Object.assign(this.objFrame, obj);
        }
        if (keyFrames.length) {
          var obj = keyFrames.reduce(Utils_1.toObjectReducer("key", "frames"), {});
          Object.assign(this.objFrames, obj);
        }
      };
      SpriteFrameCache.prototype.getSpriteFrame = function(key, index) {
        void 0 === index && (index = -1);
        if (-1 === index) {
          var frame = this.objFrame[key];
          return frame || null;
        }
        var key2 = [ key, index ].join(".");
        return this.getSpriteFrame(key2);
      };
      SpriteFrameCache.prototype.getSpriteFrames = function(key) {
        var frames = this.objFrames[key];
        return frames.length ? frames : [];
      };
      SpriteFrameCache = __decorate([ ccclass ], SpriteFrameCache);
      return SpriteFrameCache;
    }(cc.Component);
    exports.default = SpriteFrameCache;
    var cache = null;
    function setSpriteFrameCache(spriteFrameCache) {
      cache = spriteFrameCache;
    }
    exports.setSpriteFrameCache = setSpriteFrameCache;
    function spriteFrameCacheAppend(keyFrame, keyFrames) {
      cache ? cache.appendSpriteFrames(keyFrame, keyFrames) : LibGlobal_1.warn("No SpriteManager!");
    }
    exports.spriteFrameCacheAppend = spriteFrameCacheAppend;
    function getSpriteFrame(key, index) {
      void 0 === index && (index = -1);
      if (cache) return cache.getSpriteFrame(key, index);
      LibGlobal_1.warn("No SpriteManager!");
    }
    exports.getSpriteFrame = getSpriteFrame;
    function getSpriteFrames(key) {
      if (cache) return cache.getSpriteFrames(key);
      LibGlobal_1.warn("No SpriteManager!");
    }
    exports.getSpriteFrames = getSpriteFrames;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "../utils/Utils": "Utils"
  } ],
  SpriteFrameData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ba3ffWtOXRCMrhS/MrpObZC", "SpriteFrameData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SpriteFrameData = function() {
      function SpriteFrameData(spriteFrame, scale) {
        void 0 === spriteFrame && (spriteFrame = null);
        void 0 === scale && (scale = 1);
        this.spriteFrame = spriteFrame;
        this.scale = scale;
      }
      return SpriteFrameData;
    }();
    exports.default = SpriteFrameData;
    cc._RF.pop();
  }, {} ],
  SpriteReload: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6aab0xX0zVF6ILPSyjLeRj8", "SpriteReload");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var SpriteReload = function(_super) {
      __extends(SpriteReload, _super);
      function SpriteReload() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      SpriteReload.prototype.onLoad = function() {
        var sprite = this.node.getComponent(cc.Sprite);
        var frame = sprite.spriteFrame;
        sprite.spriteFrame = null;
        this.scheduleOnce(function() {
          sprite.spriteFrame = frame;
        }, 0);
      };
      SpriteReload = __decorate([ ccclass, requireComponent(cc.Sprite), executionOrder(2) ], SpriteReload);
      return SpriteReload;
    }(cc.Component);
    exports.default = SpriteReload;
    cc._RF.pop();
  }, {} ],
  SpriteTiledHack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f02b4SFa6hGI4JO751QDdqW", "SpriteTiledHack");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var IframeGlobal_1 = require("../IframeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SpriteTiledHack = function(_super) {
      __extends(SpriteTiledHack, _super);
      function SpriteTiledHack() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      SpriteTiledHack.prototype.onLoad = function() {
        var tiledAssembler = cc.Sprite._assembler.getAssembler({
          type: cc.Sprite.Type.TILED
        });
        var oldUpdateRenderData = tiledAssembler.updateRenderData;
        tiledAssembler.updateRenderData = function(sprite) {
          try {
            oldUpdateRenderData(sprite);
          } catch (e) {
            if (e instanceof RangeError) {
              var frame = sprite.spriteFrame;
              var rect = frame._rect;
              var node = sprite.node;
              var contentWidth = Math.abs(node.width);
              var contentHeight = Math.abs(node.height);
              var rectWidth = rect.width;
              var rectHeight = rect.height;
              var hRepeat = contentWidth / rectWidth;
              var vRepeat = contentHeight / rectHeight;
              var msg = [];
              msg.push("Error msg: " + JSON.stringify(e.message));
              msg.push("Error msg2: " + JSON.stringify({
                contentWidth: contentWidth,
                contentHeight: contentHeight,
                rectWidth: rectWidth,
                rectHeight: rectHeight,
                hRepeat: hRepeat,
                vRepeat: vRepeat
              }));
              msg.push("Error stack: " + JSON.stringify(e.stack));
              IframeGlobal_1.report("login", "fail", msg.join(" - "));
            }
            throw e;
          }
        };
      };
      SpriteTiledHack = __decorate([ ccclass ], SpriteTiledHack);
      return SpriteTiledHack;
    }(cc.Component);
    exports.default = SpriteTiledHack;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal"
  } ],
  StorageGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c58d6OmhfNHWJikTU9rhqlg", "StorageGlobal");
    "use strict";
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.applyLocalStorageToCommonUIData = exports.setStartPage = exports.getStartPage = exports.setSpaceSpin = exports.getSpaceSpin = exports.setCurrencySymbol = exports.getCurrencySymbol = exports.setSpinSpeed = exports.getSpinSpeed = exports.setMusicEnable = exports.getMusicEnable = exports.setEffectEnable = exports.getEffectEnable = exports.setAudioRatio = exports.getAudioRatio = exports.setAudioEnable = exports.getAudioEnable = exports.STORAGE_DEFAULTS = exports.ZERO_TEMPLATE = exports.HALF_TEMPLATE = exports.FALSE_TEMPLATE = exports.TRUE_TEMPLATE = exports.STORAGE_KEY = exports.genLocalStorage = exports.num2str = exports.str2num = exports.bool2str = exports.str2bool = exports.supportSessionStorage = exports.supportLocalStorage = void 0;
    function supportLocalStorage() {
      var support = true;
      try {
        localStorage.getItem("localStorage");
      } catch (error) {
        support = false;
      }
      return support;
    }
    exports.supportLocalStorage = supportLocalStorage;
    function supportSessionStorage() {
      var support = true;
      try {
        sessionStorage.getItem("sessionStorage");
      } catch (error) {
        support = false;
      }
      return support;
    }
    exports.supportSessionStorage = supportSessionStorage;
    var str2bool = function(def) {
      return function(str) {
        return Boolean(str ? Number(str) : def);
      };
    };
    exports.str2bool = str2bool;
    var bool2str = function(val) {
      return "" + Number(val);
    };
    exports.bool2str = bool2str;
    var str2num = function(def) {
      return function(str) {
        return isNaN(Number(str)) ? def : Number(str);
      };
    };
    exports.str2num = str2num;
    var num2str = function(val) {
      return "" + val;
    };
    exports.num2str = num2str;
    function genLocalStorage(key, defaultVal, stringToT, tToString) {
      return {
        get: genGetLocalStorage(key, defaultVal, stringToT),
        set: genSetLocalStorage(key, defaultVal, tToString)
      };
    }
    exports.genLocalStorage = genLocalStorage;
    function genGetLocalStorage(key, defaultVal, handler) {
      return function() {
        var val = defaultVal;
        try {
          var ks = key.split(".");
          var k = ks[0];
          var str = localStorage.getItem(k);
          var val2 = void 0;
          if (1 !== ks.length) {
            val2 = str ? JSON.parse(str) : {};
            var len = 1;
            while (len < ks.length) {
              val2 = val2[ks[len]];
              len += 1;
            }
          } else val2 = str;
          val = handler(val2);
        } catch (e) {}
        return val;
      };
    }
    function genSetLocalStorage(key, defaultVal, handler) {
      return function(value) {
        var ks = key.split(".");
        var k = ks[0];
        var str = handler(value);
        var val;
        try {
          if (1 !== ks.length) {
            var itemStr = localStorage.getItem(k);
            var json = itemStr ? JSON.parse(itemStr) : {};
            var len = 1;
            var obj = json;
            while (len < ks.length) {
              var kk = ks[len];
              obj[kk] || (obj[kk] = {});
              len === ks.length - 1 && (obj[kk] = str);
              obj = obj[kk];
              len += 1;
            }
            val = JSON.stringify(json);
          } else val = str;
          localStorage.setItem(k, val);
        } catch (e) {
          return false;
        }
        return true;
      };
    }
    var STORAGE_KEY;
    (function(STORAGE_KEY) {
      STORAGE_KEY["AUDIO_ENABLED"] = "CLIENT_AUDIO_ENABLED";
      STORAGE_KEY["AUDIO_RATIO"] = "dsd.CLIENT_AUDIO_RATIO";
      STORAGE_KEY["AUDIO_EFFECT_ENABLED"] = "dsd.CLIENT_EFFECT_ENABLED";
      STORAGE_KEY["AUDIO_MUSIC_ENABLED"] = "dsd.CLIENT_MUSIC_ENABLED";
      STORAGE_KEY["START_PAGE"] = "dsd.SHOW_LEADING_PAGE_NEXT_TIME";
      STORAGE_KEY["SPIN_SPEED"] = "dsd.SPIN_SPEED";
      STORAGE_KEY["CURRENCY_SYMBOL"] = "dsd.CURRENCY_SYMBOL";
      STORAGE_KEY["SPACE_SPIN"] = "dsd.SPACE_SPIN";
      STORAGE_KEY["BET_LEVEL"] = "dsd.BET_LEVEL_{gid}";
    })(STORAGE_KEY = exports.STORAGE_KEY || (exports.STORAGE_KEY = {}));
    exports.TRUE_TEMPLATE = [ true, exports.str2bool(true), exports.bool2str ];
    exports.FALSE_TEMPLATE = [ false, exports.str2bool(false), exports.bool2str ];
    exports.HALF_TEMPLATE = [ .5, exports.str2num(.5), exports.num2str ];
    exports.ZERO_TEMPLATE = [ 0, exports.str2num(0), exports.num2str ];
    exports.STORAGE_DEFAULTS = (_a = {}, _a[STORAGE_KEY.AUDIO_ENABLED] = exports.TRUE_TEMPLATE, 
    _a[STORAGE_KEY.AUDIO_RATIO] = exports.HALF_TEMPLATE, _a[STORAGE_KEY.AUDIO_EFFECT_ENABLED] = exports.TRUE_TEMPLATE, 
    _a[STORAGE_KEY.AUDIO_MUSIC_ENABLED] = exports.TRUE_TEMPLATE, _a[STORAGE_KEY.SPIN_SPEED] = exports.HALF_TEMPLATE, 
    _a[STORAGE_KEY.CURRENCY_SYMBOL] = exports.FALSE_TEMPLATE, _a[STORAGE_KEY.SPACE_SPIN] = exports.TRUE_TEMPLATE, 
    _a[STORAGE_KEY.START_PAGE] = exports.TRUE_TEMPLATE, _a);
    exports.getAudioEnable = (_b = genLocalStorage(STORAGE_KEY.AUDIO_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_ENABLED][2]), 
    _b.get), exports.setAudioEnable = _b.set;
    exports.getAudioRatio = (_c = genLocalStorage(STORAGE_KEY.AUDIO_RATIO, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_RATIO][2]), 
    _c.get), exports.setAudioRatio = _c.set;
    exports.getEffectEnable = (_d = genLocalStorage(STORAGE_KEY.AUDIO_EFFECT_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_EFFECT_ENABLED][2]), 
    _d.get), exports.setEffectEnable = _d.set;
    exports.getMusicEnable = (_e = genLocalStorage(STORAGE_KEY.AUDIO_MUSIC_ENABLED, exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.AUDIO_MUSIC_ENABLED][2]), 
    _e.get), exports.setMusicEnable = _e.set;
    exports.getSpinSpeed = (_f = genLocalStorage(STORAGE_KEY.SPIN_SPEED, exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPIN_SPEED][2]), 
    _f.get), exports.setSpinSpeed = _f.set;
    exports.getCurrencySymbol = (_g = genLocalStorage(STORAGE_KEY.CURRENCY_SYMBOL, exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.CURRENCY_SYMBOL][2]), 
    _g.get), exports.setCurrencySymbol = _g.set;
    exports.getSpaceSpin = (_h = genLocalStorage(STORAGE_KEY.SPACE_SPIN, exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.SPACE_SPIN][2]), 
    _h.get), exports.setSpaceSpin = _h.set;
    exports.getStartPage = (_j = genLocalStorage(STORAGE_KEY.START_PAGE, exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][0], exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][1], exports.STORAGE_DEFAULTS[STORAGE_KEY.START_PAGE][2]), 
    _j.get), exports.setStartPage = _j.set;
    function applyLocalStorageToCommonUIData(data) {
      var ee = exports.getEffectEnable();
      var me = exports.getMusicEnable();
      var ae = exports.getAudioEnable();
      ee === me && (ae = ee);
      data.set("playSound", ae);
      data.set("soundRatio", exports.getAudioRatio());
      data.set("spinSpeed", exports.getSpinSpeed());
      data.set("playEffect", ee);
      data.set("playMusic", me);
      data.set("displayStartPage", exports.getStartPage());
      data.set("displayCurrencySymbol", exports.getCurrencySymbol());
      data.set("spaceSpin", exports.getSpaceSpin());
    }
    exports.applyLocalStorageToCommonUIData = applyLocalStorageToCommonUIData;
    cc._RF.pop();
  }, {} ],
  SystemMenuConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8d7cdm24NVPrr0ztTPL3rsY", "SystemMenuConfig");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var SystemMenu_1 = require("./SystemMenu");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SystemMenuConfig = function(_super) {
      __extends(SystemMenuConfig, _super);
      function SystemMenuConfig() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zIndex = 0;
        _this.systemMenuNode = null;
        _this.able = false;
        _this.backHandler = null;
        _this.helpHandler = null;
        _this.audioHandler = null;
        _this.recordHandler = null;
        _this.optionHandlers = [];
        _this.systemMenu = null;
        return _this;
      }
      SystemMenuConfig.prototype.onLoad = function() {
        this.systemMenu = this.systemMenuNode.getComponent(SystemMenu_1.default);
        var sm = this.systemMenu;
        sm.able = this.able;
        sm.backHandler = this.backHandler;
        sm.helpHandler = this.helpHandler;
        sm.audioHandler = this.audioHandler;
        sm.recordHandler = this.recordHandler;
        sm.optionHandlers = this.optionHandlers;
        sm.node.zIndex = this.zIndex;
      };
      SystemMenuConfig.prototype.getNetQuality = function() {
        return this.systemMenu.netQuality;
      };
      __decorate([ property(cc.Integer) ], SystemMenuConfig.prototype, "zIndex", void 0);
      __decorate([ property(cc.Node) ], SystemMenuConfig.prototype, "systemMenuNode", void 0);
      __decorate([ property(cc.Boolean) ], SystemMenuConfig.prototype, "able", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "backHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "helpHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "audioHandler", void 0);
      __decorate([ property(cc.Component.EventHandler) ], SystemMenuConfig.prototype, "recordHandler", void 0);
      __decorate([ property([ cc.Component.EventHandler ]) ], SystemMenuConfig.prototype, "optionHandlers", void 0);
      SystemMenuConfig = __decorate([ ccclass ], SystemMenuConfig);
      return SystemMenuConfig;
    }(cc.Component);
    exports.default = SystemMenuConfig;
    cc._RF.pop();
  }, {
    "./SystemMenu": "SystemMenu"
  } ],
  SystemMenu: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e57cf6u0TFBCYC2gjmnkGIO", "SystemMenu");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CommonButton_1 = require("../component/CommonButton");
    var PromiseManager_1 = require("../script/PromiseManager");
    var StorageGlobal_1 = require("../StorageGlobal");
    var Utils_1 = require("../utils/Utils");
    var ButtonInteractable_1 = require("./ButtonInteractable");
    var NetQuality_1 = require("./NetQuality");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SystemMenu = function(_super) {
      __extends(SystemMenu, _super);
      function SystemMenu() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.audioToggle = null;
        _this.menuButton = null;
        _this.netQuality = null;
        _this.label = null;
        _this.buttonNode = [];
        _this.optionNodes = [];
        _this.optionHandlers = [];
        _this.able = false;
        _this.tweenNode = null;
        _this.backHandler = null;
        _this.helpHandler = null;
        _this.audioHandler = null;
        _this.recordHandler = null;
        _this.inTween = null;
        _this.outTween = null;
        _this.tween = null;
        _this.mButton = null;
        return _this;
      }
      SystemMenu.prototype.start = function() {
        this.menuButton && (this.mButton = this.menuButton.getComponent(cc.Button));
        this.audioToggle.isChecked = StorageGlobal_1.getAudioEnable();
        this.optionNodes.forEach(Utils_1.nodeActive(false));
        this.applyButtonAble();
      };
      SystemMenu.prototype.onBackClick = function() {
        this.backHandler.emit([]);
      };
      SystemMenu.prototype.onHelpClick = function() {
        this.helpHandler.emit([]);
      };
      SystemMenu.prototype.onRecordClick = function() {
        this.recordHandler.emit([]);
      };
      SystemMenu.prototype.toggleAudio = function() {
        var btn = this.audioToggle.getComponent(CommonButton_1.default);
        this.audioHandler.emit([ btn.isChecked ]);
      };
      SystemMenu.prototype.onAudioToggleClick = function() {
        this.toggleAudio();
      };
      SystemMenu.prototype.addButtonNodeFromOthers = function(index) {
        var node = this.optionNodes[index];
        if (!node) return;
        if (-1 !== this.buttonNode.indexOf(node)) return;
        this.buttonNode.push(node);
        this.applyButtonAble();
      };
      SystemMenu.prototype.removeButtonNodeFromOthers = function(index) {
        var node = this.optionNodes[index];
        if (!node) return;
        if (-1 === this.buttonNode.indexOf(node)) return;
        Utils_1.arraySplice(this.buttonNode, node);
        this.applyButtonAble();
      };
      SystemMenu.prototype.applyButtonAble = function() {
        this.buttonNode.forEach(Utils_1.nodeActive(this.able));
      };
      SystemMenu.prototype.toggleMenu = function(able, force) {
        var _this = this;
        void 0 === able && (able = !this.able);
        void 0 === force && (force = false);
        if (!force && able === this.able) return;
        this.able = able;
        var bi = this.getComponent(ButtonInteractable_1.default);
        bi && bi.triggerExclusive(this.able);
        var anim = this.animation;
        this.mButton && (this.mButton.enabled = false);
        if (able) {
          PromiseManager_1.animationPlayToPromise(anim, 0).then(function() {
            _this.mButton && (_this.mButton.enabled = true);
          });
          if (this.inTween) {
            this.tween && this.tween.removeSelf();
            this.tween = this.inTween.clone(this.tweenNode).start();
          }
          this.applyButtonAble();
        } else {
          PromiseManager_1.animationPlayToPromise(anim, 1).then(function() {
            _this.mButton && (_this.mButton.enabled = true);
            _this.applyButtonAble();
          });
          if (this.outTween) {
            this.tween && this.tween.removeSelf();
            this.tween = this.outTween.clone(this.tweenNode).start();
          }
        }
      };
      SystemMenu.prototype.setNetQualityPing = function(ping) {
        this.netQuality.setPing(ping);
      };
      SystemMenu.prototype.onToggleClick = function() {
        this.toggleMenu();
      };
      SystemMenu.prototype.onOptionClick = function(event) {
        var node = event.target;
        var i = this.optionNodes.indexOf(node);
        -1 !== i && this.optionHandlers[i].emit([]);
      };
      __decorate([ property(cc.Animation) ], SystemMenu.prototype, "animation", void 0);
      __decorate([ property(CommonButton_1.default) ], SystemMenu.prototype, "audioToggle", void 0);
      __decorate([ property(CommonButton_1.default) ], SystemMenu.prototype, "menuButton", void 0);
      __decorate([ property(NetQuality_1.default) ], SystemMenu.prototype, "netQuality", void 0);
      __decorate([ property(cc.Label) ], SystemMenu.prototype, "label", void 0);
      __decorate([ property([ cc.Node ]) ], SystemMenu.prototype, "buttonNode", void 0);
      __decorate([ property([ cc.Node ]) ], SystemMenu.prototype, "optionNodes", void 0);
      __decorate([ property(cc.Node) ], SystemMenu.prototype, "tweenNode", void 0);
      __decorate([ property(cc.Tween) ], SystemMenu.prototype, "inTween", void 0);
      __decorate([ property(cc.Tween) ], SystemMenu.prototype, "outTween", void 0);
      SystemMenu = __decorate([ ccclass ], SystemMenu);
      return SystemMenu;
    }(cc.Component);
    exports.default = SystemMenu;
    cc._RF.pop();
  }, {
    "../StorageGlobal": "StorageGlobal",
    "../component/CommonButton": "CommonButton",
    "../script/PromiseManager": "PromiseManager",
    "../utils/Utils": "Utils",
    "./ButtonInteractable": "ButtonInteractable",
    "./NetQuality": "NetQuality"
  } ],
  TableDataBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "aeeb5kHEFNEZrG3kPLZpx9A", "TableDataBase");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var TableDataBase = function() {
      function TableDataBase() {
        this.dirty = [];
      }
      TableDataBase.prototype.set = function(col, val) {
        var old = this[col];
        old !== val && this.dirty.push(col);
        this[col] = val;
      };
      return TableDataBase;
    }();
    exports.default = TableDataBase;
    cc._RF.pop();
  }, {} ],
  TemplateGenerator: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a7c89VnT5tAC43D3pZQzFJM", "TemplateGenerator");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TemplateGenerator = void 0;
    var LibGlobal_1 = require("../LibGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var G_SYMBOL = Symbol("TEMPLATE_GENERATOR_SYMBOL");
    var TemplateGenerator = function(_super) {
      __extends(TemplateGenerator, _super);
      function TemplateGenerator() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templates = [];
        _this.pools = [];
        return _this;
      }
      TemplateGenerator.prototype.onLoad = function() {
        var _this = this;
        this.templates.forEach(function(node, i) {
          if (!node) return;
          node.removeFromParent();
          _this.pools[i] = new cc.NodePool();
        });
      };
      TemplateGenerator.prototype.getNode = function(index) {
        void 0 === index && (index = 0);
        var pool = this.pools[index];
        if (!pool) return;
        if (!pool.size()) {
          var tpl = this.templates[index];
          var n = cc.instantiate(tpl);
          n[G_SYMBOL] = tpl.name + "_" + index;
          pool.put(n);
        }
        var node = pool.get();
        return node;
      };
      TemplateGenerator.prototype.recycleNode = function(node, index) {
        void 0 === index && (index = 0);
        if (!this.isValid) return;
        -1 === index && (index = this.templates.findIndex(function(tpl, index) {
          return tpl.name + "_" + index === node[G_SYMBOL];
        }));
        var pool = this.pools[index];
        true;
        var tpl = this.templates[index];
        if (!tpl) debugger;
        var tplGSymbol = tpl.name + "_" + index;
        var nodeGSymbol = node[G_SYMBOL];
        tpl && tplGSymbol !== nodeGSymbol && LibGlobal_1.warn("template node name not match: ", tplGSymbol, nodeGSymbol, node.name);
        if (!pool) {
          LibGlobal_1.warn("pool not exists");
          return;
        }
        pool.put(node);
      };
      __decorate([ property([ cc.Node ]) ], TemplateGenerator.prototype, "templates", void 0);
      TemplateGenerator = __decorate([ ccclass ], TemplateGenerator);
      return TemplateGenerator;
    }(cc.Component);
    exports.TemplateGenerator = TemplateGenerator;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal"
  } ],
  TextImage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "18eb0tCJYRBPZdg+TzQy975", "TextImage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TextImage = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TextImage = function(_super) {
      __extends(TextImage, _super);
      function TextImage() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.spriteFrame = [];
        return _this;
      }
      TextImage.prototype.onLoad = function() {
        this.sprite = this.getComponent(cc.Sprite);
      };
      TextImage.prototype.changeImage = function(index) {
        this.sprite.spriteFrame = this.spriteFrame[index];
      };
      __decorate([ property(cc.Sprite) ], TextImage.prototype, "sprite", void 0);
      __decorate([ property([ cc.SpriteFrame ]) ], TextImage.prototype, "spriteFrame", void 0);
      TextImage = __decorate([ ccclass ], TextImage);
      return TextImage;
    }(cc.Component);
    exports.TextImage = TextImage;
    cc._RF.pop();
  }, {} ],
  ToastData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6a682/BkYZOs54xCdWjf6Ch", "ToastData");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ToastData = function() {
      function ToastData(msg, time, skipRepeat) {
        this.msg = msg;
        this.time = time;
        this.skipRepeat = skipRepeat;
      }
      return ToastData;
    }();
    exports.default = ToastData;
    cc._RF.pop();
  }, {} ],
  Toast: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6d893JCs4hPZrSivZrGZMxj", "Toast");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.Toast = void 0;
    var ToastData_1 = require("../data/ToastData");
    var I18nGlobal_1 = require("../I18nGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Toast = function(_super) {
      __extends(Toast, _super);
      function Toast() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.toastQueue = [];
        _this.background = null;
        _this.canvasWidget = [];
        _this.label = null;
        _this.lastToastData = null;
        _this.loaded = false;
        return _this;
      }
      Toast.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.background = this.background || this.node.children && this.node.children[0];
        this.label = this.label || this.getComponentInChildren(cc.Label);
      };
      Toast.prototype.show = function(msg, sec, skipRepeat) {
        void 0 === sec && (sec = 2);
        void 0 === skipRepeat && (skipRepeat = true);
        this.pre();
        var txt = I18nGlobal_1.translate(msg);
        this.toastQueue.push(new ToastData_1.default(txt, sec, skipRepeat));
        this.node.active || this.showNext();
      };
      Toast.prototype.showNext = function() {
        while (this.toastQueue.length > 0) {
          var toastMsg = this.toastQueue.shift();
          if (this.lastToastData && toastMsg.skipRepeat && this.lastToastData.msg === toastMsg.msg) continue;
          this.background.active = true;
          this.label.node.active = true;
          this.label.string = toastMsg.msg;
          console.log(toastMsg.msg);
          this.lastToastData = toastMsg;
          this.node.active = true;
          this.unscheduleAllCallbacks();
          this.scheduleOnce(this.showNext.bind(this), toastMsg.time);
          return;
        }
        this.lastToastData = null;
        this.node.active = false;
      };
      __decorate([ property(cc.Node) ], Toast.prototype, "background", void 0);
      __decorate([ property([ cc.Widget ]) ], Toast.prototype, "canvasWidget", void 0);
      __decorate([ property(cc.Label) ], Toast.prototype, "label", void 0);
      Toast = __decorate([ ccclass ], Toast);
      return Toast;
    }(cc.Component);
    exports.Toast = Toast;
    cc._RF.pop();
  }, {
    "../I18nGlobal": "I18nGlobal",
    "../data/ToastData": "ToastData"
  } ],
  TweenNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c402etITJZPL4lDTPcweIEM", "TweenNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var NodeTween_1 = require("../data/NodeTween");
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TweenNode = function(_super) {
      __extends(TweenNode, _super);
      function TweenNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.fakeNode = null;
        _this.handler = null;
        _this.handler2 = null;
        _this.justTweenX = false;
        _this.loaded = false;
        _this.tweening = false;
        return _this;
      }
      TweenNode.prototype.pre = function() {
        if (this.loaded) return;
        this.loaded = true;
        this.fakeNode = this.fakeNode || new cc.Node("fakeNode");
        this.node.addChild(this.fakeNode);
      };
      TweenNode.prototype.bindHandler2 = function(handler2) {
        this.handler2 = handler2;
      };
      TweenNode.prototype.tween = function(action) {
        var _this = this;
        this.pre();
        return NodeTween_1.nodeTweenToPromise({
          action: cc.sequence(cc.callFunc(function() {
            _this.tweening = true;
          }), action, cc.callFunc(function() {
            _this.tweening = false;
          })),
          node: this.fakeNode
        });
      };
      TweenNode.prototype.tweenX = function(num, sec, opts) {
        var _this = this;
        void 0 === sec && (sec = 1);
        this.justTweenX = true;
        var ary = Utils_1.flattenDeep([ cc.place(0, 0), opts && opts.before ? opts.before : null, opts && opts.ease ? cc.moveTo(sec, num, 0).easing(opts.ease) : cc.moveTo(sec, num, 0), cc.callFunc(function() {
          _this.tweening = false;
          if (_this.justTweenX) {
            _this.handler && _this.handler.emit([ num ]);
            _this.handler2 && _this.handler2(num);
          } else {
            _this.fakeNode.x = num;
            _this.handler && _this.handler.emit([ _this.fakeNode ]);
            _this.handler2 && _this.handler2(_this.fakeNode);
          }
        }), opts && opts.after ? opts.after : null ]).filter(Utils_1.identity);
        var action = cc.sequence(ary);
        return this.tween(action);
      };
      TweenNode.prototype.clear = function() {
        this.fakeNode && this.fakeNode.stopAllActions();
        this.tweening = false;
      };
      TweenNode.prototype.update = function() {
        if (!this.tweening) return;
        if (this.justTweenX) {
          this.handler && this.handler.emit([ this.fakeNode.x ]);
          this.handler2 && this.handler2(this.fakeNode.x);
        } else {
          this.handler && this.handler.emit([ this.fakeNode ]);
          this.handler2 && this.handler2(this.fakeNode);
        }
      };
      __decorate([ property(cc.Node) ], TweenNode.prototype, "fakeNode", void 0);
      __decorate([ property(cc.Component.EventHandler) ], TweenNode.prototype, "handler", void 0);
      __decorate([ property(cc.Boolean) ], TweenNode.prototype, "justTweenX", void 0);
      TweenNode = __decorate([ ccclass ], TweenNode);
      return TweenNode;
    }(cc.Component);
    exports.default = TweenNode;
    cc._RF.pop();
  }, {
    "../data/NodeTween": "NodeTween",
    "../utils/Utils": "Utils"
  } ],
  UIBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d5f56OvFsdBfoumQTnoSo8z", "UIBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.doLayoutFn = exports.doLayoutNodeParent = exports.doLayoutNodeProperty = exports.doLayoutNodeScale = exports.doLayoutNodeX = exports.doLayoutNodeY = exports.doLayoutNodePosition = exports.doLayoutCalculateY = exports.doLayout2 = exports.doLayout = void 0;
    var Handler_1 = require("../component/Handler");
    var ColItemBase_1 = require("../data/ColItemBase");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var Utils_1 = require("../utils/Utils");
    var CommonUIManager_1 = require("./CommonUIManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIBase = function(_super) {
      __extends(UIBase, _super);
      function UIBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.commonUIManager = null;
        _this.startPageNodes = [];
        _this.nodes = [];
        _this.bottomNode = null;
        _this.startPageHandler = null;
        return _this;
      }
      UIBase.prototype.onLoad = function() {
        this.commonUIManager.size1280x720 && this.startPageNodes.forEach(function(node) {
          return ResizeGlobal_1.resizeNode(ResizeGlobal_1.RESIZE_SCALE, node);
        });
        this.startPageNodes.map(function(n) {
          return n.getComponent(Handler_1.default);
        }).forEach(Utils_1.nodeProperty("handler", this.startPageHandler));
      };
      UIBase.prototype.onStartPageCloseClick = function() {
        this.data.set("displayStartPage", false);
      };
      UIBase.prototype.onResized = function(size) {
        var layout = ResizeGlobal_1.getLayoutType();
        this.doLayout(layout, size);
        this.layout = layout;
      };
      __decorate([ property(CommonUIManager_1.default) ], UIBase.prototype, "commonUIManager", void 0);
      __decorate([ property([ cc.Node ]) ], UIBase.prototype, "startPageNodes", void 0);
      __decorate([ property({
        tooltip: "\u8981\u4f7f\u7528\u8f6c\u8f74\u7f29\u653e\u7684\u8282\u70b9",
        type: [ cc.Node ]
      }) ], UIBase.prototype, "nodes", void 0);
      __decorate([ property(cc.Node) ], UIBase.prototype, "bottomNode", void 0);
      __decorate([ property(cc.Component.EventHandler) ], UIBase.prototype, "startPageHandler", void 0);
      UIBase = __decorate([ ccclass ], UIBase);
      return UIBase;
    }(ColItemBase_1.default);
    exports.default = UIBase;
    function doLayout(layout, ui, size, commonUI, manager, hy, h, spinAnim) {
      void 0 === hy && (hy = 25);
      void 0 === h && (h = 540);
      void 0 === spinAnim && (spinAnim = true);
      var ys = [ hy, hy, doLayoutCalculateY(size.height, h) ];
      var scales = [ 1, 1, .8 ];
      doLayout2(layout, ui, commonUI, manager, spinAnim, ys, scales);
    }
    exports.doLayout = doLayout;
    function doLayout2(layout, ui, commonUI, manager, spinAnim, ys, scales) {
      void 0 === spinAnim && (spinAnim = true);
      void 0 === ys && (ys = []);
      void 0 === scales && (scales = []);
      doLayoutSpinWins(layout, ui, commonUI, manager, spinAnim);
      ys && ys.length && ui.nodes.forEach(function(n) {
        return doLayoutNodeY(layout, n, ys);
      });
      scales && scales.length && ui.nodes.forEach(function(n) {
        return doLayoutNodeScale(layout, n, scales);
      });
    }
    exports.doLayout2 = doLayout2;
    function doLayoutSpinWins(layout, ui, commonUI, manager, spinAnim) {
      void 0 === spinAnim && (spinAnim = true);
      spinAnim && doLayoutNodeParent(layout, commonUI, manager.spinAnimationNode, function(cui) {
        return cui.getNodesByUIStyleKey("ctrl.anim")[0];
      });
      switch (layout) {
       case ResizeGlobal_1.UI_LAYOUT.PC_HORIZONTAL:
       case ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL:
        ui.bottomNode && ui.bottomNode.removeAllChildren();
        break;

       case ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL:
        if (ui.bottomNode) {
          var winsNode = commonUI.getNodeByKey("wins");
          winsNode.setParent(ui.bottomNode);
        }
      }
    }
    function doLayoutCalculateY(height, bottom) {
      return height / 2 - (height - bottom) / 2;
    }
    exports.doLayoutCalculateY = doLayoutCalculateY;
    function doLayoutNodePosition(layout, node, poss) {
      return doLayoutNodeProperty(layout, node, "position", poss.map(function(pos) {
        return cc.v3(pos);
      }));
    }
    exports.doLayoutNodePosition = doLayoutNodePosition;
    function doLayoutNodeY(layout, node, ys) {
      return doLayoutNodeProperty(layout, node, "y", ys);
    }
    exports.doLayoutNodeY = doLayoutNodeY;
    function doLayoutNodeX(layout, node, xs) {
      return doLayoutNodeProperty(layout, node, "x", xs);
    }
    exports.doLayoutNodeX = doLayoutNodeX;
    function doLayoutNodeScale(layout, node, scales) {
      return doLayoutNodeProperty(layout, node, "scale", scales);
    }
    exports.doLayoutNodeScale = doLayoutNodeScale;
    function doLayoutNodeProperty(layout, node, property, values) {
      var value = values[layout];
      var np = Utils_1.nodeProperty(property, value);
      return doLayoutFn(layout, node, [ np, np, np ]);
    }
    exports.doLayoutNodeProperty = doLayoutNodeProperty;
    function doLayoutNodeParent(layout, cui, node, fn, verticalOnly) {
      void 0 === verticalOnly && (verticalOnly = false);
      if (!node) return;
      var p = fn(cui);
      p ? verticalOnly ? layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL ? node.setParent(p) : node.removeFromParent() : node.setParent(p) : node.removeFromParent();
    }
    exports.doLayoutNodeParent = doLayoutNodeParent;
    function doLayoutFn(layout, target, fns) {
      var fn = fns[layout];
      fn(target);
    }
    exports.doLayoutFn = doLayoutFn;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../component/Handler": "Handler",
    "../data/ColItemBase": "ColItemBase",
    "../utils/Utils": "Utils",
    "./CommonUIManager": "CommonUIManager"
  } ],
  UIDataBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bb5cdw0+dZPkZ76B+y+eqWa", "UIDataBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ColDataBase_1 = require("../data/ColDataBase");
    var ResizeGlobal_1 = require("../ResizeGlobal");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIDataBase = function(_super) {
      __extends(UIDataBase, _super);
      function UIDataBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.betable = true;
        _this.layout = ResizeGlobal_1.UI_LAYOUT.UNKNOWN;
        _this.displayStartPage = false;
        _this.playSpinEffect = false;
        _this.inBonus = false;
        _this.inFG = false;
        _this.inSpecialMode3 = false;
        _this.inSpecialMode4 = false;
        _this.isPCH = false;
        _this.isH = false;
        _this.isV = false;
        _this.isM = false;
        _this.isMH = false;
        _this.isMV = false;
        _this.inNG = true;
        _this.inNGAndH = false;
        _this.inNGAndV = false;
        _this.inBonusAndH = false;
        _this.inBonusAndV = false;
        _this.inFGAndH = false;
        _this.inFGAndV = false;
        _this.inSpecialMode3AndH = false;
        _this.inSpecialMode3AndV = false;
        _this.inSpecialMode4AndH = false;
        _this.inSpecialMode4AndV = false;
        _this.displayStartPageH = false;
        _this.displayStartPageV = false;
        return _this;
      }
      UIDataBase.prototype.doPre = function() {
        var _this = this;
        this.registComputed("isPCH", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.PC_HORIZONTAL;
        });
        this.registComputed("isM", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL || _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isMH", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_HORIZONTAL;
        });
        this.registComputed("isMV", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inNG", [ "inBonus", "inFG", "inSpecialMode3", "inSpecialMode4" ], function() {
          return !(_this.inBonus || _this.inFG || _this.inSpecialMode3 || _this.inSpecialMode4);
        });
        this.registComputed("inNGAndH", [ "inNG", "layout" ], function() {
          return _this.inNG && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inNGAndV", [ "inNG", "layout" ], function() {
          return _this.inNG && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inBonusAndH", [ "inBonus", "layout" ], function() {
          return _this.inBonus && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inBonusAndV", [ "inBonus", "layout" ], function() {
          return _this.inBonus && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inFGAndH", [ "inFG", "layout" ], function() {
          return _this.inFG && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inFGAndV", [ "inFG", "layout" ], function() {
          return _this.inFG && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode3AndH", [ "inSpecialMode3", "layout" ], function() {
          return _this.inSpecialMode3 && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode3AndV", [ "inSpecialMode3", "layout" ], function() {
          return _this.inSpecialMode3 && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode4AndH", [ "inSpecialMode4", "layout" ], function() {
          return _this.inSpecialMode4 && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("inSpecialMode4AndV", [ "inSpecialMode4", "layout" ], function() {
          return _this.inSpecialMode4 && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isH", [ "layout" ], function() {
          return _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("isV", [ "layout" ], function() {
          return _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("displayStartPageH", [ "displayStartPage", "layout" ], function() {
          return _this.displayStartPage && _this.layout !== ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
        this.registComputed("displayStartPageV", [ "displayStartPage", "layout" ], function() {
          return _this.displayStartPage && _this.layout === ResizeGlobal_1.UI_LAYOUT.MOBILE_VERTICAL;
        });
      };
      UIDataBase = __decorate([ ccclass ], UIDataBase);
      return UIDataBase;
    }(ColDataBase_1.default);
    exports.default = UIDataBase;
    cc._RF.pop();
  }, {
    "../ResizeGlobal": "ResizeGlobal",
    "../data/ColDataBase": "ColDataBase"
  } ],
  UIToggle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "79095D00dhBLZMMkK7H0EW5", "UIToggle");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var CommonButton_1 = require("./CommonButton");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIToggle = function(_super) {
      __extends(UIToggle, _super);
      function UIToggle() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodes = [];
        _this.refCommonButton = null;
        _this.able = false;
        _this.loaded = false;
        return _this;
      }
      UIToggle.prototype.onLoad = function() {
        this.pre();
      };
      UIToggle.prototype.pre = function() {
        if (this.loaded) return;
        this.nodes.length || this.nodes.push(this.node);
        this.able = this.node.active;
        this.refreshCommonButton(this.able);
      };
      UIToggle.prototype.refreshCommonButton = function(able) {
        if (this.refCommonButton) {
          this.refCommonButton.isChecked = able;
          this.refCommonButton.keepBright = able;
        }
      };
      UIToggle.prototype.toggle = function(able) {
        void 0 === able && (able = !this.able);
        this.pre();
        this.nodes.map(Utils_1.nodeActive(able));
        this.able = able;
        this.refreshCommonButton(able);
      };
      UIToggle.prototype.onClick = function() {
        this.toggle();
      };
      UIToggle.prototype.onCloseClick = function() {
        this.toggle(false);
      };
      UIToggle.prototype.onOpenClick = function() {
        this.toggle(true);
      };
      __decorate([ property([ cc.Node ]) ], UIToggle.prototype, "nodes", void 0);
      __decorate([ property(CommonButton_1.default) ], UIToggle.prototype, "refCommonButton", void 0);
      UIToggle = __decorate([ ccclass ], UIToggle);
      return UIToggle;
    }(cc.Component);
    exports.default = UIToggle;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils",
    "./CommonButton": "CommonButton"
  } ],
  UpdatePositionSlider: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b4a1tP++dE25bH/nrvoG+0", "UpdatePositionSlider");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../utils/Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UpdatePositionSlider = function(_super) {
      __extends(UpdatePositionSlider, _super);
      function UpdatePositionSlider() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.backgroundNode = null;
        return _this;
      }
      UpdatePositionSlider.prototype.updateHandlePosition = function(progress) {
        this.progress = progress;
        this._updateHandlePosition();
        if (this.backgroundNode) {
          var w = this.node.width;
          this.backgroundNode.width = Utils_1.lowerThen(1, progress) * w;
        }
      };
      __decorate([ property(cc.Node) ], UpdatePositionSlider.prototype, "backgroundNode", void 0);
      UpdatePositionSlider = __decorate([ ccclass ], UpdatePositionSlider);
      return UpdatePositionSlider;
    }(cc.Slider);
    exports.default = UpdatePositionSlider;
    cc._RF.pop();
  }, {
    "../utils/Utils": "Utils"
  } ],
  User: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "49ed0/q+LJLDawfT8Og8LG2", "User");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var User = function() {
      function User(name, imgsrc, platfromBalance, balance) {
        void 0 === name && (name = "Guest");
        void 0 === imgsrc && (imgsrc = "");
        void 0 === platfromBalance && (platfromBalance = 0);
        void 0 === balance && (balance = 0);
        this.name = name;
        this.imgsrc = imgsrc;
        this.platfromBalance = platfromBalance;
        this.balance = balance;
        this.tableLevel = 0;
        this.tableBackground = 0;
      }
      User.prototype.setPlatfromBalance = function(balance) {
        this.platfromBalance = balance;
      };
      User.prototype.getPlatfromBalance = function() {
        return this.platfromBalance;
      };
      User.prototype.getName = function() {
        return this.name;
      };
      User.prototype.setName = function(name) {
        this.name = name;
      };
      User.prototype.getImgsrc = function() {
        return this.imgsrc;
      };
      User.prototype.setImgsrc = function(imgsrc) {
        this.imgsrc = imgsrc;
      };
      return User;
    }();
    exports.default = User;
    cc._RF.pop();
  }, {} ],
  Utils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7b97fqHgqBCBIvQcAWN7QNY", "Utils");
    "use strict";
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.arraySplice = exports.biggerThen = exports.lowerThen = exports.noop = exports.identity = exports.toNaturalNumber = exports.sumReducer = exports.toObjectAccumulateReducer = exports.toObjectReducer = exports.randomItem = exports.random = exports.range = exports.range2 = exports.flattenDeep = exports.onlyUnique = exports.dataURIToBlob = exports.downloadUrl = exports.downloadText = exports.downloadBlob = exports.isCollision = exports.colliderToWorldX = exports.circleColliderToWorldCircle = exports.boxColliderToWorldPoints = exports.randomInCollider = exports.colliderBox = exports.mathMin = exports.mathMax = exports.randomInPloygonCollider = exports.polygonColliderToWorldPoints = exports.getWorldPosition = exports.getPosition = exports.setPosition = exports.copyNodeProperty = exports.copyProperty = exports.nodeProperty = exports.lazy = exports.nodeColor = exports.nodeOpacity = exports.nodeActive = exports.radiansToDegrees = exports.degreesToRadians = exports.getSceneUuid = exports.replaceParamVal = exports.parseURLParams = exports.clientTimeSecend = exports.diffNowSec = exports.clientTime2ServerTime = exports.serverTime2ClientTime = exports.clientTimeDifferenceServerTime = exports.serverTime2ClientTimeDiff = void 0;
    exports.vec3ToVec2 = exports.fetchPing = exports.getFetch = exports.getUuid = exports.padEnd = exports.padStart = exports.debugDeltaScale = exports.isVIVO = exports.colliderDebugDraw = exports.ccGameRemovePause = exports.uint8ArrayToString = exports.stringToUint8Array = exports.computeControlPoints = exports.calculateControlPoints = exports.pointOnCubicBezier = exports.shuffle = exports.fixMK = exports.fixK = exports.fixThousandthMK = exports.fixThousandthK = exports.fixThousandth = exports.fixThousandth2 = exports.fixBalanceThousandth = exports.fixBalanceNumber = exports.fixBalance = exports.fixAmountNumber = exports.safePlus = exports.safeDiv = exports.safeTimes = exports.setBalanceDecimal = exports.BALANCE_DECIMAL = exports.getHistoryUrl = exports.isString = exports.isNone = exports.isUndefined = exports.isFunction = exports.ccFindCreator = exports.cacheObjContainskey = exports.loop2ArrayWithMinLength = exports.loop2ArrayWithMaxLength = void 0;
    var SERVER_TIME_PRECISION = 1e6;
    if (!window.cc) {
      window.cc = {};
      window.CC_DEBUG = true;
    }
    function serverTime2ClientTimeDiff(time, diffTime) {
      return Number((time / SERVER_TIME_PRECISION).toFixed(0)) + diffTime;
    }
    exports.serverTime2ClientTimeDiff = serverTime2ClientTimeDiff;
    function clientTimeDifferenceServerTime(clientTime, serverTime) {
      return clientTime - this.serverTime2ClientTime(serverTime);
    }
    exports.clientTimeDifferenceServerTime = clientTimeDifferenceServerTime;
    function serverTime2ClientTime(time) {
      return Number((time / SERVER_TIME_PRECISION).toFixed(0));
    }
    exports.serverTime2ClientTime = serverTime2ClientTime;
    function clientTime2ServerTime(time) {
      return time * SERVER_TIME_PRECISION;
    }
    exports.clientTime2ServerTime = clientTime2ServerTime;
    function diffNowSec(time, decimal) {
      void 0 === decimal && (decimal = 0);
      return Number(((time - Date.now()) / 1e3).toFixed(decimal));
    }
    exports.diffNowSec = diffNowSec;
    function clientTimeSecend(time) {
      return Number((time / 1e3).toFixed(0));
    }
    exports.clientTimeSecend = clientTimeSecend;
    function parseURLParams(url) {
      var queryStart = url.indexOf("?") + 1;
      var queryEnd = url.indexOf("#") + 1 || url.length + 1;
      var query = url.slice(queryStart, queryEnd - 1);
      var pairs = query.replace(/\+/g, " ").split("&");
      var parms = {};
      var i;
      var n;
      var v;
      var nv;
      if (query === url || "" === query) return parms;
      for (i = 0; i < pairs.length; i += 1) {
        nv = pairs[i].split("=", 2);
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);
        parms.hasOwnProperty(n) || (parms[n] = []);
        parms[n].push(2 === nv.length ? v : null);
      }
      return parms;
    }
    exports.parseURLParams = parseURLParams;
    function replaceParamVal(oUrl, paramName, replaceWith) {
      if (-1 === oUrl.indexOf("?")) return oUrl + "?" + paramName + "=" + replaceWith;
      if (-1 === oUrl.indexOf("?" + paramName + "=") && -1 === oUrl.indexOf("&" + paramName + "=")) return oUrl + "&" + paramName + "=" + replaceWith;
      var re = new RegExp("(" + paramName + "=)([^&]*)", "gi");
      return oUrl.replace(re, paramName + "=" + replaceWith);
    }
    exports.replaceParamVal = replaceParamVal;
    function getSceneUuid(sceneName) {
      var director = cc.director;
      return director._getSceneUuid(sceneName);
    }
    exports.getSceneUuid = getSceneUuid;
    function degreesToRadians(rotation) {
      return rotation * cc.macro.RAD;
    }
    exports.degreesToRadians = degreesToRadians;
    function radiansToDegrees(rotation) {
      return rotation * cc.macro.DEG;
    }
    exports.radiansToDegrees = radiansToDegrees;
    var POINT_EPSILON = parseFloat("1.192092896e-07F");
    function nodeActive(active) {
      return nodeProperty("active", active);
    }
    exports.nodeActive = nodeActive;
    function nodeOpacity(opacity) {
      return nodeProperty("opacity", opacity);
    }
    exports.nodeOpacity = nodeOpacity;
    function nodeColor(colorOrR, g, b) {
      void 0 === g && (g = 255);
      void 0 === b && (b = 255);
      var color;
      color = colorOrR instanceof cc.Color ? colorOrR : cc.color(colorOrR, g, b);
      return nodeProperty("color", color);
    }
    exports.nodeColor = nodeColor;
    function lazy(fn) {
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
        return function() {
          return fn.apply(void 0, args);
        };
      };
    }
    exports.lazy = lazy;
    function nodeProperty(property, value) {
      return function(node) {
        node && node[property] !== value && (node[property] = value);
      };
    }
    exports.nodeProperty = nodeProperty;
    function copyProperty(source, target, propertys, escapeEmpty) {
      void 0 === escapeEmpty && (escapeEmpty = false);
      propertys.forEach(function(key) {
        var v = source[key];
        if (escapeEmpty) if (v instanceof cc.Color && source instanceof cc.Node) {
          if (0 === source.opacity) return;
        } else if (!v) return;
        target[key] = source[key];
      });
    }
    exports.copyProperty = copyProperty;
    function copyNodeProperty(source, target, propertys, escapeEmpty) {
      void 0 === propertys && (propertys = [ "color", "x", "y" ]);
      void 0 === escapeEmpty && (escapeEmpty = false);
      copyProperty(source, target, propertys, escapeEmpty);
    }
    exports.copyNodeProperty = copyNodeProperty;
    function setPosition(setNode, refNode) {
      if (setNode.parent && refNode.parent) {
        var pos = getPosition(refNode, setNode.parent);
        setNode.setPosition(pos);
      }
    }
    exports.setPosition = setPosition;
    function getPosition(node, parentNode) {
      var worldPos = getWorldPosition(node);
      return parentNode.convertToNodeSpaceAR(worldPos);
    }
    exports.getPosition = getPosition;
    function getWorldPosition(node) {
      return node.parent.convertToWorldSpaceAR(node.getPosition());
    }
    exports.getWorldPosition = getWorldPosition;
    function polygonColliderToWorldPoints(collier) {
      var world = collier.world;
      return world.points;
    }
    exports.polygonColliderToWorldPoints = polygonColliderToWorldPoints;
    function randomInPloygonCollider(collider, _a) {
      var _b = void 0 === _a ? [ 0, 0 ] : _a, w = _b[0], h = _b[1];
      var points = collider.points.map(function(p) {
        return new cc.Vec2(p.x > 0 ? biggerThen(0, p.x - w) : lowerThen(0, p.x + w), p.y > 0 ? biggerThen(0, p.y - h) : lowerThen(0, p.y + h));
      });
      var box = points.reduce(function(o, p) {
        p.x < o.xMin && (o.xMin = p.x);
        p.x > o.xMax && (o.xMax = p.x);
        p.y < o.yMin && (o.yMin = p.y);
        p.y > o.yMax && (o.yMax = p.y);
        return o;
      }, {
        xMin: Infinity,
        xMax: -Infinity,
        yMin: Infinity,
        yMax: -Infinity
      });
      var vec2 = new cc.Vec2(random(box.xMin, box.xMax), random(box.yMin, box.yMax));
      while (!cc.Intersection.pointInPolygon(vec2, points)) {
        vec2.x = random(box.xMin, box.xMax);
        vec2.y = random(box.yMin, box.yMax);
      }
      return vec2;
    }
    exports.randomInPloygonCollider = randomInPloygonCollider;
    function mathMax(nums) {
      return Math.max.apply(Math, nums);
    }
    exports.mathMax = mathMax;
    function mathMin(nums) {
      return Math.min.apply(Math, nums);
    }
    exports.mathMin = mathMin;
    function colliderBox(collider) {
      if (collider instanceof cc.CircleCollider) return cc.size(collider.radius, collider.radius);
      if (collider instanceof cc.PolygonCollider) {
        var xs = collider.points.map(function(p) {
          return p.x;
        });
        var ys = collider.points.map(function(p) {
          return p.y;
        });
        return cc.size(mathMax(xs) - mathMin(xs), mathMax(ys) - mathMin(ys));
      }
      if (collider instanceof cc.BoxCollider) return collider.size;
      LibGlobal_1.warn("Can't get collider", collider);
    }
    exports.colliderBox = colliderBox;
    function randomInCollider(collider, _a) {
      var _b = void 0 === _a ? [ 0, 0 ] : _a, w = _b[0], h = _b[1];
      if (collider instanceof cc.PolygonCollider) return randomInPloygonCollider(collider, [ w, h ]);
      return new cc.Vec2(0, 0);
    }
    exports.randomInCollider = randomInCollider;
    function boxColliderToWorldPoints(collier) {
      var world = collier.world;
      return world.points;
    }
    exports.boxColliderToWorldPoints = boxColliderToWorldPoints;
    function circleColliderToWorldCircle(collier) {
      var world = collier.world;
      return {
        position: world.position,
        radius: world.radius
      };
    }
    exports.circleColliderToWorldCircle = circleColliderToWorldCircle;
    function colliderToWorldX(collider) {
      if (collider instanceof cc.CircleCollider) return circleColliderToWorldCircle(collider);
      if (collider instanceof cc.PolygonCollider) return polygonColliderToWorldPoints(collider);
      if (collider instanceof cc.BoxCollider) return boxColliderToWorldPoints(collider);
      LibGlobal_1.warn("Can't get collider", collider);
    }
    exports.colliderToWorldX = colliderToWorldX;
    function isCollision(aa, bb) {
      var ll = (aa.radius ? "1" : "0") + (bb.radius ? "1" : "0");
      var tag = false;
      switch (ll) {
       case "11":
        tag = cc.Intersection.circleCircle(aa, bb);
        break;

       case "10":
        tag = cc.Intersection.polygonCircle(bb, aa);
        break;

       case "01":
        tag = cc.Intersection.polygonCircle(aa, bb);
        break;

       case "00":
        tag = cc.Intersection.polygonPolygon(aa, bb);
      }
      return tag;
    }
    exports.isCollision = isCollision;
    function downloadBlob(blob, name) {
      this.downloadUrl(URL.createObjectURL(blob), name);
    }
    exports.downloadBlob = downloadBlob;
    function downloadText(text, name, type) {
      this.downloadBlob(new Blob([ text ], {
        type: type
      }), name);
    }
    exports.downloadText = downloadText;
    function downloadUrl(url, name) {
      var a = document.createElement("a");
      a.href = url;
      a.download = name;
      a.click();
      setTimeout(function() {
        window.URL.revokeObjectURL(a.href);
        a.remove();
      }, 500);
    }
    exports.downloadUrl = downloadUrl;
    function dataURIToBlob(dataURI) {
      var binStr = atob(dataURI.split(",")[1]);
      var len = binStr.length;
      var arr = new Uint8Array(len);
      for (var i = 0; i < len; i += 1) arr[i] = binStr.charCodeAt(i);
      return new Blob([ arr ]);
    }
    exports.dataURIToBlob = dataURIToBlob;
    function onlyUnique(value, index, self) {
      return self.indexOf(value) === index;
    }
    exports.onlyUnique = onlyUnique;
    function flattenDeep(nestedArray) {
      return [].concat(nestedArray).reduce(function(accu, val) {
        return Array.isArray(val) ? accu.concat(flattenDeep(val)) : accu.concat(val);
      }, []);
    }
    exports.flattenDeep = flattenDeep;
    function range2(l, r) {
      if (isNone(r)) return range(l);
      var len = Math.abs(l - r) + 1;
      var min = Math.min(l, r);
      var arr = range(len).map(function(i) {
        return i + min;
      });
      if (l > r) return arr.reverse();
      return arr;
    }
    exports.range2 = range2;
    function range(num) {
      if (num <= 0) return [];
      return Array.apply(null, Array(num)).map(function(_, i) {
        return i;
      });
    }
    exports.range = range;
    function random(from, to) {
      if (!to) {
        to = from - 1;
        from = 0;
      }
      return Math.floor(Math.random() * (to - from + 1) + from);
    }
    exports.random = random;
    function randomItem(items) {
      var idx = random(items.length);
      return items[idx];
    }
    exports.randomItem = randomItem;
    function toObjectReducer(keyOrFn, value) {
      var key = isFunction(keyOrFn) ? "" : keyOrFn;
      return function(obj, item) {
        var k = key;
        k = k ? item[key] : keyOrFn(item);
        obj[k] = value ? item[value] : item;
        return obj;
      };
    }
    exports.toObjectReducer = toObjectReducer;
    function toObjectAccumulateReducer(keyOrFn, valueKey) {
      var key = isFunction(keyOrFn) ? "" : keyOrFn;
      return function(obj, item) {
        var k = key;
        k = k ? item[key] : keyOrFn(item);
        obj[k] || (obj[k] = []);
        var val = item;
        valueKey && (val = item[valueKey]);
        obj[k].push(val);
        return obj;
      };
    }
    exports.toObjectAccumulateReducer = toObjectAccumulateReducer;
    function sumReducer(accu, a) {
      accu += a;
      return accu;
    }
    exports.sumReducer = sumReducer;
    function toNaturalNumber(idx) {
      return idx >= 0 ? idx : 0;
    }
    exports.toNaturalNumber = toNaturalNumber;
    function identity(value) {
      return value;
    }
    exports.identity = identity;
    function noop() {}
    exports.noop = noop;
    function lowerThen(max, num) {
      return num >= max ? max : num;
    }
    exports.lowerThen = lowerThen;
    function biggerThen(min, num) {
      return num <= min ? min : num;
    }
    exports.biggerThen = biggerThen;
    function arraySplice(array, any) {
      var idx = array.indexOf(any);
      -1 !== idx && array.splice(idx, 1);
    }
    exports.arraySplice = arraySplice;
    function loop2ArrayWithMaxLength(arr1, arr2, callback, opts) {
      var len1 = arr1.length;
      var len2 = arr2.length;
      var ret = [];
      for (var i = 0; i < len1 || i < len2; i += 1) {
        var a = arr1[i];
        var b = arr2[i];
        ret.push(callback(a, b, i, opts));
      }
      return ret;
    }
    exports.loop2ArrayWithMaxLength = loop2ArrayWithMaxLength;
    function loop2ArrayWithMinLength(arr1, arr2, callback, opts) {
      var len1 = arr1.length;
      var len2 = arr2.length;
      var ret = [];
      for (var i = 0; i < len1 && i < len2; i += 1) {
        var a = arr1[i];
        var b = arr2[i];
        ret.push(callback(a, b, i, opts));
      }
      return ret;
    }
    exports.loop2ArrayWithMinLength = loop2ArrayWithMinLength;
    var catchObj = new Map();
    function setCacheObj(key, any) {
      catchObj[key] = any;
    }
    function getCacheObj(key) {
      return catchObj[key];
    }
    function cacheObjContainskey(key) {
      return catchObj.has(key);
    }
    exports.cacheObjContainskey = cacheObjContainskey;
    function ccFindCreator(path, component) {
      return function() {
        var key = path + component;
        if (cacheObjContainskey(key)) return getCacheObj(key);
        var node = cc.find(path);
        if (node) {
          var comp = node.getComponent(component);
          if (comp) {
            setCacheObj(key, comp);
            return comp;
          }
          return null;
        }
        return null;
      };
    }
    exports.ccFindCreator = ccFindCreator;
    function isFunction(fn) {
      return "function" === typeof fn;
    }
    exports.isFunction = isFunction;
    function isUndefined(input) {
      return "undefined" === typeof input;
    }
    exports.isUndefined = isUndefined;
    function isNone(input) {
      return "undefined" === typeof input || null === input;
    }
    exports.isNone = isNone;
    function isString(input) {
      return "string" === typeof input;
    }
    exports.isString = isString;
    function getHistoryUrl(url) {
      url = window.location.host;
      var newUrl = "";
      var hosts = url.split(".");
      hosts.length > 2 && hosts.shift();
      hosts.unshift("https://record");
      hosts.forEach(function(part) {
        newUrl = newUrl + part + ".";
      });
      newUrl = newUrl.substring(0, newUrl.length - 1);
      return newUrl;
    }
    exports.getHistoryUrl = getHistoryUrl;
    exports.BALANCE_DECIMAL = 2;
    var BALANCE_DECIMAL2 = 100;
    function setBalanceDecimal(decimal) {
      exports.BALANCE_DECIMAL = decimal;
      BALANCE_DECIMAL2 = 2 === decimal ? 100 : 1e3;
    }
    exports.setBalanceDecimal = setBalanceDecimal;
    var number_precision_1 = require("number-precision");
    var LibGlobal_1 = require("../LibGlobal");
    function safeTimes(a, b) {
      var o = [];
      for (var _i = 2; _i < arguments.length; _i++) o[_i - 2] = arguments[_i];
      return number_precision_1.default.times.apply(number_precision_1.default, __spreadArrays([ a, b ], o));
    }
    exports.safeTimes = safeTimes;
    function safeDiv(a, b) {
      var o = [];
      for (var _i = 2; _i < arguments.length; _i++) o[_i - 2] = arguments[_i];
      return number_precision_1.default.divide.apply(number_precision_1.default, __spreadArrays([ a, b ], o));
    }
    exports.safeDiv = safeDiv;
    function safePlus(a, b) {
      var o = [];
      for (var _i = 2; _i < arguments.length; _i++) o[_i - 2] = arguments[_i];
      return number_precision_1.default.plus.apply(number_precision_1.default, __spreadArrays([ a, b ], o));
    }
    exports.safePlus = safePlus;
    function fixAmountNumber(num, decimal) {
      void 0 === decimal && (decimal = exports.BALANCE_DECIMAL);
      return number_precision_1.default.times(num, 1e4);
    }
    exports.fixAmountNumber = fixAmountNumber;
    function killLast(str, last) {
      void 0 === last && (last = "0");
      var strLast = str[str.length - 1];
      return strLast === last ? str.substring(0, str.length - 1) : str;
    }
    function fixBalance(num, decimal) {
      void 0 === decimal && (decimal = exports.BALANCE_DECIMAL);
      var tempNum = number_precision_1.default.divide(number_precision_1.default.times(num, BALANCE_DECIMAL2), 1e4);
      tempNum = tempNum > 0 ? Math.floor(tempNum) : Math.ceil(tempNum);
      tempNum = number_precision_1.default.divide(tempNum, BALANCE_DECIMAL2);
      return tempNum.toFixed(decimal);
    }
    exports.fixBalance = fixBalance;
    function fixBalanceNumber(num, decimal) {
      void 0 === decimal && (decimal = exports.BALANCE_DECIMAL);
      return Number(fixBalance(num, decimal));
    }
    exports.fixBalanceNumber = fixBalanceNumber;
    function fixBalanceThousandth(num, decimal) {
      void 0 === decimal && (decimal = exports.BALANCE_DECIMAL);
      return fixThousandth(fixBalance(num, decimal));
    }
    exports.fixBalanceThousandth = fixBalanceThousandth;
    function fixThousandth2(num, decimal) {
      void 0 === decimal && (decimal = exports.BALANCE_DECIMAL);
      return fixThousandth(num.toFixed(decimal));
    }
    exports.fixThousandth2 = fixThousandth2;
    function fixThousandth(str) {
      var parts = str.split(".");
      parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      return parts.join(".");
    }
    exports.fixThousandth = fixThousandth;
    function fixThousandthK(num) {
      if (num >= 1e3) {
        var n = number_precision_1.default.divide(num, 1e3);
        return fixThousandth(n + "") + "K";
      }
      return num + "";
    }
    exports.fixThousandthK = fixThousandthK;
    function fixThousandthMK(num) {
      if (num >= 1e6) {
        var n = number_precision_1.default.divide(num, 1e6);
        return fixThousandth(n + "") + "M";
      }
      if (num >= 1e3) {
        var n = number_precision_1.default.divide(num, 1e3);
        return fixThousandth(n + "") + "K";
      }
      return "" + num;
    }
    exports.fixThousandthMK = fixThousandthMK;
    function fixK(num) {
      return num >= 1e3 ? number_precision_1.default.divide(num, 1e3) + "K" : "" + num;
    }
    exports.fixK = fixK;
    function fixMK(num) {
      return num >= 1e6 ? number_precision_1.default.divide(num, 1e6) + "M" : num >= 1e3 ? number_precision_1.default.divide(num, 1e3) + "K" : "" + num;
    }
    exports.fixMK = fixMK;
    function shuffle(arr) {
      var i;
      var j;
      var temp;
      for (i = arr.length - 1; i > 0; i -= 1) {
        j = Math.floor(Math.random() * (i + 1));
        temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
      }
      return arr;
    }
    exports.shuffle = shuffle;
    function pointOnCubicBezier(t) {
      var points = [];
      for (var _i = 1; _i < arguments.length; _i++) points[_i - 1] = arguments[_i];
      try {
        var result = new cc.Vec2();
        var n = points.length - 1;
        var rx = 0;
        var ry = 0;
        for (var i = 0; i < points.length; i += 1) {
          var px = n;
          0 !== i && i !== n || (px = 1);
          var dd0 = Math.pow(1 - t, n - i);
          var dd1 = Math.pow(t, i);
          rx += px * dd0 * dd1 * points[i].x;
          ry += px * dd0 * dd1 * points[i].y;
        }
        result.x = rx;
        result.y = ry;
        return result;
      } catch (error) {
        LibGlobal_1.log(t, points);
      }
    }
    exports.pointOnCubicBezier = pointOnCubicBezier;
    function calculateControlPoints(pos) {
      var ctrlPoints = computeControlPoints(pos);
      return flattenDeep(pos.map(function(vec2, i) {
        return i < pos.length - 1 ? [ vec2, ctrlPoints[0][i], ctrlPoints[1][i] ] : [ vec2 ];
      }));
    }
    exports.calculateControlPoints = calculateControlPoints;
    function computeControlPoints(pos) {
      var rtn = [];
      rtn[0] = [];
      rtn[1] = [];
      var n = pos.length - 1;
      var a = [];
      var b = [];
      var c = [];
      var r = [];
      a[0] = 0;
      b[0] = 2;
      c[0] = 1;
      r[0] = new cc.Vec2();
      r[0].x = pos[0].x + 2 * pos[1].x;
      r[0].y = pos[0].y + 2 * pos[1].y;
      for (var i = 1; i < n - 1; i += 1) {
        a[i] = 1;
        b[i] = 4;
        c[i] = 1;
        r[i] = new cc.Vec2();
        r[i].x = 4 * pos[i].x + 2 * pos[i + 1].x;
        r[i].y = 4 * pos[i].y + 2 * pos[i + 1].y;
      }
      a[n - 1] = 2;
      b[n - 1] = 7;
      c[n - 1] = 0;
      r[n - 1] = new cc.Vec2();
      r[n - 1].x = 8 * pos[n - 1].x + pos[n].x;
      r[n - 1].y = 8 * pos[n - 1].y + pos[n].y;
      for (var i = 1; i < n; i += 1) {
        var m = a[i] / b[i - 1];
        b[i] = b[i] - m * c[i - 1];
        r[i].x = r[i].x - m * r[i - 1].x;
        r[i].y = r[i].y - m * r[i - 1].y;
      }
      rtn[0][n - 1] = new cc.Vec2();
      rtn[0][n - 1].x = r[n - 1].x / b[n - 1];
      rtn[0][n - 1].y = r[n - 1].y / b[n - 1];
      for (var i = n - 2; i >= 0; i -= 1) {
        rtn[0][i] = new cc.Vec2();
        rtn[0][i].x = (r[i].x - c[i] * rtn[0][i + 1].x) / b[i];
        rtn[0][i].y = (r[i].y - c[i] * rtn[0][i + 1].y) / b[i];
      }
      for (var i = 0; i < n - 1; i += 1) {
        rtn[1][i] = new cc.Vec2();
        rtn[1][i].x = 2 * pos[i + 1].x - rtn[0][i + 1].x;
        rtn[1][i].y = 2 * pos[i + 1].y - rtn[0][i + 1].y;
      }
      rtn[1][n - 1] = new cc.Vec2();
      rtn[1][n - 1].x = .5 * (pos[n].x + rtn[0][n - 1].x);
      rtn[1][n - 1].y = .5 * (pos[n].y + rtn[0][n - 1].y);
      return rtn;
    }
    exports.computeControlPoints = computeControlPoints;
    function stringToUint8Array(str) {
      var arr = [];
      for (var i = 0, j = str.length; i < j; i += 1) arr.push(str.charCodeAt(i));
      var tmpUint8Array = new Uint8Array(arr);
      return tmpUint8Array;
    }
    exports.stringToUint8Array = stringToUint8Array;
    function uint8ArrayToString(fileData) {
      var dataString = "";
      for (var i = 0; i < fileData.length; i += 1) dataString += String.fromCharCode(fileData[i]);
      return dataString;
    }
    exports.uint8ArrayToString = uint8ArrayToString;
    function ccGameRemovePause() {
      cc.game.setFrameRate(59);
      cc.game.pause = function() {};
      cc.game.resume = function() {};
    }
    exports.ccGameRemovePause = ccGameRemovePause;
    function colliderDebugDraw(able) {
      void 0 === able && (able = true);
      var m = cc.director.getCollisionManager();
      m.enabled = true;
      m.enabledDebugDraw = able;
    }
    exports.colliderDebugDraw = colliderDebugDraw;
    function isVIVO() {
      if (-1 !== window.navigator.userAgent.toLowerCase().indexOf("vivo")) {
        LibGlobal_1.log("vivo");
        return true;
      }
      LibGlobal_1.log("not vivo");
      return false;
    }
    exports.isVIVO = isVIVO;
    function debugDeltaScale(deltaScale) {
      cc.director.calculateDeltaTime = function(now) {
        now || (now = performance.now());
        this._deltaTime = (now - this._lastUpdate) / 1e3;
        this._deltaTime *= deltaScale;
        this._lastUpdate = now;
      };
    }
    exports.debugDeltaScale = debugDeltaScale;
    function padStart(str, maxLength, fillString) {
      maxLength = Math.floor(maxLength) || 0;
      if (maxLength < str.length) return String(str);
      fillString = fillString ? String(fillString) : " ";
      var pad = "";
      var len = maxLength - str.length;
      var i = 0;
      while (pad.length < len) {
        fillString[i] || (i = 0);
        pad += fillString[i];
        i += 1;
      }
      return pad + String(str).slice(0);
    }
    exports.padStart = padStart;
    function padEnd(str, maxLength, fillString) {
      maxLength = Math.floor(maxLength) || 0;
      if (maxLength < str.length) return String(str);
      fillString = fillString ? String(fillString) : " ";
      var pad = "";
      var len = maxLength - str.length;
      var i = 0;
      while (pad.length < len) {
        fillString[i] || (i = 0);
        pad += fillString[i];
        i += 1;
      }
      return String(str).slice(0) + pad;
    }
    exports.padEnd = padEnd;
    function getUuid() {
      return "xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g, function(c) {
        var r = 16 * Math.random() | 0, v = "x" === c ? r : 3 & r | 8;
        return v.toString(16);
      });
    }
    exports.getUuid = getUuid;
    function getFetch(url) {
      return fetch(url, {
        credentials: "same-origin",
        headers: {
          "content-type": "application/json"
        },
        method: "GET",
        mode: "no-cors",
        redirect: "follow"
      });
    }
    exports.getFetch = getFetch;
    function fetchPing(args) {
      var href = parseURLParams(window.location.href);
      var host = "";
      href["host"] && (host = href["host"][0]);
      if (!host) return;
      var token = "";
      href["token"] && (token = href["token"][0]);
      var uuid = "";
      var tokens = token.split(".");
      uuid = 3 === tokens.length && tokens[1].length >= 56 && tokens[2].length >= 8 ? tokens[1].slice(40, 56) + tokens[2].slice(0, 8) : getUuid();
      var ur1 = "https://asia-east2-prod-game-226507.cloudfunctions.net/report?host=" + host + "&uuid=" + uuid + (args ? "&" + args : "");
      var ur2 = host + "?host=" + host + "&uuid=" + uuid + (args ? "&" + args : "");
      LibGlobal_1.log("ping", ur1);
      getFetch(ur1);
      LibGlobal_1.log("ping", ur2);
      getFetch(ur2);
    }
    exports.fetchPing = fetchPing;
    function vec3ToVec2(vec3) {
      return cc.v2(vec3);
    }
    exports.vec3ToVec2 = vec3ToVec2;
    cc._RF.pop();
  }, {
    "../LibGlobal": "LibGlobal",
    "number-precision": 32
  } ],
  WeakMapData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "590d2GSKExIA7wzpUSf9yTP", "WeakMapData");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var ccclass = cc._decorator.ccclass;
    var WeakMapData = function(_super) {
      __extends(WeakMapData, _super);
      function WeakMapData() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.weakMap = new WeakMap();
        return _this;
      }
      WeakMapData.prototype.clear = function() {
        this.weakMap = new WeakMap();
      };
      WeakMapData.prototype.delete = function(k) {
        return this.weakMap.delete(k);
      };
      WeakMapData.prototype.get = function(k) {
        return this.weakMap.get(k);
      };
      WeakMapData.prototype.has = function(k) {
        return this.weakMap.has(k);
      };
      WeakMapData.prototype.set = function(k, v) {
        this.weakMap.set(k, v);
        return this;
      };
      WeakMapData = __decorate([ ccclass ], WeakMapData);
      return WeakMapData;
    }(cc.Component);
    exports.default = WeakMapData;
    cc._RF.pop();
  }, {} ],
  WebViewGlobal: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "022acV/zIlFMY8+HLOsqVVe", "WebViewGlobal");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.exitApp = exports.convertLang = exports.downloadGame = exports.checkGame = exports.registMessage = exports.WebViewMessage = exports.webViewMode = void 0;
    var IframeGlobal_1 = require("../IframeGlobal");
    var LibGlobal_1 = require("../LibGlobal");
    function webViewMode() {
      var extra = IframeGlobal_1.getHrefURLParams("extra");
      return "9" === extra && Boolean(window.webview && window.webview.gameKick);
    }
    exports.webViewMode = webViewMode;
    window.addEventListener("message", receiveMessageFromIndex, false);
    var WebViewMessage = function() {
      function WebViewMessage(method, data) {
        void 0 === method && (method = "");
        void 0 === data && (data = null);
        this.method = method;
        this.data = data;
      }
      return WebViewMessage;
    }();
    exports.WebViewMessage = WebViewMessage;
    var listeners = [];
    function receiveMessageFromIndex(e) {
      if (!IframeGlobal_1.hasWindowParent()) return;
      try {
        var param = JSON.parse(e.data);
        var wm = new WebViewMessage(param.method, param.data);
        var l = listeners.length;
        for (var i = 0; i < l; i += 1) {
          var listener = listeners[i];
          listener.onMessage(wm);
        }
      } catch (e) {
        LibGlobal_1.error(e);
      }
    }
    function registMessage(listener) {
      if (!webViewMode()) return;
      listeners.push(listener);
    }
    exports.registMessage = registMessage;
    function checkGame(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "checkGame",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.checkGame = checkGame;
    function downloadGame(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "downloadGame",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.downloadGame = downloadGame;
    function convertLang(gameID, language, priority) {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "convertLang",
          gid: gameID,
          lang: language,
          pri: priority
        }
      }), "*");
    }
    exports.convertLang = convertLang;
    function exitApp() {
      IframeGlobal_1.hasWindowParent() && window.parent.postMessage(JSON.stringify({
        method: "webview",
        data: {
          method: "exitApp",
          gid: "",
          lang: "",
          pri: 0
        }
      }), "*");
    }
    exports.exitApp = exitApp;
    cc._RF.pop();
  }, {
    "../IframeGlobal": "IframeGlobal",
    "../LibGlobal": "LibGlobal"
  } ],
  WidgetSizeLimited: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "84024sTHpFKFoGqIZz+vsZf", "WidgetSizeLimited");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent, executionOrder = _a.executionOrder;
    var WidgetSizeLimited = function(_super) {
      __extends(WidgetSizeLimited, _super);
      function WidgetSizeLimited() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.limit = cc.size(2048, 0);
        return _this;
      }
      WidgetSizeLimited.prototype.onLoad = function() {
        var w = this.getComponent(cc.Widget);
        w.alignMode = cc.Widget.AlignMode.ON_WINDOW_RESIZE;
      };
      WidgetSizeLimited.prototype.onEnable = function() {
        var n = this.node;
        n.on(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      WidgetSizeLimited.prototype.onDisable = function() {
        var n = this.node;
        n.off(cc.Node.EventType.SIZE_CHANGED, this.resize, this);
      };
      WidgetSizeLimited.prototype.resize = function() {
        var n = this.node;
        var l = this.limit;
        l.width && n.width > l.width && (n.width = l.width);
        l.height && n.height > l.height && (n.height = l.height);
      };
      __decorate([ property(cc.Size) ], WidgetSizeLimited.prototype, "limit", void 0);
      WidgetSizeLimited = __decorate([ ccclass, requireComponent(cc.Widget), executionOrder(1) ], WidgetSizeLimited);
      return WidgetSizeLimited;
    }(cc.Component);
    exports.default = WidgetSizeLimited;
    cc._RF.pop();
  }, {} ],
  WidgetWebView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f4db0o0qUdOFZgnWr7uut36", "WidgetWebView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var WidgetWebView = function(_super) {
      __extends(WidgetWebView, _super);
      function WidgetWebView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.leftTop = new cc.Vec2(0, 0);
        _this.rightBottom = new cc.Vec2(0, 0);
        _this.scale = 1;
        return _this;
      }
      WidgetWebView.prototype.update = function() {
        false;
        this._impl && this.updateTransform();
      };
      WidgetWebView.prototype.updateTransform = function() {
        false;
        var ratio = 1 / cc.view.getDevicePixelRatio();
        var rect = cc.view.getViewportRect();
        var scaleX = cc.view.getScaleX();
        var scaleY = cc.view.getScaleY();
        var scale = scaleX * this.scale * ratio;
        var transfrom = "scale(" + scale + ")";
        var left = this.leftTop.x * scaleX * ratio + rect.x * ratio;
        var top = this.leftTop.y * scaleY * ratio + rect.y * ratio;
        var width = (rect.width * ratio - (this.rightBottom.x + this.leftTop.x) * scaleX * ratio) / scale;
        var height = (rect.height * ratio - (this.rightBottom.y + this.leftTop.y) * scaleX * ratio) / scale;
        var div = this._impl._div;
        if (div) {
          div.style.left = left + "px";
          div.style.top = top + "px";
          div.style.width = width + "px";
          div.style.height = height + "px";
          div.style.bottom = "";
          div.style["transform"] = transfrom;
          div.style["-webkit-transform"] = transfrom;
          div.style["transform-origin"] = "left top";
          div.style["-webkit-transform-origin"] = "left top";
        }
      };
      WidgetWebView.prototype.updateTransform2 = function() {};
      __decorate([ property(cc.Vec2) ], WidgetWebView.prototype, "leftTop", void 0);
      __decorate([ property(cc.Vec2) ], WidgetWebView.prototype, "rightBottom", void 0);
      __decorate([ property(cc.Integer) ], WidgetWebView.prototype, "scale", void 0);
      WidgetWebView = __decorate([ ccclass ], WidgetWebView);
      return WidgetWebView;
    }(cc.WebView);
    exports.default = WidgetWebView;
    cc._RF.pop();
  }, {} ],
  use_reversed_rotateTo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4e8f1SdtalJK6oTiRRyitmv", "use_reversed_rotateTo");
    "use strict";
    cc.RotateTo._reverse = true;
    cc._RF.pop();
  }, {} ]
}, {}, [ "use_reversed_rotateTo", "FileDrop", "Hover", "SpineDemo", "CurrencyGlobal", "I18nGlobal", "IframeGlobal", "LibGlobal", "ResizeGlobal", "StorageGlobal", "SlotAuto", "SlotAutoConfig", "SlotAutoContent", "CardBase", "CardFlip2", "CardsFlip2", "Alert", "AlphaCheckButton", "AnimatableProperty", "AnimationDelayPlay", "AnimationEventHandler", "AnimationWithAnimatableProperty", "Audio", "AudioAppend", "AutoRotation", "AutoToggleNode", "BezierPosition", "ButtonAudio", "ButtonInteractable", "CameraControl", "CollisionHandler", "CommonButton", "DefaultZIndex", "DragControl", "DragPoint", "GraphicsProfile", "GraphicsTable", "Handler", "I18nActive", "I18nLabel", "I18nManager", "I18nMeta", "I18nMetaActive", "I18nMetaFont", "I18nSprite", "IosHack", "ItemReusableScrollView", "KeyDownCtrl", "LayoutShrink", "LayoutShrinkLabel", "ListViewCtrl", "LoadAtlas", "LoadAtlasPageViewIndicator", "LoadAtlasSprite", "LoadScene", "LoadSceneConfig", "Loading", "LoopBackground", "Luzi", "LuziSource", "Mark", "Marquee", "Mask", "NetQuality", "NodeFollow", "NodeShrink", "NonePropagationComponent", "OnResizeManager", "OnResized", "PageViewIndicatorSprite", "ParentNode", "PersistRootNode", "Progress", "Record", "Repeat", "Road", "RoadSource", "Rotation", "Screenshot", "SpSkeletonConfig", "SpSkeletonHack", "SpSkeletonStatus", "SpriteFitWorldSize", "SpriteReload", "SpriteTiledHack", "SystemMenu", "SystemMenuConfig", "TemplateGenerator", "TextImage", "Toast", "TweenNode", "UIToggle", "UpdatePositionSlider", "WidgetSizeLimited", "WidgetWebView", "ColAnimation", "ColBase", "ColCallback", "ColComponentProperty", "ColDataBase", "ColEditBox", "ColFade", "ColFadeActive", "ColItemBase", "ColLabel", "ColLayout", "ColProperty", "ColPropertyEvent", "ColSlotUI", "ColSpSkeleton", "ColSpSkeleton2", "ColSpSkeletonAnimation", "ColSpine", "ColSprite", "ColSpriteFrame", "CommData", "JsonAssetLoader", "KeyAtlas", "KeyAudioClip", "KeyBitmapFont", "KeyCol", "KeyFrame", "KeyHandler", "KeyJsonAsset", "KeyNode", "KeyPrefab", "KeyStr", "LoginState", "NodeAction", "NodeTween", "PingData", "SpriteFrameData", "TableDataBase", "ToastData", "User", "WeakMapData", "InfoBase", "InfoConfigBase", "InfoLabel", "PrefabManager", "SlotInfo", "SlotInfoConfig", "ParticleProperty", "ParticleSystemBase", "MemberServiceBase", "RpcServiceBase", "CommunicationBase", "PromiseManager", "PromiseManager2", "PromiseUtil", "ResourcesCol", "ResourcesFont", "ResourcesImageAtlas", "ResourcesIndicator", "ResourcesInfoConfig", "ResourcesKeeper", "ResourcesLoader", "ResourcesLoaderAppend", "ResourcesMask", "ResourcesSprite", "SpriteFrameCache", "SpriteFrameCacheAppend", "SpriteFrameCacheAppend2", "SpriteFrameCacheSprite", "WebViewGlobal", "CiBase", "MonkeyBase", "BigWinBase", "CommonUI", "CommonUIData", "CommonUIManager", "CommonUIStyle", "CommonUIStyleCopy", "ForegroundBase", "InfoPage", "OptionPanel", "UIBase", "UIDataBase", "AutoPing", "CommListener", "Count", "ICCIinterface", "Utils", "Media", "NoSleep" ]);